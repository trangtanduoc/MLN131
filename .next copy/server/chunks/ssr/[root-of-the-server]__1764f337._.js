module.exports=[63652,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},6710,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},64924,(a,b,c)=>{"use strict";function d({widthInt:a,heightInt:b,blurWidth:c,blurHeight:d,blurDataURL:e,objectFit:f}){let g=c?40*c:a,h=d?40*d:b,i=g&&h?`viewBox='0 0 ${g} ${h}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${i}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${i?"none":"contain"===f?"xMidYMid":"cover"===f?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${e}'/%3E%3C/svg%3E`}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getImageBlurSvg",{enumerable:!0,get:function(){return d}})},94398,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={VALID_LOADERS:function(){return f},imageConfigDefault:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=["default","imgix","cloudinary","akamai","custom"],g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},83712,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getImgProps",{enumerable:!0,get:function(){return i}}),a.r(6710);let d=a.r(64924),e=a.r(94398),f=["-moz-initial","fill","none","scale-down",void 0];function g(a){return void 0!==a.default}function h(a){return void 0===a?a:"number"==typeof a?Number.isFinite(a)?a:NaN:"string"==typeof a&&/^[0-9]+$/.test(a)?parseInt(a,10):NaN}function i({src:a,sizes:b,unoptimized:c=!1,priority:i=!1,preload:j=!1,loading:k,className:l,quality:m,width:n,height:o,fill:p=!1,style:q,overrideSrc:r,onLoad:s,onLoadingComplete:t,placeholder:u="empty",blurDataURL:v,fetchPriority:w,decoding:x="async",layout:y,objectFit:z,objectPosition:A,lazyBoundary:B,lazyRoot:C,...D},E){var F;let G,H,I,{imgConf:J,showAltText:K,blurComplete:L,defaultLoader:M}=E,N=J||e.imageConfigDefault;if("allSizes"in N)G=N;else{let a=[...N.deviceSizes,...N.imageSizes].sort((a,b)=>a-b),b=N.deviceSizes.sort((a,b)=>a-b),c=N.qualities?.sort((a,b)=>a-b);G={...N,allSizes:a,deviceSizes:b,qualities:c}}if(void 0===M)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let O=D.loader||M;delete D.loader,delete D.srcSet;let P="__next_img_default"in O;if(P){if("custom"===G.loader)throw Object.defineProperty(Error(`Image with src "${a}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let a=O;O=b=>{let{config:c,...d}=b;return a(d)}}if(y){"fill"===y&&(p=!0);let a={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[y];a&&(q={...q,...a});let c={responsive:"100vw",fill:"100vw"}[y];c&&!b&&(b=c)}let Q="",R=h(n),S=h(o);if((F=a)&&"object"==typeof F&&(g(F)||void 0!==F.src)){let b=g(a)?a.default:a;if(!b.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(b)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!b.height||!b.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(b)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(H=b.blurWidth,I=b.blurHeight,v=v||b.blurDataURL,Q=b.src,!p)if(R||S){if(R&&!S){let a=R/b.width;S=Math.round(b.height*a)}else if(!R&&S){let a=S/b.height;R=Math.round(b.width*a)}}else R=b.width,S=b.height}let T=!i&&!j&&("lazy"===k||void 0===k);(!(a="string"==typeof a?a:Q)||a.startsWith("data:")||a.startsWith("blob:"))&&(c=!0,T=!1),G.unoptimized&&(c=!0),P&&!G.dangerouslyAllowSVG&&a.split("?",1)[0].endsWith(".svg")&&(c=!0);let U=h(m),V=Object.assign(p?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:z,objectPosition:A}:{},K?{}:{color:"transparent"},q),W=L||"empty"===u?null:"blur"===u?`url("data:image/svg+xml;charset=utf-8,${(0,d.getImageBlurSvg)({widthInt:R,heightInt:S,blurWidth:H,blurHeight:I,blurDataURL:v||"",objectFit:V.objectFit})}")`:`url("${u}")`,X=f.includes(V.objectFit)?"fill"===V.objectFit?"100% 100%":"cover":V.objectFit,Y=W?{backgroundSize:X,backgroundPosition:V.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:W}:{},Z=function({config:a,src:b,unoptimized:c,width:d,quality:e,sizes:f,loader:g}){if(c)return{src:b,srcSet:void 0,sizes:void 0};let{widths:h,kind:i}=function({deviceSizes:a,allSizes:b},c,d){if(d){let c=/(^|\s)(1?\d?\d)vw/g,e=[];for(let a;a=c.exec(d);)e.push(parseInt(a[2]));if(e.length){let c=.01*Math.min(...e);return{widths:b.filter(b=>b>=a[0]*c),kind:"w"}}return{widths:b,kind:"w"}}return"number"!=typeof c?{widths:a,kind:"w"}:{widths:[...new Set([c,2*c].map(a=>b.find(b=>b>=a)||b[b.length-1]))],kind:"x"}}(a,d,f),j=h.length-1;return{sizes:f||"w"!==i?f:"100vw",srcSet:h.map((c,d)=>`${g({config:a,src:b,quality:e,width:c})} ${"w"===i?c:d+1}${i}`).join(", "),src:g({config:a,src:b,quality:e,width:h[j]})}}({config:G,src:a,unoptimized:c,width:R,quality:U,sizes:b,loader:O}),$=T?"lazy":k;return{props:{...D,loading:$,fetchPriority:w,width:R,height:S,decoding:x,className:l,style:{...V,...Y},sizes:Z.sizes,srcSet:Z.srcSet,src:r||Z.src},meta:{unoptimized:c,preload:j||i,placeholder:u,fill:p}}}},86072,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return f}});let d=a.r(89982),e=()=>{};function f(a){let{headManager:b,reduceComponentsToState:c}=a;function f(){if(b&&b.mountedInstances){let a=d.Children.toArray(Array.from(b.mountedInstances).filter(Boolean));b.updateHead(c(a))}}return b?.mountedInstances?.add(a.children),f(),e(()=>(b?.mountedInstances?.add(a.children),()=>{b?.mountedInstances?.delete(a.children)})),e(()=>(b&&(b._pendingUpdate=f),()=>{b&&(b._pendingUpdate=f)})),null}},11208,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored.contexts.HeadManagerContext},47045,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return p},defaultHead:function(){return l}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(63652),g=a.r(3988),h=a.r(64781),i=g._(a.r(89982)),j=f._(a.r(86072)),k=a.r(11208);function l(){return[(0,h.jsx)("meta",{charSet:"utf-8"},"charset"),(0,h.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===i.default.Fragment?a.concat(i.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}a.r(6710);let n=["name","httpEquiv","charSet","itemProp"];function o(a){let b,c,d,e;return a.reduce(m,[]).reverse().concat(l().reverse()).filter((b=new Set,c=new Set,d=new Set,e={},a=>{let f=!0,g=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){g=!0;let c=a.key.slice(a.key.indexOf("$")+1);b.has(c)?f=!1:b.add(c)}switch(a.type){case"title":case"base":c.has(a.type)?f=!1:c.add(a.type);break;case"meta":for(let b=0,c=n.length;b<c;b++){let c=n[b];if(a.props.hasOwnProperty(c))if("charSet"===c)d.has(c)?f=!1:d.add(c);else{let b=a.props[c],d=e[c]||new Set;("name"!==c||!g)&&d.has(b)?f=!1:(d.add(b),e[c]=d)}}}return f})).reverse().map((a,b)=>{let c=a.key||b;return i.default.cloneElement(a,{key:c})})}let p=function({children:a}){let b=(0,i.useContext)(k.HeadManagerContext);return(0,h.jsx)(j.default,{reduceComponentsToState:o,headManager:b,children:a})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},79239,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored.contexts.ImageConfigContext},11731,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored.contexts.RouterContext},94851,(a,b,c)=>{"use strict";function d(a,b){let c=a||75;return b?.qualities?.length?b.qualities.reduce((a,b)=>Math.abs(b-c)<Math.abs(a-c)?b:a,0):c}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findClosestQuality",{enumerable:!0,get:function(){return d}})},21699,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return f}});let d=a.r(94851);function e({config:a,src:b,width:c,quality:e}){if(b.startsWith("/")&&b.includes("?")&&a.localPatterns?.length===1&&"**"===a.localPatterns[0].pathname&&""===a.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${b}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let f=(0,d.findClosestQuality)(e,a);return`${a.path}?url=${encodeURIComponent(b)}&w=${c}&q=${f}${b.startsWith("/_next/static/media/"),""}`}e.__next_img_default=!0;let f=e},48197,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(89982);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},21909,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"Image",{enumerable:!0,get:function(){return u}});let d=a.r(63652),e=a.r(3988),f=a.r(64781),g=e._(a.r(89982)),h=d._(a.r(59947)),i=d._(a.r(47045)),j=a.r(83712),k=a.r(94398),l=a.r(79239);a.r(6710);let m=a.r(11731),n=d._(a.r(21699)),o=a.r(48197),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function q(a,b,c,d,e,f,g){let h=a?.src;a&&a["data-loaded-src"]!==h&&(a["data-loaded-src"]=h,("decode"in a?a.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(a.parentElement&&a.isConnected){if("empty"!==b&&e(!0),c?.current){let b=new Event("load");Object.defineProperty(b,"target",{writable:!1,value:a});let d=!1,e=!1;c.current({...b,nativeEvent:b,currentTarget:a,target:a,isDefaultPrevented:()=>d,isPropagationStopped:()=>e,persist:()=>{},preventDefault:()=>{d=!0,b.preventDefault()},stopPropagation:()=>{e=!0,b.stopPropagation()}})}d?.current&&d.current(a)}}))}function r(a){return g.use?{fetchPriority:a}:{fetchpriority:a}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let s=(0,g.forwardRef)(({src:a,srcSet:b,sizes:c,height:d,width:e,decoding:h,className:i,style:j,fetchPriority:k,placeholder:l,loading:m,unoptimized:n,fill:p,onLoadRef:s,onLoadingCompleteRef:t,setBlurComplete:u,setShowAltText:v,sizesInput:w,onLoad:x,onError:y,...z},A)=>{let B=(0,g.useCallback)(a=>{a&&(y&&(a.src=a.src),a.complete&&q(a,l,s,t,u,n,w))},[a,l,s,t,u,y,n,w]),C=(0,o.useMergedRef)(A,B);return(0,f.jsx)("img",{...z,...r(k),loading:m,width:e,height:d,decoding:h,"data-nimg":p?"fill":"1",className:i,style:j,sizes:c,srcSet:b,src:a,ref:C,onLoad:a=>{q(a.currentTarget,l,s,t,u,n,w)},onError:a=>{v(!0),"empty"!==l&&u(!0),y&&y(a)}})});function t({isAppRouter:a,imgAttributes:b}){let c={as:"image",imageSrcSet:b.srcSet,imageSizes:b.sizes,crossOrigin:b.crossOrigin,referrerPolicy:b.referrerPolicy,...r(b.fetchPriority)};return a&&h.default.preload?(h.default.preload(b.src,c),null):(0,f.jsx)(i.default,{children:(0,f.jsx)("link",{rel:"preload",href:b.srcSet?void 0:b.src,...c},"__nimg-"+b.src+b.srcSet+b.sizes)})}let u=(0,g.forwardRef)((a,b)=>{let c=(0,g.useContext)(m.RouterContext),d=(0,g.useContext)(l.ImageConfigContext),e=(0,g.useMemo)(()=>{let a=p||d||k.imageConfigDefault,b=[...a.deviceSizes,...a.imageSizes].sort((a,b)=>a-b),c=a.deviceSizes.sort((a,b)=>a-b),e=a.qualities?.sort((a,b)=>a-b);return{...a,allSizes:b,deviceSizes:c,qualities:e,localPatterns:d?.localPatterns}},[d]),{onLoad:h,onLoadingComplete:i}=a,o=(0,g.useRef)(h);(0,g.useEffect)(()=>{o.current=h},[h]);let q=(0,g.useRef)(i);(0,g.useEffect)(()=>{q.current=i},[i]);let[r,u]=(0,g.useState)(!1),[v,w]=(0,g.useState)(!1),{props:x,meta:y}=(0,j.getImgProps)(a,{defaultLoader:n.default,imgConf:e,blurComplete:r,showAltText:v});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s,{...x,unoptimized:y.unoptimized,placeholder:y.placeholder,fill:y.fill,onLoadRef:o,onLoadingCompleteRef:q,setBlurComplete:u,setShowAltText:w,sizesInput:a.sizes,ref:b}),y.preload?(0,f.jsx)(t,{isAppRouter:!c,imgAttributes:x}):null]})});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},85152,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(63652),g=a.r(83712),h=a.r(21909),i=f._(a.r(21699));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},91578,(a,b,c)=>{b.exports=a.r(85152)},874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},64390,(a,b,c)=>{var d=a.r(874),e=d.Buffer;function f(a,b){for(var c in a)b[c]=a[c]}function g(a,b,c){return e(a,b,c)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?b.exports=d:(f(d,c),c.Buffer=g),g.prototype=Object.create(e.prototype),f(e,g),g.from=function(a,b,c){if("number"==typeof a)throw TypeError("Argument must not be a number");return e(a,b,c)},g.alloc=function(a,b,c){if("number"!=typeof a)throw TypeError("Argument must be a number");var d=e(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},g.allocUnsafe=function(a){if("number"!=typeof a)throw TypeError("Argument must be a number");return e(a)},g.allocUnsafeSlow=function(a){if("number"!=typeof a)throw TypeError("Argument must be a number");return d.SlowBuffer(a)}},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},14545,(a,b,c)=>{"use strict";var d=a.r(88947).Stream,e=a.r(24361),f=function(a){this.readable=this.writable=!0,this._paused=!1,this._driver=a};e.inherits(f,d),f.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0},f.prototype.resume=function(){this._paused=!1,this.emit("drain");var a=this._driver.messages;a._paused=!1,a.emit("drain")},f.prototype.write=function(a){return!!this.writable&&(this._driver.parse(a),!this._paused)},f.prototype.end=function(a){if(this.writable){void 0!==a&&this.write(a),this.writable=!1;var b=this._driver.messages;b.readable&&(b.readable=b.writable=!1,b.emit("end"))}},f.prototype.destroy=function(){this.end()};var g=function(a){this.readable=this.writable=!0,this._paused=!1,this._driver=a};e.inherits(g,d),g.prototype.pause=function(){this._driver.io._paused=!0},g.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")},g.prototype.write=function(a){return!!this.writable&&("string"==typeof a?this._driver.text(a):this._driver.binary(a),!this._paused)},g.prototype.end=function(a){void 0!==a&&this.write(a)},g.prototype.destroy=function(){},c.IO=f,c.Messages=g},87721,(a,b,c)=>{"use strict";var d=function(){this.clear()};d.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"],d.prototype.clear=function(){this._sent={},this._lines=[]},d.prototype.set=function(a,b){if(void 0!==b){a=this._strip(a),b=this._strip(b);var c=a.toLowerCase();(!this._sent.hasOwnProperty(c)||this.ALLOWED_DUPLICATES.indexOf(c)>=0)&&(this._sent[c]=!0,this._lines.push(a+": "+b+"\r\n"))}},d.prototype.toString=function(){return this._lines.join("")},d.prototype._strip=function(a){return a.toString().replace(/^ */,"").replace(/ *$/,"")},b.exports=d},96575,(a,b,c)=>{"use strict";var d=a.r(64390).Buffer,e=function(){this._queue=[],this._queueSize=0,this._offset=0};e.prototype.put=function(a){a&&0!==a.length&&(d.isBuffer(a)||(a=d.from(a)),this._queue.push(a),this._queueSize+=a.length)},e.prototype.read=function(a){if(a>this._queueSize)return null;if(0===a)return d.alloc(0);this._queueSize-=a;var b,c,e=this._queue,f=a,g=e[0];if(g.length>=a)if(g.length===a)return e.shift();else return c=g.slice(0,a),e[0]=g.slice(a),c;for(var h=0,i=e.length;h<i&&!(f<e[h].length);h++)f-=e[h].length;return b=e.splice(0,h),f>0&&e.length>0&&(b.push(e[0].slice(0,f)),e[0]=e[0].slice(f)),d.concat(b,a)},e.prototype.eachByte=function(a,b){for(var c,d,e;this._queue.length>0;){for(d=(c=this._queue[0]).length;this._offset<d;)e=this._offset,this._offset+=1,a.call(b,c[e]);this._offset=0,this._queue.shift()}},b.exports=e},9753,(a,b,c)=>{"use strict";var d=a.r(64390).Buffer,e=a.r(27699).EventEmitter,f=a.r(24361),g=a.r(14545),h=a.r(87721),i=a.r(96575),j=function(a,b,c){e.call(this),j.validateOptions(c||{},["maxLength","masking","requireMasking","protocols"]),this._request=a,this._reader=new i,this._options=c||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new h,this.__queue=[],this.readyState=0,this.url=b,this.io=new g.IO(this),this.messages=new g.Messages(this),this._bindEventListeners()};f.inherits(j,e),j.isWebSocket=function(a){var b=a.headers.connection||"",c=a.headers.upgrade||"";return"GET"===a.method&&b.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&"websocket"===c.toLowerCase()},j.validateOptions=function(a,b){for(var c in a)if(0>b.indexOf(c))throw Error("Unrecognized option: "+c)};var k={MAX_LENGTH:0x3ffffff,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var a=this;this.messages.on("error",function(){}),this.on("message",function(b){var c=a.messages;c.readable&&c.emit("data",b.data)}),this.on("error",function(b){var c=a.messages;c.readable&&c.emit("error",b)}),this.on("close",function(){var b=a.messages;b.readable&&(b.readable=b.writable=!1,b.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(a){return!1},setHeader:function(a,b){return!(this.readyState>0)&&(this._headers.set(a,b),!0)},start:function(){var a;if(0!==this.readyState)return!1;if(!j.isWebSocket(this._request))return this._failHandshake(Error("Not a WebSocket request"));try{a=this._handshakeResponse()}catch(a){return this._failHandshake(a)}return this._write(a),-1!==this._stage&&this._open(),!0},_failHandshake:function(a){var b=new h;return b.set("Content-Type","text/plain"),b.set("Content-Length",d.byteLength(a.message,"utf8")),b=["HTTP/1.1 400 Bad Request",b.toString(),a.message],this._write(d.from(b.join("\r\n"),"utf8")),this._fail("protocol_error",a.message),!1},text:function(a){return this.frame(a)},binary:function(a){return!1},ping:function(){return!1},pong:function(){return!1},close:function(a,b){return 1===this.readyState&&(this.readyState=3,this.emit("close",new j.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(a){this.frame.apply(this,a)},this),this.__queue=[],this.emit("open",new j.OpenEvent)},_queue:function(a){return this.__queue.push(a),!0},_write:function(a){var b=this.io;b.readable&&b.emit("data",a)},_fail:function(a,b){this.readyState=2,this.emit("error",Error(b)),this.close()}};for(var l in k)j.prototype[l]=k[l];j.ConnectEvent=function(){},j.OpenEvent=function(){},j.CloseEvent=function(a,b){this.code=a,this.reason=b},j.MessageEvent=function(a){this.data=a},j.PingEvent=function(a){this.data=a},j.PongEvent=function(a){this.data=a},b.exports=j},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},54992,(a,b,c)=>{function d(a){if(void 0!==a&&a!==d.REQUEST&&a!==d.RESPONSE)throw Error("type must be REQUEST or RESPONSE");void 0===a||this.initialize(a),this.maxHeaderSize=d.maxHeaderSize}c.HTTPParser=d,d.prototype.initialize=function(a,b){if(a!==d.REQUEST&&a!==d.RESPONSE)throw Error("type must be REQUEST or RESPONSE");this.type=a,this.state=a+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1},d.encoding="ascii",d.maxHeaderSize=81920,d.REQUEST="REQUEST",d.RESPONSE="RESPONSE";var e=d.kOnHeaders=1,f=d.kOnHeadersComplete=2,g=d.kOnBody=3,h=d.kOnMessageComplete=4;d.prototype[e]=d.prototype[f]=d.prototype[g]=d.prototype[h]=function(){};var i=!0;Object.defineProperty(d,"kOnExecute",{get:function(){return i=!1,99}});var j=c.methods=d.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],k=j.indexOf("CONNECT");d.prototype.reinitialize=d,d.prototype.close=d.prototype.pause=d.prototype.resume=d.prototype.remove=d.prototype.free=function(){},d.prototype._compatMode0_11=!1,d.prototype.getAsyncId=function(){return 0};var l={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};d.prototype.execute=function(a,b,c){if(!(this instanceof d))throw TypeError("not a HTTPParser");b=b||0,c="number"==typeof c?c:a.length,this.chunk=a,this.offset=b;var e=this.end=b+c;try{for(;this.offset<e&&!this[this.state](););}catch(a){if(this.isUserCall)throw a;return this.hadError=!0,a}return(this.chunk=null,c=this.offset-b,l[this.state]&&(this.headerSize+=c,this.headerSize>(this.maxHeaderSize||d.maxHeaderSize)))?Error("max header size exceeded"):c};var m={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};d.prototype.finish=function(){if(!this.hadError){if(!m[this.state])return Error("invalid state for EOF");"BODY_RAW"===this.state&&this.userCall()(this[h]())}},d.prototype.consume=d.prototype.unconsume=d.prototype.getCurrentBuffer=function(){},d.prototype.userCall=function(){this.isUserCall=!0;var a=this;return function(b){return a.isUserCall=!1,b}},d.prototype.nextRequest=function(){this.userCall()(this[h]()),this.reinitialize(this.type)},d.prototype.consumeLine=function(){for(var a=this.end,b=this.chunk,c=this.offset;c<a;c++)if(10===b[c]){var e=this.line+b.toString(d.encoding,this.offset,c);return"\r"===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),this.line="",this.offset=c+1,e}this.line+=b.toString(d.encoding,this.offset,this.end),this.offset=this.end};var n=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,o=/^[ \t]+(.*[^ \t])/;d.prototype.parseHeader=function(a,b){if(-1!==a.indexOf("\r"))throw r("HPE_LF_EXPECTED");var c=n.exec(a),d=c&&c[1];if(d)b.push(d),b.push(c[2]);else{var e=o.exec(a);e&&b.length&&(b[b.length-1]&&(b[b.length-1]+=" "),b[b.length-1]+=e[1])}};var p=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;d.prototype.REQUEST_LINE=function(){var a=this.consumeLine();if(a){var b=p.exec(a);if(null===b)throw r("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?b[1]:j.indexOf(b[1]),-1===this.info.method)throw Error("invalid request method");this.info.url=b[2],this.info.versionMajor=+b[3],this.info.versionMinor=+b[4],this.body_bytes=0,this.state="HEADER"}};var q=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;function r(a){var b=Error("Parse Error");return b.code=a,b}d.prototype.RESPONSE_LINE=function(){var a=this.consumeLine();if(a){var b=q.exec(a);if(null===b)throw r("HPE_INVALID_CONSTANT");this.info.versionMajor=+b[1],this.info.versionMinor=+b[2];var c=this.info.statusCode=+b[3];this.info.statusMessage=b[4],((c/100|0)==1||204===c||304===c)&&(this.body_bytes=0),this.state="HEADER"}},d.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(-1!==this.connection.indexOf("close"))return!1}else if(-1===this.connection.indexOf("keep-alive"))return!1;return null!==this.body_bytes||!!this.isChunked},d.prototype.HEADER=function(){var a=this.consumeLine();if(void 0!==a){var b=this.info;if(a)this.parseHeader(a,b.headers);else{for(var c,e,g=b.headers,h=!1,j=!1,l=0;l<g.length;l+=2)switch(g[l].toLowerCase()){case"transfer-encoding":this.isChunked="chunked"===g[l+1].toLowerCase();break;case"content-length":if(c=+g[l+1],h){if(c!==this.body_bytes)throw r("HPE_UNEXPECTED_CONTENT_LENGTH")}else h=!0,this.body_bytes=c;break;case"connection":this.connection+=g[l+1].toLowerCase();break;case"upgrade":j=!0}if(this.isChunked&&h&&(h=!1,this.body_bytes=null),j&&-1!=this.connection.indexOf("upgrade")?b.upgrade=this.type===d.REQUEST||101===b.statusCode:b.upgrade=b.method===k,this.isChunked&&b.upgrade&&(this.isChunked=!1),b.shouldKeepAlive=this.shouldKeepAlive(),2===(e=i?this.userCall()(this[f](b)):this.userCall()(this[f](b.versionMajor,b.versionMinor,b.headers,b.method,b.url,b.statusCode,b.statusMessage,b.upgrade,b.shouldKeepAlive))))return this.nextRequest(),!0;if(this.isChunked&&!e)this.state="BODY_CHUNKHEAD";else{if(e||0===this.body_bytes)return this.nextRequest(),b.upgrade;null===this.body_bytes?this.state="BODY_RAW":this.state="BODY_SIZED"}}}},d.prototype.BODY_CHUNKHEAD=function(){var a=this.consumeLine();void 0!==a&&(this.body_bytes=parseInt(a,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")},d.prototype.BODY_CHUNK=function(){var a=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[g](this.chunk.slice(this.offset,this.offset+a),0,a)),this.offset+=a,this.body_bytes-=a,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")},d.prototype.BODY_CHUNKEMPTYLINE=function(){var a=this.consumeLine();if(void 0!==a){if(""!==a)throw Error("Expected empty line");this.state="BODY_CHUNKHEAD"}},d.prototype.BODY_CHUNKTRAILERS=function(){var a=this.consumeLine();void 0!==a&&(a?this.parseHeader(a,this.trailers):(this.trailers.length&&this.userCall()(this[e](this.trailers,"")),this.nextRequest()))},d.prototype.BODY_RAW=function(){this.userCall()(this[g](this.chunk.slice(this.offset,this.end),0,this.end-this.offset)),this.offset=this.end},d.prototype.BODY_SIZED=function(){var a=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[g](this.chunk.slice(this.offset,this.offset+a),0,a)),this.offset+=a,this.body_bytes-=a,this.body_bytes||this.nextRequest()},["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(a){var b=d["kOn"+a];Object.defineProperty(d.prototype,"on"+a,{get:function(){return this[b]},set:function(a){return this._compatMode0_11=!0,k="CONNECT",this[b]=a}})})},93266,(a,b,c)=>{"use strict";var d=a.r(54992).HTTPParser,e=a.r(64390).Buffer,f={request:d.REQUEST||"request",response:d.RESPONSE||"response"},g=function(a){this._type=a,this._parser=new d(f[a]),this._complete=!1,this.headers={};var b=null,c=this;this._parser.onHeaderField=function(a,c,d){b=a.toString("utf8",c,c+d).toLowerCase()},this._parser.onHeaderValue=function(a,d,e){var f=a.toString("utf8",d,d+e);c.headers.hasOwnProperty(b)?c.headers[b]+=", "+f:c.headers[b]=f},this._parser.onHeadersComplete=this._parser[d.kOnHeadersComplete]=function(a,b,d,e,f,h){var i=arguments[0];if("object"==typeof i&&(e=i.method,f=i.url,h=i.statusCode,d=i.headers),c.method="number"==typeof e?g.METHODS[e]:e,c.statusCode=h,c.url=f,d){for(var j,k,l=0,m=d.length;l<m;l+=2)j=d[l].toLowerCase(),k=d[l+1],c.headers.hasOwnProperty(j)?c.headers[j]+=", "+k:c.headers[j]=k;c._complete=!0}}};g.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var h=process.version?process.version.match(/[0-9]+/g).map(function(a){return parseInt(a,10)}):[];0===h[0]&&12===h[1]&&(g.METHODS[16]="REPORT",g.METHODS[17]="MKACTIVITY",g.METHODS[18]="CHECKOUT",g.METHODS[19]="MERGE",g.METHODS[20]="M-SEARCH",g.METHODS[21]="NOTIFY",g.METHODS[22]="SUBSCRIBE",g.METHODS[23]="UNSUBSCRIBE",g.METHODS[24]="PATCH",g.METHODS[25]="PURGE"),g.prototype.isComplete=function(){return this._complete},g.prototype.parse=function(a){var b=this._parser.execute(a,0,a.length);if("number"!=typeof b){this.error=b,this._complete=!0;return}this._complete&&(this.body=b<a.length?a.slice(b):e.alloc(0))},b.exports=g},50594,(a,b,c)=>{"use strict";var d=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,e=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,f=RegExp(d.source+"(?:=(?:"+d.source+"|"+/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/.source+"))?"),g=RegExp(d.source+"(?: *; *"+f.source+")*","g"),h=RegExp("^"+g.source+"(?: *, *"+g.source+")*$"),i=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,j=Object.prototype.hasOwnProperty,k=function(){this._byName={},this._inOrder=[]};k.prototype.push=function(a,b){j.call(this._byName,a)||(this._byName[a]=[]),this._byName[a].push(b),this._inOrder.push({name:a,params:b})},k.prototype.eachOffer=function(a,b){for(var c=this._inOrder,d=0,e=c.length;d<e;d++)a.call(b,c[d].name,c[d].params)},k.prototype.byName=function(a){return this._byName[a]||[]},k.prototype.toArray=function(){return this._inOrder.slice()},b.exports={parseHeader:function(a){var b=new k;if(""===a||void 0===a)return b;if(!h.test(a))throw SyntaxError("Invalid Sec-WebSocket-Extensions header: "+a);return a.match(g).forEach(function(a){var c=a.match(RegExp(f.source,"g")),d=c.shift(),e={};c.forEach(function(a){var b,c=a.match(f),d=c[1];b=void 0!==c[2]?c[2]:void 0===c[3]||c[3].replace(/\\/g,""),i.test(b)&&(b=parseFloat(b)),j.call(e,d)?(e[d]=[].concat(e[d]),e[d].push(b)):e[d]=b},this),b.push(d,e)},this),b},serializeParams:function(a,b){var c=[],d=function(a,b){b instanceof Array?b.forEach(function(b){d(a,b)}):!0===b?c.push(a):"number"==typeof b?c.push(a+"="+b):e.test(b)?c.push(a+'="'+b.replace(/"/g,'\\"')+'"'):c.push(a+"="+b)};for(var f in b)d(f,b[f]);return[a].concat(c).join("; ")}}},18409,(a,b,c)=>{"use strict";var d=function(a){this._bufferSize=a,this.clear()};d.prototype.clear=function(){this._buffer=Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0},d.prototype.push=function(a){var b=!1,c=!1;this._ringSize<this._bufferSize?b=0===this._tail:this._ringOffset===this._ringSize&&(b=!0,c=0===this._tail),b&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(Array(this._bufferSize)),this._bufferSize=this._buffer.length,c&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=a,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},d.prototype.peek=function(){if(0!==this.length)return this._buffer[this._head]},d.prototype.shift=function(){if(0!==this.length){var a=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,0===this._ringOffset&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,a}},b.exports=d},65209,(a,b,c)=>{"use strict";var d=a.r(18409),e=function(a,b){this._session=a,this._method=b,this._queue=new d(e.QUEUE_SIZE),this._stopped=!1,this.pending=0};e.QUEUE_SIZE=8,e.prototype.call=function(a,b,c,d){if(!this._stopped){var e={error:a,message:b,callback:c,context:d,done:!1},f=!1,g=this;if(this._queue.push(e),e.error)return e.done=!0,this._stop(),this._flushQueue();var h=function(a,b){f^(f=!0)&&(a?(g._stop(),e.error=a,e.message=null):e.message=b,e.done=!0,g._flushQueue())};try{this._session[this._method](b,h)}catch(a){h(a)}}},e.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0},e.prototype._flushQueue=function(){for(var a,b=this._queue;b.length>0&&b.peek().done;)(a=b.shift()).error?(this.pending=0,b.clear()):this.pending-=1,a.callback.call(a.context,a.error,a.message)},b.exports=e},51770,(a,b,c)=>{"use strict";var d=a.r(18409),e=function(){this._complete=!1,this._callbacks=new d(e.QUEUE_SIZE)};e.QUEUE_SIZE=4,e.all=function(a){var b=new e,c=a.length,d=c;for(0===c&&b.done();d--;)a[d].then(function(){0==(c-=1)&&b.done()});return b},e.prototype.then=function(a){this._complete?a():this._callbacks.push(a)},e.prototype.done=function(){this._complete=!0;for(var a,b=this._callbacks;a=b.shift();)a()},b.exports=e},76783,(a,b,c)=>{"use strict";var d=a.r(65209),e=a.r(51770),f=function(a){this._ext=a[0],this._session=a[1],this._functors={incoming:new d(this._session,"processIncomingMessage"),outgoing:new d(this._session,"processOutgoingMessage")}};f.prototype.pending=function(a){var b=this._functors[a];b._stopped||(b.pending+=1)},f.prototype.incoming=function(a,b,c,d){this._exec("incoming",a,b,c,d)},f.prototype.outgoing=function(a,b,c,d){this._exec("outgoing",a,b,c,d)},f.prototype.close=function(){return this._closed=this._closed||new e,this._doClose(),this._closed},f.prototype._exec=function(a,b,c,d,e){this._functors[a].call(b,c,function(a,b){a&&(a.message=this._ext.name+": "+a.message),d.call(e,a,b),this._doClose()},this)},f.prototype._doClose=function(){var a=this._functors.incoming,b=this._functors.outgoing;this._closed&&a.pending+b.pending===0&&(this._session&&this._session.close(),this._session=null,this._closed.done())},b.exports=f},39121,(a,b,c)=>{"use strict";var d=a.r(76783),e=a.r(51770),f=function(a){this._cells=a.map(function(a){return new d(a)}),this._stopped={incoming:!1,outgoing:!1}};f.prototype.processIncomingMessage=function(a,b,c){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,a,b,c)},f.prototype.processOutgoingMessage=function(a,b,c){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,a,b,c)},f.prototype.close=function(a,b){this._stopped={incoming:!0,outgoing:!0};var c=this._cells.map(function(a){return a.close()});a&&e.all(c).then(function(){a.call(b)})},f.prototype._loop=function(a,b,c,d,e,f,g){for(var h=this._cells,i=h.length,j=this;i--;)h[i].pending(a);var k=function(b,e,i){if(b===c)return f.call(g,e,i);h[b][a](e,i,function(c,e){c&&(j._stopped[a]=!0),k(b+d,c,e)})};k(b,null,e)},b.exports=f},32591,(a,b,c)=>{"use strict";var d=a.r(50594),e=a.r(39121),f=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};f.MESSAGE_OPCODES=[1,2];var g={add:function(a){if("string"!=typeof a.name)throw TypeError("extension.name must be a string");if("permessage"!==a.type)throw TypeError('extension.type must be "permessage"');if("boolean"!=typeof a.rsv1)throw TypeError("extension.rsv1 must be true or false");if("boolean"!=typeof a.rsv2)throw TypeError("extension.rsv2 must be true or false");if("boolean"!=typeof a.rsv3)throw TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(a.name))throw TypeError('An extension with name "'+a.name+'" is already registered');this._byName[a.name]=a,this._inOrder.push(a)},generateOffer:function(){var a=[],b=[],c={};return this._inOrder.forEach(function(e){var f=e.createClientSession();if(f){var g=[e,f];a.push(g),c[e.name]=g;var h=f.generateOffer();(h=h?[].concat(h):[]).forEach(function(a){b.push(d.serializeParams(e.name,a))},this)}},this),this._sessions=a,this._index=c,b.length>0?b.join(", "):null},activate:function(a){var b=d.parseHeader(a),c=[];b.eachOffer(function(a,b){var e=this._index[a];if(!e)throw Error('Server sent an extension response for unknown extension "'+a+'"');var f=e[0],g=e[1],h=this._reserved(f);if(h)throw Error("Server sent two extension responses that use the RSV"+h[0]+' bit: "'+h[1]+'" and "'+f.name+'"');if(!0!==g.activate(b))throw Error("Server sent unacceptable extension parameters: "+d.serializeParams(a,b));this._reserve(f),c.push(e)},this),this._sessions=c,this._pipeline=new e(c)},generateResponse:function(a){var b=[],c=[],f=d.parseHeader(a);return this._inOrder.forEach(function(a){var e=f.byName(a.name);if(!(0===e.length||this._reserved(a))){var g=a.createServerSession(e);g&&(this._reserve(a),b.push([a,g]),c.push(d.serializeParams(a.name,g.generateResponse())))}},this),this._sessions=b,this._pipeline=new e(b),c.length>0?c.join(", "):null},validFrameRsv:function(a){var b,c={rsv1:!1,rsv2:!1,rsv3:!1};if(f.MESSAGE_OPCODES.indexOf(a.opcode)>=0)for(var d=0,e=this._sessions.length;d<e;d++)b=this._sessions[d][0],c.rsv1=c.rsv1||b.rsv1,c.rsv2=c.rsv2||b.rsv2,c.rsv3=c.rsv3||b.rsv3;return(c.rsv1||!a.rsv1)&&(c.rsv2||!a.rsv2)&&(c.rsv3||!a.rsv3)},processIncomingMessage:function(a,b,c){this._pipeline.processIncomingMessage(a,b,c)},processOutgoingMessage:function(a,b,c){this._pipeline.processOutgoingMessage(a,b,c)},close:function(a,b){if(!this._pipeline)return a.call(b);this._pipeline.close(a,b)},_reserve:function(a){this._rsv1=this._rsv1||a.rsv1&&a.name,this._rsv2=this._rsv2||a.rsv2&&a.name,this._rsv3=this._rsv3||a.rsv3&&a.name},_reserved:function(a){return this._rsv1&&a.rsv1?[1,this._rsv1]:this._rsv2&&a.rsv2?[2,this._rsv2]:!!this._rsv3&&!!a.rsv3&&[3,this._rsv3]}};for(var h in g)f.prototype[h]=g[h];b.exports=f},222,(a,b,c)=>{"use strict";var d=function(){},e={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var f in e)d.prototype[f]=e[f];b.exports=d},11785,(a,b,c)=>{"use strict";var d=a.r(64390).Buffer,e=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},f={read:function(){return this.data=this.data||d.concat(this._chunks,this.length)},pushFrame:function(a){this.rsv1=this.rsv1||a.rsv1,this.rsv2=this.rsv2||a.rsv2,this.rsv3=this.rsv3||a.rsv3,null===this.opcode&&(this.opcode=a.opcode),this._chunks.push(a.payload),this.length+=a.length}};for(var g in f)e.prototype[g]=f[g];b.exports=e},31895,(a,b,c)=>{"use strict";var d=a.r(64390).Buffer,e=a.r(54799),f=a.r(24361),g=a.r(32591),h=a.r(9753),i=a.r(222),j=a.r(11785),k=function(a,b,c){if(h.apply(this,arguments),this._extensions=new g,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},"string"==typeof this._protocols&&(this._protocols=this._protocols.split(/ *, */)),this._request){var d=this._request.headers["sec-websocket-protocol"],e=this._protocols;void 0!==d&&("string"==typeof d&&(d=d.split(/ *, */)),this.protocol=d.filter(function(a){return e.indexOf(a)>=0})[0]),this.version="hybi-"+k.VERSION}};f.inherits(k,h),k.VERSION="13",k.mask=function(a,b,c){if(!b||0===b.length)return a;c=c||0;for(var d=0,e=a.length-c;d<e;d++)a[c+d]=a[c+d]^b[d%4];return a},k.generateAccept=function(a){var b=e.createHash("sha1");return b.update(a+k.GUID),b.digest("base64")},k.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var l={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(a){return this._extensions.add(a),!0},parse:function(a){this._reader.put(a);for(var b=!0;b;)switch(this._stage){case 0:(b=this._reader.read(1))&&this._parseOpcode(b[0]);break;case 1:(b=this._reader.read(1))&&this._parseLength(b[0]);break;case 2:(b=this._reader.read(this._frame.lengthBytes))&&this._parseExtendedLength(b);break;case 3:(b=this._reader.read(4))&&(this._stage=4,this._frame.maskingKey=b);break;case 4:(b=this._reader.read(this._frame.length))&&(this._stage=0,this._emitFrame(b));break;default:b=null}},text:function(a){return!(this.readyState>1)&&this.frame(a,"text")},binary:function(a){return!(this.readyState>1)&&this.frame(a,"binary")},ping:function(a,b){return!(this.readyState>1)&&(a=a||"",b&&(this._pingCallbacks[a]=b),this.frame(a,"ping"))},pong:function(a){return!(this.readyState>1)&&(a=a||"",this.frame(a,"pong"))},close:function(a,b){return(a=a||"",b=b||this.ERRORS.normal_closure,this.readyState<=0)?(this.readyState=3,this.emit("close",new h.CloseEvent(b,a)),!0):1===this.readyState&&(this.readyState=2,this._extensions.close(function(){this.frame(a,"close",b)},this),!0)},frame:function(a,b,c){if(this.readyState<=0)return this._queue([a,b,c]);if(this.readyState>2)return!1;a instanceof Array&&(a=d.from(a)),"number"==typeof a&&(a=a.toString());var f,g,h=new j,k="string"==typeof a;h.rsv1=h.rsv2=h.rsv3=!1,h.opcode=this.OPCODES[b||(k?"text":"binary")],f=k?d.from(a,"utf8"):a,c&&(g=f,(f=d.allocUnsafe(2+g.length)).writeUInt16BE(c,0),g.copy(f,2)),h.data=f;var l=function(a){var b=new i;b.final=!0,b.rsv1=a.rsv1,b.rsv2=a.rsv2,b.rsv3=a.rsv3,b.opcode=a.opcode,b.masked=!!this._masking,b.length=a.data.length,b.payload=a.data,b.masked&&(b.maskingKey=e.randomBytes(4)),this._sendFrame(b)};return this.MESSAGE_OPCODES.indexOf(h.opcode)>=0?this._extensions.processOutgoingMessage(h,function(a,b){if(a)return this._fail("extension_error",a.message);l.call(this,b)},this):l.call(this,h),!0},_sendFrame:function(a){var b=a.length,c=b<=125?2:b<=65535?4:10,e=c+4*!!a.masked,f=d.allocUnsafe(e+b),g=a.masked?this.MASK:0;f[0]=(a.final?this.FIN:0)|(a.rsv1?this.RSV1:0)|(a.rsv2?this.RSV2:0)|(a.rsv3?this.RSV3:0)|a.opcode,b<=125?f[1]=g|b:b<=65535?(f[1]=126|g,f.writeUInt16BE(b,2)):(f[1]=127|g,f.writeUInt32BE(Math.floor(b/0x100000000),2),f.writeUInt32BE(b%0x100000000,6)),a.payload.copy(f,e),a.masked&&(a.maskingKey.copy(f,c),k.mask(f,a.maskingKey,e)),this._write(f)},_handshakeResponse:function(){var a=this._request.headers["sec-websocket-key"],b=this._request.headers["sec-websocket-version"];if(b!==k.VERSION)throw Error("Unsupported WebSocket version: "+b);if("string"!=typeof a)throw Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",k.generateAccept(a)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var c=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);c&&this._headers.set("Sec-WebSocket-Extensions",c);var e=["HTTP/1.1 101 Switching Protocols",this._headers.toString(),""];return d.from(e.join("\r\n"),"utf8")},_shutdown:function(a,b,c){delete this._frame,delete this._message,this._stage=5;var d=1===this.readyState;this.readyState=2,this._extensions.close(function(){d&&this.frame(b,"close",a),this.readyState=3,c&&this.emit("error",Error(b)),this.emit("close",new h.CloseEvent(a,b))},this)},_fail:function(a,b){this.readyState>1||this._shutdown(this.ERRORS[a],b,!0)},_parseOpcode:function(a){var b=[this.RSV1,this.RSV2,this.RSV3].map(function(b){return(a&b)===b}),c=this._frame=new i;return(c.final=(a&this.FIN)===this.FIN,c.rsv1=b[0],c.rsv2=b[1],c.rsv3=b[2],c.opcode=a&this.OPCODE,this._stage=1,this._extensions.validFrameRsv(c))?0>this.OPCODE_CODES.indexOf(c.opcode)?this._fail("protocol_error","Unrecognized frame opcode: "+c.opcode):0>this.MESSAGE_OPCODES.indexOf(c.opcode)&&!c.final?this._fail("protocol_error","Received fragmented control frame: opcode = "+c.opcode):this._message&&this.OPENING_OPCODES.indexOf(c.opcode)>=0?this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished"):void 0:this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+ +!!c.rsv1+", reserved2 = "+ +!!c.rsv2+", reserved3 = "+ +!!c.rsv3)},_parseLength:function(a){var b=this._frame;if(b.masked=(a&this.MASK)===this.MASK,b.length=a&this.LENGTH,b.length>=0&&b.length<=125){if(this._stage=b.masked?3:4,!this._checkFrameLength())return}else this._stage=2,b.lengthBytes=126===b.length?2:8;if(this._requireMasking&&!b.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(a){var b=this._frame;if(b.length=this._readUInt(a),this._stage=b.masked?3:4,0>this.MESSAGE_OPCODES.indexOf(b.opcode)&&b.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+b.length);if(!this._checkFrameLength())return},_checkFrameLength:function(){return!((this._message?this._message.length:0)+this._frame.length>this._maxLength)||(this._fail("too_large","WebSocket frame length too large"),!1)},_emitFrame:function(a){var b,c,d,e,f,g=this._frame,i=g.payload=k.mask(a,g.maskingKey),l=g.opcode;if(delete this._frame,l===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(g)}if((l===this.OPCODES.text||l===this.OPCODES.binary)&&(this._message=new j,this._message.pushFrame(g)),g.final&&this.MESSAGE_OPCODES.indexOf(l)>=0)return this._emitMessage(this._message);l===this.OPCODES.close&&(c=i.length>=2?i.readUInt16BE(0):null,d=i.length>2?this._encode(i.slice(2)):null,0!==i.length&&!(null!==c&&c>=this.MIN_RESERVED_ERROR&&c<=this.MAX_RESERVED_ERROR)&&0>this.ERROR_CODES.indexOf(c)&&(c=this.ERRORS.protocol_error),(i.length>125||i.length>2&&!d)&&(c=this.ERRORS.protocol_error),this._shutdown(c||this.DEFAULT_ERROR_CODE,d||"")),l===this.OPCODES.ping&&(this.frame(i,"pong"),this.emit("ping",new h.PingEvent(i.toString()))),l===this.OPCODES.pong&&(f=(e=this._pingCallbacks)[b=this._encode(i)],delete e[b],f&&f(),this.emit("pong",new h.PongEvent(i.toString())))},_emitMessage:function(a){var a=this._message;a.read(),delete this._message,this._extensions.processIncomingMessage(a,function(a,b){if(a)return this._fail("extension_error",a.message);var c=b.data;if(b.opcode===this.OPCODES.text&&(c=this._encode(c)),null===c)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new h.MessageEvent(c))},this)},_encode:function(a){try{var b=a.toString("binary",0,a.length);if(!this.UTF8_MATCH.test(b))return null}catch(a){}return a.toString("utf8",0,a.length)},_readUInt:function(a){return 2===a.length?a.readUInt16BE(0):0x100000000*a.readUInt32BE(0)+a.readUInt32BE(4)}};for(var m in l)k.prototype[m]=l[m];b.exports=k},23504,(a,b,c)=>{"use strict";var d=a.r(64390).Buffer,e=a.r(88947).Stream,f=a.r(92509),g=a.r(24361),h=a.r(9753),i=a.r(87721),j=a.r(93266),k={"ws:":80,"wss:":443},l=function(a,b,c){this._client=a,this._http=new j("response"),this._origin="object"==typeof a.url?a.url:f.parse(a.url),this._url="object"==typeof b?b:f.parse(b),this._options=c||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new i,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var e=this._url.auth&&d.from(this._url.auth,"utf8").toString("base64");e&&this._headers.set("Proxy-Authorization","Basic "+e)};g.inherits(l,e);var m={setHeader:function(a,b){return 0===this._state&&(this._headers.set(a,b),!0)},start:function(){if(0!==this._state)return!1;this._state=1;var a=this._origin,b=a.port||k[a.protocol],c=["CONNECT "+a.hostname+":"+b+" HTTP/1.1",this._headers.toString(),""];return this.emit("data",d.from(c.join("\r\n"),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(a){if(!this.writable)return!1;if(this._http.parse(a),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,200===this.statusCode)this.emit("connect",new h.ConnectEvent);else{var b="Can't establish a connection to the server at "+this._origin.href;this.emit("error",Error(b))}return this.end(),!this._paused},end:function(a){this.writable&&(void 0!==a&&this.write(a),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(var n in m)l.prototype[n]=m[n];b.exports=l},17320,(a,b,c)=>{"use strict";var d=a.r(64390).Buffer,e=a.r(54799),f=a.r(92509),g=a.r(24361),h=a.r(93266),i=a.r(9753),j=a.r(31895),k=a.r(23504),l=function(a,b){this.version="hybi-"+j.VERSION,j.call(this,null,a,b),this.readyState=-1,this._key=l.generateKey(),this._accept=j.generateAccept(this._key),this._http=new h("response");var c=f.parse(this.url),e=c.auth&&d.from(c.auth,"utf8").toString("base64");if(0>this.VALID_PROTOCOLS.indexOf(c.protocol))throw Error(this.url+" is not a valid WebSocket URL");this._pathname=(c.pathname||"/")+(c.search||""),this._headers.set("Host",c.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",j.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),e&&this._headers.set("Authorization","Basic "+e)};g.inherits(l,j),l.generateKey=function(){return e.randomBytes(16).toString("base64")};var m={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(a,b){return new k(this,a,b)},start:function(){return -1===this.readyState&&(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(a){return 3===this.readyState?void 0:this.readyState>0?j.prototype.parse.call(this,a):(this._http.parse(a),this._http.isComplete())?void(this._validateHandshake(),3!==this.readyState&&(this._open(),this.parse(this._http.body))):void 0},_handshakeRequest:function(){var a=this._extensions.generateOffer();a&&this._headers.set("Sec-WebSocket-Extensions",a);var b=["GET "+this._pathname+" HTTP/1.1",this._headers.toString(),""];return d.from(b.join("\r\n"),"utf8")},_failHandshake:function(a){a="Error during WebSocket handshake: "+a,this.readyState=3,this.emit("error",Error(a)),this.emit("close",new i.CloseEvent(this.ERRORS.protocol_error,a))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(101!==this._http.statusCode)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var a=this._http.headers,b=a.upgrade||"",c=a.connection||"",d=a["sec-websocket-accept"]||"",e=a["sec-websocket-protocol"]||"";if(""===b)return this._failHandshake("'Upgrade' header is missing");if("websocket"!==b.toLowerCase())return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(""===c)return this._failHandshake("'Connection' header is missing");if("upgrade"!==c.toLowerCase())return this._failHandshake("'Connection' header value is not 'Upgrade'");if(d!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,""!==e)if(0>this._protocols.indexOf(e))return this._failHandshake("Sec-WebSocket-Protocol mismatch");else this.protocol=e;try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(a){return this._failHandshake(a.message)}}};for(var n in m)l.prototype[n]=m[n];b.exports=l},35954,(a,b,c)=>{"use strict";var d=a.r(64390).Buffer,e=a.r(9753),f=a.r(24361),g=function(a,b,c){e.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};f.inherits(g,e);var h={close:function(){return 3!==this.readyState&&(this.readyState=3,this.emit("close",new e.CloseEvent(null,null)),!0)},parse:function(a){this.readyState>1||(this._reader.put(a),this._reader.eachByte(function(a){var b;switch(this._stage){case -1:this._body.push(a),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(a);break;case 1:if(this._length=(127&a)+128*this._length,this._closing&&0===this._length)return this.close();(128&a)!=128&&(0===this._length?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(255===a)this._stage=0,b=d.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new e.MessageEvent(b));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(a),this._buffer.length>this._maxLength)return this.close()}},this))},frame:function(a){if(0===this.readyState)return this._queue([a]);if(this.readyState>1)return!1;"string"!=typeof a&&(a=a.toString());var b=d.byteLength(a),c=d.allocUnsafe(b+2);return c[0]=0,c.write(a,1),c[c.length-1]=255,this._write(c),!0},_handshakeResponse:function(){var a=["HTTP/1.1 101 Web Socket Protocol Handshake",this._headers.toString(),""];return d.from(a.join("\r\n"),"utf8")},_parseLeadingByte:function(a){(128&a)==128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(var i in h)g.prototype[i]=h[i];b.exports=g},34929,(a,b,c)=>{"use strict";var d=a.r(64390).Buffer,e=a.r(9753),f=a.r(35954),g=a.r(54799),h=a.r(24361),i=function(a){return parseInt((a.match(/[0-9]/g)||[]).join(""),10)},j=function(a){return(a.match(/ /g)||[]).length},k=function(a,b,c){f.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};h.inherits(k,f);var l={BODY_SIZE:8,start:function(){return!!f.prototype.start.call(this)&&(this._started=!0,this._sendHandshakeBody(),!0)},close:function(){return 3!==this.readyState&&(1===this.readyState&&this._write(d.from([255,0])),this.readyState=3,this.emit("close",new e.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var a=this._request.headers,b=a["sec-websocket-key1"],c=a["sec-websocket-key2"];if(!b)throw Error("Missing required header: Sec-WebSocket-Key1");if(!c)throw Error("Missing required header: Sec-WebSocket-Key2");var e=i(b),f=j(b),g=i(c),h=j(c);if(e%f!=0||g%h!=0)throw Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[e/f,g/h];var a=["HTTP/1.1 101 WebSocket Protocol Handshake",this._headers.toString(),""];return d.from(a.join("\r\n"),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var a=g.createHash("md5"),b=d.allocUnsafe(8+this.BODY_SIZE);return b.writeUInt32BE(this._keyValues[0],0),b.writeUInt32BE(this._keyValues[1],4),d.from(this._body).copy(b,8,0,this.BODY_SIZE),a.update(b),d.from(a.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var a=this._handshakeSignature();a&&(this._write(a),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(a){if(255!==a)return f.prototype._parseLeadingByte.call(this,a);this._closing=!0,this._length=0,this._stage=1}};for(var m in l)k.prototype[m]=l[m];b.exports=k},51431,(a,b,c)=>{"use strict";var d=a.r(24361),e=a.r(93266),f=a.r(9753),g=a.r(35954),h=a.r(34929),i=a.r(31895),j=function(a){f.call(this,null,null,a),this._http=new e("request")};d.inherits(j,f);var k={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(a){if(this._delegate)return this._delegate.parse(a);if(this._http.parse(a),this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var b=this;this._delegate=j.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(a){this._delegate.on(a,function(c){b.emit(a,c)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new f.ConnectEvent)}},_open:function(){this.__queue.forEach(function(a){this._delegate[a[0]].apply(this._delegate,a[1])},this),this.__queue=[]}};for(var l in["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(a){k[a]=function(){return this._delegate?this._delegate[a].apply(this._delegate,arguments):(this.__queue.push([a,arguments]),!0)}}),k)j.prototype[l]=k[l];j.isSecureRequest=function(a){if(a.connection&&void 0!==a.connection.authorized||a.socket&&a.socket.secure)return!0;var b=a.headers;return!!b&&("on"===b.https||"on"===b["x-forwarded-ssl"]||"https"===b["x-forwarded-scheme"]||"https"===b["x-forwarded-proto"])},j.determineUrl=function(a){return(this.isSecureRequest(a)?"wss:":"ws:")+"//"+a.headers.host+a.url},j.http=function(a,b){void 0===(b=b||{}).requireMasking&&(b.requireMasking=!0);var c=a.headers,d=c["sec-websocket-version"],e=c["sec-websocket-key"],f=c["sec-websocket-key1"],j=c["sec-websocket-key2"],k=this.determineUrl(a);return d||e?new i(a,k,b):f||j?new h(a,k,b):new g(a,k,b)},b.exports=j},37658,(a,b,c)=>{"use strict";var d=a.r(9753),e=a.r(17320),f=a.r(51431);b.exports={client:function(a,b){return void 0===(b=b||{}).masking&&(b.masking=!0),new e(a,b)},server:function(a){return void 0===(a=a||{}).requireMasking&&(a.requireMasking=!0),new f(a)},http:function(){return f.http.apply(f,arguments)},isSecureRequest:function(a){return f.isSecureRequest(a)},isWebSocket:function(a){return d.isWebSocket(a)},validateOptions:function(a,b){d.validateOptions(a,b)}}},57592,(a,b,c)=>{"use strict";var d=function(a,b){for(var c in this.type=a,b)this[c]=b[c]};d.prototype.initEvent=function(a,b,c){this.type=a,this.bubbles=b,this.cancelable=c},d.prototype.stopPropagation=function(){},d.prototype.preventDefault=function(){},d.CAPTURING_PHASE=1,d.AT_TARGET=2,d.BUBBLING_PHASE=3,b.exports=d},85975,(a,b,c)=>{"use strict";var d=a.r(57592);b.exports={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(a,b,c){this.on(a,b)},removeEventListener:function(a,b,c){this.removeListener(a,b)},dispatchEvent:function(a){a.target=a.currentTarget=this,a.eventPhase=d.AT_TARGET,this["on"+a.type]&&this["on"+a.type](a),this.emit(a.type,a)}}},96009,(a,b,c)=>{"use strict";var d=a.r(88947).Stream,e=a.r(24361),f=a.r(37658),g=a.r(85975),h=a.r(57592),i=function(a){a=a||{},f.validateOptions(a,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var b=a.headers;if(b)for(var c in b)this._driver.setHeader(c,b[c]);var d=a.extensions;d&&[].concat(d).forEach(this._driver.addExtension,this._driver),this._ping=a.ping,this._pingId=0,this.readyState=i.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var e=this;this._driver.on("open",function(a){e._open()}),this._driver.on("message",function(a){e._receiveMessage(a.data)}),this._driver.on("close",function(a){e._beginClose(a.reason,a.code)}),this._driver.on("error",function(a){e._emitError(a.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){e.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){e._pingId+=1,e.ping(e._pingId.toString())},1e3*this._ping)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};e.inherits(i,d),i.CONNECTING=0,i.OPEN=1,i.CLOSING=2,i.CLOSED=3,i.CLOSE_TIMEOUT=3e4;var j={write:function(a){return this.send(a)},end:function(a){void 0!==a&&this.send(a),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(a){return!(this.readyState>i.OPEN)&&(a instanceof Buffer||(a=String(a)),this._driver.messages.write(a))},ping:function(a,b){return!(this.readyState>i.OPEN)&&this._driver.ping(a,b)},close:function(a,b){if(void 0===a&&(a=1e3),void 0===b&&(b=""),1e3!==a&&(a<3e3||a>4999))throw Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+a+" is neither.");if(this.readyState<i.CLOSING){var c=this;this._closeTimer=setTimeout(function(){c._beginClose("",1006)},i.CLOSE_TIMEOUT)}this.readyState!==i.CLOSED&&(this.readyState=i.CLOSING),this._driver.close(b,a)},_configureStream:function(){var a=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(b){this._stream.on(b,function(){a._finalizeClose()})},this),this._stream.on("error",function(b){a._emitError("Network error: "+a.url+": "+b.message),a._finalizeClose()})},_open:function(){if(this.readyState===i.CONNECTING){this.readyState=i.OPEN,this.protocol=this._driver.protocol||"";var a=new h("open");a.initEvent("open",!1,!1),this.dispatchEvent(a)}},_receiveMessage:function(a){if(this.readyState>i.OPEN)return!1;this.readable&&this.emit("data",a);var b=new h("message",{data:a});b.initEvent("message",!1,!1),this.dispatchEvent(b)},_emitError:function(a){if(!(this.readyState>=i.CLOSING)){var b=new h("error",{message:a});b.initEvent("error",!1,!1),this.dispatchEvent(b)}},_beginClose:function(a,b){this.readyState!==i.CLOSED&&(this.readyState=i.CLOSING,this._closeParams=[a,b],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==i.CLOSED){this.readyState=i.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var a=this._closeParams?this._closeParams[0]:"",b=new h("close",{code:this._closeParams?this._closeParams[1]:1006,reason:a});b.initEvent("close",!1,!1),this.dispatchEvent(b)}}};for(var k in j)i.prototype[k]=j[k];for(var l in g)i.prototype[l]=g[l];b.exports=i},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},63553,(a,b,c)=>{"use strict";var d=a.r(24361),e=a.r(4446),f=a.r(55004),g=a.r(92509),h=a.r(37658),i=a.r(96009);a.r(57592);var j={"http:":80,"https:":443,"ws:":80,"wss:":443},k=["https:","wss:"],l=function(a,b,c){c=c||{},this.url=a,this._driver=h.client(this.url,{maxLength:c.maxLength,protocols:b}),["open","error"].forEach(function(a){this._driver.on(a,function(){s.headers=s._driver.headers,s.statusCode=s._driver.statusCode})},this);var d=c.proxy||{},l=g.parse(d.origin||this.url),m=l.port||j[l.protocol],n=k.indexOf(l.protocol)>=0,o=function(){s._onConnect()},p=c.net||{},q=c.tls||{},r=d.origin?d.tls||{}:q,s=this;p.host=r.host=l.hostname,p.port=r.port=m,q.ca=q.ca||c.ca,r.servername=r.servername||l.hostname,this._stream=n?f.connect(r,o):e.connect(p,o),d.origin&&this._configureProxy(d,q),i.call(this,c)};d.inherits(l,i),l.prototype._onConnect=function(){(this._proxy||this._driver).start()},l.prototype._configureProxy=function(a,b){var c,d=g.parse(this.url),e=k.indexOf(d.protocol)>=0,h=this;if(this._proxy=this._driver.proxy(a.origin),a.headers)for(c in a.headers)this._proxy.setHeader(c,a.headers[c]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(e){var a={socket:h._stream,servername:d.hostname};for(c in b)a[c]=b[c];h._stream=f.connect(a),h._configureStream()}h._driver.io.pipe(h._stream),h._stream.pipe(h._driver.io),h._driver.start()}),this._proxy.on("error",function(a){h._driver.emit("error",a)})},b.exports=l},26329,(a,b,c)=>{"use strict";var d=a.r(88947).Stream,e=a.r(24361),f=a.r(37658),g=a.r(87721),h=a.r(96009),i=a.r(85975),j=a.r(57592),k=function(a,b,c){this.writable=!0,c=c||{},this._stream=b.socket,this._ping=c.ping||this.DEFAULT_PING,this._retry=c.retry||this.DEFAULT_RETRY;var d=f.isSecureRequest(a)?"https:":"http:";this.url=d+"//"+a.headers.host+a.url,this.lastEventId=a.headers["last-event-id"]||"",this.readyState=h.CONNECTING;var e=new g,i=this;if(c.headers)for(var j in c.headers)e.set(j,c.headers[j]);if(this._stream&&this._stream.writable){process.nextTick(function(){i._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var k="HTTP/1.1 200 OK\r\nContent-Type: text/event-stream\r\nCache-Control: no-cache, no-store\r\nConnection: close\r\n"+e.toString()+"\r\nretry: "+Math.floor(1e3*this._retry)+"\r\n\r\n";this._write(k),this._stream.on("drain",function(){i.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){i.ping()},1e3*this._ping)),["error","end"].forEach(function(a){i._stream.on(a,function(){i.close()})})}};e.inherits(k,d),k.isEventSource=function(a){return"GET"===a.method&&(a.headers.accept||"").split(/\s*,\s*/).indexOf("text/event-stream")>=0};var l={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(a){if(!this.writable)return!1;try{return this._stream.write(a,"utf8")}catch(a){return!1}},_open:function(){if(this.readyState===h.CONNECTING){this.readyState=h.OPEN;var a=new j("open");a.initEvent("open",!1,!1),this.dispatchEvent(a)}},write:function(a){return this.send(a)},end:function(a){void 0!==a&&this.write(a),this.close()},send:function(a,b){if(this.readyState>h.OPEN)return!1;a=String(a).replace(/(\r\n|\r|\n)/g,"$1data: ");var c="";return(b=b||{}).event&&(c+="event: "+b.event+"\r\n"),b.id&&(c+="id: "+b.id+"\r\n"),c+="data: "+a+"\r\n\r\n",this._write(c)},ping:function(){return this._write(":\r\n\r\n")},close:function(){if(this.readyState>h.OPEN)return!1;this.readyState=h.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var a=new j("close");return a.initEvent("close",!1,!1),this.dispatchEvent(a),!0}};for(var m in l)k.prototype[m]=l[m];for(var n in i)k.prototype[n]=i[n];b.exports=k},17040,(a,b,c)=>{"use strict";var d=a.r(24361),e=a.r(37658),f=a.r(96009),g=function(a,b,c,d,g){g=g||{},this._stream=b,this._driver=e.http(a,{maxLength:g.maxLength,protocols:d});var h=this;if(this._stream&&this._stream.writable){if(!this._stream.readable)return this._stream.end();var i=function(){h._stream.removeListener("data",i)};this._stream.on("data",i),f.call(this,g),process.nextTick(function(){h._driver.start(),h._driver.io.write(c)})}};d.inherits(g,f),g.isWebSocket=function(a){return e.isWebSocket(a)},g.validateOptions=function(a,b){e.validateOptions(a,b)},g.WebSocket=g,g.Client=a.r(63553),g.EventSource=a.r(26329),b.exports=g},40732,(a,b,c)=>{},53859,(a,b,c)=>{a.r(40732);var d=a.r(89982),e=d&&"object"==typeof d&&"default"in d?d:{default:d},f="undefined"!=typeof process&&process.env&&!0,g=function(a){return"[object String]"===Object.prototype.toString.call(a)},h=function(){function a(a){var b=void 0===a?{}:a,c=b.name,d=void 0===c?"stylesheet":c,e=b.optimizeForSpeed,h=void 0===e?f:e;i(g(d),"`name` must be a string"),this._name=d,this._deletedRulePlaceholder="#"+d+"-deleted-rule____{}",i("boolean"==typeof h,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=h,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var b,c=a.prototype;return c.setOptimizeForSpeed=function(a){i("boolean"==typeof a,"`setOptimizeForSpeed` accepts a boolean"),i(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=a,this.inject()},c.isOptimizeForSpeed=function(){return this._optimizeForSpeed},c.inject=function(){var a=this;i(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(b,c){return"number"==typeof c?a._serverSheet.cssRules[c]={cssText:b}:a._serverSheet.cssRules.push({cssText:b}),c},deleteRule:function(b){a._serverSheet.cssRules[b]=null}}},c.getSheetForTag=function(a){if(a.sheet)return a.sheet;for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].ownerNode===a)return document.styleSheets[b]},c.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},c.insertRule=function(a,b){return i(g(a),"`insertRule` accepts only strings"),"number"!=typeof b&&(b=this._serverSheet.cssRules.length),this._serverSheet.insertRule(a,b),this._rulesCount++},c.replaceRule=function(a,b){this._optimizeForSpeed;var c=this._serverSheet;if(b.trim()||(b=this._deletedRulePlaceholder),!c.cssRules[a])return a;c.deleteRule(a);try{c.insertRule(b,a)}catch(d){f||console.warn("StyleSheet: illegal rule: \n\n"+b+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),c.insertRule(this._deletedRulePlaceholder,a)}return a},c.deleteRule=function(a){this._serverSheet.deleteRule(a)},c.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},c.cssRules=function(){return this._serverSheet.cssRules},c.makeStyleTag=function(a,b,c){b&&i(g(b),"makeStyleTag accepts only strings as second parameter");var d=document.createElement("style");this._nonce&&d.setAttribute("nonce",this._nonce),d.type="text/css",d.setAttribute("data-"+a,""),b&&d.appendChild(document.createTextNode(b));var e=document.head||document.getElementsByTagName("head")[0];return c?e.insertBefore(d,c):e.appendChild(d),d},b=[{key:"length",get:function(){return this._rulesCount}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}(a.prototype,b),a}();function i(a,b){if(!a)throw Error("StyleSheet: "+b+".")}var j=function(a){for(var b=5381,c=a.length;c;)b=33*b^a.charCodeAt(--c);return b>>>0},k={};function l(a,b){if(!b)return"jsx-"+a;var c=String(b),d=a+c;return k[d]||(k[d]="jsx-"+j(a+"-"+c)),k[d]}function m(a,b){var c=a+(b=b.replace(/\/style/gi,"\\/style"));return k[c]||(k[c]=b.replace(/__jsx-style-dynamic-selector/g,a)),k[c]}var n=function(){function a(a){var b=void 0===a?{}:a,c=b.styleSheet,d=void 0===c?null:c,e=b.optimizeForSpeed,f=void 0!==e&&e;this._sheet=d||new h({name:"styled-jsx",optimizeForSpeed:f}),this._sheet.inject(),d&&"boolean"==typeof f&&(this._sheet.setOptimizeForSpeed(f),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var b=a.prototype;return b.add=function(a){var b=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(a.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var c=this.getIdAndRules(a),d=c.styleId,e=c.rules;if(d in this._instancesCounts){this._instancesCounts[d]+=1;return}var f=e.map(function(a){return b._sheet.insertRule(a)}).filter(function(a){return -1!==a});this._indices[d]=f,this._instancesCounts[d]=1},b.remove=function(a){var b=this,c=this.getIdAndRules(a).styleId;if(function(a,b){if(!a)throw Error("StyleSheetRegistry: "+b+".")}(c in this._instancesCounts,"styleId: `"+c+"` not found"),this._instancesCounts[c]-=1,this._instancesCounts[c]<1){var d=this._fromServer&&this._fromServer[c];d?(d.parentNode.removeChild(d),delete this._fromServer[c]):(this._indices[c].forEach(function(a){return b._sheet.deleteRule(a)}),delete this._indices[c]),delete this._instancesCounts[c]}},b.update=function(a,b){this.add(b),this.remove(a)},b.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},b.cssRules=function(){var a=this,b=this._fromServer?Object.keys(this._fromServer).map(function(b){return[b,a._fromServer[b]]}):[],c=this._sheet.cssRules();return b.concat(Object.keys(this._indices).map(function(b){return[b,a._indices[b].map(function(a){return c[a].cssText}).join(a._optimizeForSpeed?"":"\n")]}).filter(function(a){return!!a[1]}))},b.styles=function(a){var b,c;return b=this.cssRules(),void 0===(c=a)&&(c={}),b.map(function(a){var b=a[0],d=a[1];return e.default.createElement("style",{id:"__"+b,key:"__"+b,nonce:c.nonce?c.nonce:void 0,dangerouslySetInnerHTML:{__html:d}})})},b.getIdAndRules=function(a){var b=a.children,c=a.dynamic,d=a.id;if(c){var e=l(d,c);return{styleId:e,rules:Array.isArray(b)?b.map(function(a){return m(e,a)}):[m(e,b)]}}return{styleId:l(d),rules:Array.isArray(b)?b:[b]}},b.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(a,b){return a[b.id.slice(2)]=b,a},{})},a}(),o=d.createContext(null);function p(){return new n}function q(){return d.useContext(o)}function r(a){var b=q();return b&&b.add(a),null}o.displayName="StyleSheetContext",e.default.useInsertionEffect||e.default.useLayoutEffect,r.dynamic=function(a){return a.map(function(a){return l(a[0],a[1])}).join(" ")},c.StyleRegistry=function(a){var b=a.registry,c=a.children,f=d.useContext(o),g=d.useState(function(){return f||b||p()})[0];return e.default.createElement(o.Provider,{value:g},c)},c.createStyleRegistry=p,c.style=r,c.useStyleRegistry=q},31485,(a,b,c)=>{b.exports=a.r(53859).style},60350,a=>{"use strict";let b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;var B,C,D,E,F,G,H,I,J,K,L,M,N,O,P=a.i(64781),Q=a.i(89982);let R=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var S={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let T=(0,Q.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:e="",children:f,iconNode:g,...h},i)=>(0,Q.createElement)("svg",{ref:i,...S,width:b,height:b,stroke:a,strokeWidth:d?24*Number(c)/Number(b):c,className:R("lucide",e),...h},[...g.map(([a,b])=>(0,Q.createElement)(a,b)),...Array.isArray(f)?f:[f]])),U=(a,b)=>{let c=(0,Q.forwardRef)(({className:c,...d},e)=>(0,Q.createElement)(T,{ref:e,iconNode:b,className:R(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,c),...d}));return c.displayName=`${a}`,c},V=U("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),W=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);function X(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}let Y=(a=new Map,b=null,c)=>({nextPart:a,validators:b,classGroupId:c}),Z=[],$=(a,b,c)=>{if(0==a.length-b)return c.classGroupId;let d=a[b],e=c.nextPart.get(d);if(e){let c=$(a,b+1,e);if(c)return c}let f=c.validators;if(null===f)return;let g=0===b?a.join("-"):a.slice(b).join("-"),h=f.length;for(let a=0;a<h;a++){let b=f[a];if(b.validator(g))return b.classGroupId}},_=(a,b)=>{let c=Y();for(let d in a)aa(a[d],c,d,b);return c},aa=(a,b,c,d)=>{let e=a.length;for(let f=0;f<e;f++)ab(a[f],b,c,d)},ab=(a,b,c,d)=>{"string"==typeof a?ac(a,b,c):"function"==typeof a?ad(a,b,c,d):ae(a,b,c,d)},ac=(a,b,c)=>{(""===a?b:af(b,a)).classGroupId=c},ad=(a,b,c,d)=>{ag(a)?aa(a(d),b,c,d):(null===b.validators&&(b.validators=[]),b.validators.push({classGroupId:c,validator:a}))},ae=(a,b,c,d)=>{let e=Object.entries(a),f=e.length;for(let a=0;a<f;a++){let[f,g]=e[a];aa(g,af(b,f),c,d)}},af=(a,b)=>{let c=a,d=b.split("-"),e=d.length;for(let a=0;a<e;a++){let b=d[a],e=c.nextPart.get(b);e||(e=Y(),c.nextPart.set(b,e)),c=e}return c},ag=a=>"isThemeGetter"in a&&!0===a.isThemeGetter,ah=[],ai=(a,b,c,d,e)=>({modifiers:a,hasImportantModifier:b,baseClassName:c,maybePostfixModifierPosition:d,isExternal:e}),aj=/\s+/,ak=a=>{let b;if("string"==typeof a)return a;let c="";for(let d=0;d<a.length;d++)a[d]&&(b=ak(a[d]))&&(c&&(c+=" "),c+=b);return c},al=[],am=a=>{let b=b=>b[a]||al;return b.isThemeGetter=!0,b},an=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ao=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ap=/^\d+\/\d+$/,aq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ar=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,as=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,at=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,au=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,av=a=>ap.test(a),aw=a=>!!a&&!Number.isNaN(Number(a)),ax=a=>!!a&&Number.isInteger(Number(a)),ay=a=>a.endsWith("%")&&aw(a.slice(0,-1)),az=a=>aq.test(a),aA=()=>!0,aB=a=>ar.test(a)&&!as.test(a),aC=()=>!1,aD=a=>at.test(a),aE=a=>au.test(a),aF=a=>!aH(a)&&!aN(a),aG=a=>aU(a,aY,aC),aH=a=>an.test(a),aI=a=>aU(a,aZ,aB),aJ=a=>aU(a,a$,aw),aK=a=>aU(a,aW,aC),aL=a=>aU(a,aX,aE),aM=a=>aU(a,a0,aD),aN=a=>ao.test(a),aO=a=>aV(a,aZ),aP=a=>aV(a,a_),aQ=a=>aV(a,aW),aR=a=>aV(a,aY),aS=a=>aV(a,aX),aT=a=>aV(a,a0,!0),aU=(a,b,c)=>{let d=an.exec(a);return!!d&&(d[1]?b(d[1]):c(d[2]))},aV=(a,b,c=!1)=>{let d=ao.exec(a);return!!d&&(d[1]?b(d[1]):c)},aW=a=>"position"===a||"percentage"===a,aX=a=>"image"===a||"url"===a,aY=a=>"length"===a||"size"===a||"bg-size"===a,aZ=a=>"length"===a,a$=a=>"number"===a,a_=a=>"family-name"===a,a0=a=>"shadow"===a,a1=((a,...b)=>{let c,d,e,f,g=a=>{let b=d(a);if(b)return b;let f=((a,b)=>{let{parseClassName:c,getClassGroupId:d,getConflictingClassGroupIds:e,sortModifiers:f}=b,g=[],h=a.trim().split(aj),i="";for(let a=h.length-1;a>=0;a-=1){let b=h[a],{isExternal:j,modifiers:k,hasImportantModifier:l,baseClassName:m,maybePostfixModifierPosition:n}=c(b);if(j){i=b+(i.length>0?" "+i:i);continue}let o=!!n,p=d(o?m.substring(0,n):m);if(!p){if(!o||!(p=d(m))){i=b+(i.length>0?" "+i:i);continue}o=!1}let q=0===k.length?"":1===k.length?k[0]:f(k).join(":"),r=l?q+"!":q,s=r+p;if(g.indexOf(s)>-1)continue;g.push(s);let t=e(p,o);for(let a=0;a<t.length;++a){let b=t[a];g.push(r+b)}i=b+(i.length>0?" "+i:i)}return i})(a,c);return e(a,f),f};return f=h=>{var i;let j;return d=(c={cache:(a=>{if(a<1)return{get:()=>void 0,set:()=>{}};let b=0,c=Object.create(null),d=Object.create(null),e=(e,f)=>{c[e]=f,++b>a&&(b=0,d=c,c=Object.create(null))};return{get(a){let b=c[a];return void 0!==b?b:void 0!==(b=d[a])?(e(a,b),b):void 0},set(a,b){a in c?c[a]=b:e(a,b)}}})((i=b.reduce((a,b)=>b(a),a())).cacheSize),parseClassName:(a=>{let{prefix:b,experimentalParseClassName:c}=a,d=a=>{let b,c=[],d=0,e=0,f=0,g=a.length;for(let h=0;h<g;h++){let g=a[h];if(0===d&&0===e){if(":"===g){c.push(a.slice(f,h)),f=h+1;continue}if("/"===g){b=h;continue}}"["===g?d++:"]"===g?d--:"("===g?e++:")"===g&&e--}let h=0===c.length?a:a.slice(f),i=h,j=!1;return h.endsWith("!")?(i=h.slice(0,-1),j=!0):h.startsWith("!")&&(i=h.slice(1),j=!0),ai(c,j,i,b&&b>f?b-f:void 0)};if(b){let a=b+":",c=d;d=b=>b.startsWith(a)?c(b.slice(a.length)):ai(ah,!1,b,void 0,!0)}if(c){let a=d;d=b=>c({className:b,parseClassName:a})}return d})(i),sortModifiers:(j=new Map,i.orderSensitiveModifiers.forEach((a,b)=>{j.set(a,1e6+b)}),a=>{let b=[],c=[];for(let d=0;d<a.length;d++){let e=a[d],f="["===e[0],g=j.has(e);f||g?(c.length>0&&(c.sort(),b.push(...c),c=[]),b.push(e)):c.push(e)}return c.length>0&&(c.sort(),b.push(...c)),b}),...(a=>{let b=(a=>{let{theme:b,classGroups:c}=a;return _(c,b)})(a),{conflictingClassGroups:c,conflictingClassGroupModifiers:d}=a;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]")){var c;let b,d,e;return -1===(c=a).slice(1,-1).indexOf(":")?void 0:(d=(b=c.slice(1,-1)).indexOf(":"),(e=b.slice(0,d))?"arbitrary.."+e:void 0)}let d=a.split("-"),e=+(""===d[0]&&d.length>1);return $(d,e,b)},getConflictingClassGroupIds:(a,b)=>{if(b){let b=d[a],e=c[a];if(b){if(e){let a=Array(e.length+b.length);for(let b=0;b<e.length;b++)a[b]=e[b];for(let c=0;c<b.length;c++)a[e.length+c]=b[c];return a}return b}return e||Z}return c[a]||Z}}})(i)}).cache.get,e=c.cache.set,f=g,g(h)},(...a)=>f(((...a)=>{let b,c,d=0,e="";for(;d<a.length;)(b=a[d++])&&(c=ak(b))&&(e&&(e+=" "),e+=c);return e})(...a))})(()=>{let a=am("color"),b=am("font"),c=am("text"),d=am("font-weight"),e=am("tracking"),f=am("leading"),g=am("breakpoint"),h=am("container"),i=am("spacing"),j=am("radius"),k=am("shadow"),l=am("inset-shadow"),m=am("text-shadow"),n=am("drop-shadow"),o=am("blur"),p=am("perspective"),q=am("aspect"),r=am("ease"),s=am("animate"),t=()=>["auto","avoid","all","avoid-page","page","left","right","column"],u=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],v=()=>[...u(),aN,aH],w=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],y=()=>[aN,aH,i],z=()=>[av,"full","auto",...y()],A=()=>[ax,"none","subgrid",aN,aH],B=()=>["auto",{span:["full",ax,aN,aH]},ax,aN,aH],C=()=>[ax,"auto",aN,aH],D=()=>["auto","min","max","fr",aN,aH],E=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...y()],H=()=>[av,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],I=()=>[a,aN,aH],J=()=>[...u(),aQ,aK,{position:[aN,aH]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",aR,aG,{size:[aN,aH]}],M=()=>[ay,aO,aI],N=()=>["","none","full",j,aN,aH],O=()=>["",aw,aO,aI],P=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>[aw,ay,aQ,aK],S=()=>["","none",o,aN,aH],T=()=>["none",aw,aN,aH],U=()=>["none",aw,aN,aH],V=()=>[aw,aN,aH],W=()=>[av,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[az],breakpoint:[az],color:[aA],container:[az],"drop-shadow":[az],ease:["in","out","in-out"],font:[aF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[az],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[az],shadow:[az],spacing:["px",aw],text:[az],"text-shadow":[az],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",av,aH,aN,q]}],container:["container"],columns:[{columns:[aw,aH,aN,h]}],"break-after":[{"break-after":t()}],"break-before":[{"break-before":t()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[ax,"auto",aN,aH]}],basis:[{basis:[av,"full","auto",h,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[aw,av,"auto","initial","none",aH]}],grow:[{grow:["",aw,aN,aH]}],shrink:[{shrink:["",aw,aN,aH]}],order:[{order:[ax,"first","last","none",aN,aH]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...E(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...E()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":E()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[h,"screen",...H()]}],"min-w":[{"min-w":[h,"screen","none",...H()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[g]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",c,aO,aI]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[d,aN,aJ]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ay,aH]}],"font-family":[{font:[aP,aH,b]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[e,aN,aH]}],"line-clamp":[{"line-clamp":[aw,"none",aN,aJ]}],leading:[{leading:[f,...y()]}],"list-image":[{"list-image":["none",aN,aH]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",aN,aH]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:[aw,"from-font","auto",aN,aI]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[aw,"auto",aN,aH]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",aN,aH]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",aN,aH]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ax,aN,aH],radial:["",aN,aH],conic:[ax,aN,aH]},aS,aL]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:N()}],"rounded-s":[{"rounded-s":N()}],"rounded-e":[{"rounded-e":N()}],"rounded-t":[{"rounded-t":N()}],"rounded-r":[{"rounded-r":N()}],"rounded-b":[{"rounded-b":N()}],"rounded-l":[{"rounded-l":N()}],"rounded-ss":[{"rounded-ss":N()}],"rounded-se":[{"rounded-se":N()}],"rounded-ee":[{"rounded-ee":N()}],"rounded-es":[{"rounded-es":N()}],"rounded-tl":[{"rounded-tl":N()}],"rounded-tr":[{"rounded-tr":N()}],"rounded-br":[{"rounded-br":N()}],"rounded-bl":[{"rounded-bl":N()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...P(),"hidden","none"]}],"divide-style":[{divide:[...P(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...P(),"none","hidden"]}],"outline-offset":[{"outline-offset":[aw,aN,aH]}],"outline-w":[{outline:["",aw,aO,aI]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",k,aT,aM]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",l,aT,aM]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[aw,aI]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",m,aT,aM]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[aw,aN,aH]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[aw]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[aN,aH]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":u()}],"mask-image-conic-pos":[{"mask-conic":[aw]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",aN,aH]}],filter:[{filter:["","none",aN,aH]}],blur:[{blur:S()}],brightness:[{brightness:[aw,aN,aH]}],contrast:[{contrast:[aw,aN,aH]}],"drop-shadow":[{"drop-shadow":["","none",n,aT,aM]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",aw,aN,aH]}],"hue-rotate":[{"hue-rotate":[aw,aN,aH]}],invert:[{invert:["",aw,aN,aH]}],saturate:[{saturate:[aw,aN,aH]}],sepia:[{sepia:["",aw,aN,aH]}],"backdrop-filter":[{"backdrop-filter":["","none",aN,aH]}],"backdrop-blur":[{"backdrop-blur":S()}],"backdrop-brightness":[{"backdrop-brightness":[aw,aN,aH]}],"backdrop-contrast":[{"backdrop-contrast":[aw,aN,aH]}],"backdrop-grayscale":[{"backdrop-grayscale":["",aw,aN,aH]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[aw,aN,aH]}],"backdrop-invert":[{"backdrop-invert":["",aw,aN,aH]}],"backdrop-opacity":[{"backdrop-opacity":[aw,aN,aH]}],"backdrop-saturate":[{"backdrop-saturate":[aw,aN,aH]}],"backdrop-sepia":[{"backdrop-sepia":["",aw,aN,aH]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",aN,aH]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[aw,"initial",aN,aH]}],ease:[{ease:["linear","initial",r,aN,aH]}],delay:[{delay:[aw,aN,aH]}],animate:[{animate:["none",s,aN,aH]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,aN,aH]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:T()}],"rotate-x":[{"rotate-x":T()}],"rotate-y":[{"rotate-y":T()}],"rotate-z":[{"rotate-z":T()}],scale:[{scale:U()}],"scale-x":[{"scale-x":U()}],"scale-y":[{"scale-y":U()}],"scale-z":[{"scale-z":U()}],"scale-3d":["scale-3d"],skew:[{skew:V()}],"skew-x":[{"skew-x":V()}],"skew-y":[{"skew-y":V()}],transform:[{transform:[aN,aH,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",aN,aH]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",aN,aH]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[aw,aO,aI,aJ]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function a2(...a){return a1(X(a))}let a3=U("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),a4=U("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),a5=U("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var a6=a.i(91578);let a7=[{id:1,year:"1996 - 2000",title:"i hi VIII (1996)",color:"bg-cyan-500",borderColor:"border-cyan-500",textColor:"text-cyan-600",icon:V,image:"./back8.jpg",summary:"y mnh cng nghip ha  hin i ha, tha nhn kinh t nhiu thnh phn",content:{image:"./daihoi8.png",background:{domestic:[" thot khi khng hong kinh t  x hi, t thnh tu quan trng.","Kinh t: n nh v tng trng, pht trin a dng thnh phn kinh t, m ca hi nhp quc t.","X hi: Ci thin i sng nhn dn, n nh chnh tr - x hi"],international:["S pht trin mnh m ca Cch mng khoa hc  cng ngh (c bit l cng ngh thng tin) to ra c hi v thch thc ln.","CNXH hin thc thoi tro (Lin X v ng u tan r)  i hi ng phi kin nh con ng v y mnh i mi."]},oldPolicies:["Bao cp trc tip cho doanh nghip","Qun l kinh t bng mnh lnh hnh chnh","Coi kinh t nh nc l gn nh duy nht"],newPolicies:["y mnh cng nghip ha  hin i ha","Tha nhn kinh t nhiu thnh phn","M ca thu ht u t nc ngoi"],targetsAndMissions:["Mc tiu: a nc ta c bn tr thnh nc cng nghip theo hng hin i vo nm 2020.","Tip tc s nghip i mi, pht trin kinh t nhanh, hiu qu, bn vng.","Xy dng ng v h thng chnh tr vng mnh."],events:["1995: Vit Nam chnh thc gia nhp ASEAN  bc ngot hi nhp quc t.","12/1996 (TW 2 kha VIII): Ban hnh Ngh quyt v GD-T, KH-CN l quc sch hng u.","6/1997 (TW 3 kha VIII): Ban hnh Ngh quyt v Xy dng Nh nc php quyn XHCN v ci cch hnh chnh  t php.","19971998: Khng hong ti chnh chu  - Vit Nam b nh hng nh hn.","7/1998 (TW 5 kha VIII): Ban hnh Ngh quyt v Vn ha Vit Nam tin tin, m  bn sc dn tc.","12/1997 (TW 4 kha VIII) & 2/1999 (TW 6 ln 2 kha VIII): iu chnh nhn s cp cao (L Kh Phiu lm TBT), tp trung Chnh n ng, chng tham nhng, quan liu.","8/1999 (TW 7 kha VIII): Quyt nh Sp xp t chc b my, i mi phng thc hot ng h thng chnh tr."]},contentNext:{image:"./daihoi8.png",mainTheme:"Tip tc s nghip i mi, y mnh cng nghip ha, hin i ha v mc tiu dn giu, nc mnh, x hi cng bng, vn minh, vng bc i ln CNXH.",keyContent:["nh gi thnh tu to ln ca 10 nm i mi (1986-1996), ch ra nhng yu km.","Mc tiu & Nhim v: y mnh cng nghip ha, hin i ha t nc theo nh hng XHCN."],majorLessons:["Gi vng mc tiu c lp dn tc v CNXH.","Kt hp cht ch i mi kinh t vi i mi chnh tr.","Xy dng nn kinh t hng ha nhiu thnh phn.","M rng khi i on kt ton dn v hp tc quc t.","Tng cng vai tr lnh o ca ng."],postCongressResolutions:{industrializationViews:["Quan im: c lp t ch & Hp tc quc t.","L s nghip ca ton dn; ly pht huy ngun lc con ngi l yu t c bn.","Khoa hc v cng ngh l ng lc then cht; ly hiu qu kinh t lm chun c bn."],partyBuilding:["Ni dung: T i mi, t chnh n ng, gi vng bn cht giai cp cng nhn.","Mc tiu: Nng cao bn lnh chnh tr, phm cht, nng lc ca cn b, ng vin.","NQ 10-NQ/TW (TW6 ln 2 - 2/1999): Kin quyt u tranh y li 4 nguy c (tham nhng, quan liu; tt hu kinh t; chch hng XHCN; 'din bin ha bnh')."],stateAndSystemBuilding:{meeting:"Trung ng 3 kha VIII (6/1997) vi Ngh quyt 03-NQ/HNTW.",focus:["Pht huy quyn lm ch ca nhn dn (dn ch i din v trc tip).","Xy dng Nh nc CHXHCN trong sch, vng mnh, hot ng hiu lc, hiu qu.","Nhim v: M rng dn ch, kin ton Quc hi, y mnh ci cch hnh chnh v ci cch t php; hon thin Nh nc php quyn XHCN."]},socialAndCulturalDevelopment:{educationAndScience:{meeting:"Trung ng 2 kha VIII (12/1996) vi Ngh quyt 02-NQ/HNTW.",focus:["Gio dc  o to v khoa hc  cng ngh l quc sch hng u.","Xy dng con ngi Vit Nam pht trin ton din, va hng va chuyn."]},culture:{meeting:"Trung ng 5 kha VIII (7/1998).",focus:["Xy dng v pht trin nn vn ha Vit Nam tin tin, m  bn sc dn tc.","Vn ha l nn tng tinh thn ca x hi, va l mc tiu va l ng lc ca pht trin.","10 nhim v ln (Xy dng con ngi, bo tn di sn, gn vi gio dc, chng 'din bin ha bnh',...)."]}}}}},{id:2,year:"2001 - 2005",title:"i hi IX (2001)",color:"bg-amber-500",borderColor:"border-amber-500",textColor:"text-amber-600",icon:W,summary:"Khng nh T tng H Ch Minh l nn tng t tng, y mnh CNH, HH v hi nhp quc t.",image:"./back9.webp",content:{image:"./daihoi9.png",background:{domestic:["Sau 15 nm i mi (19862001), Vit Nam t nhiu thnh tu, to th v lc mi.","Kinh t pht trin cha vng chc, hiu qu v sc cnh tranh cn thp.","Cc nguy c (tt hu, chch hng, tham nhng, quan liu, 'din bin ha bnh') vn tn ti gay gt.","Mc tiu tng trng GDP 19962000 (910%) khng t."],international:["Cch mng KH-CN, kinh t tri thc v ton cu ha pht trin mnh m.","Ha bnh, hp tc l xu th ch o; xung t cc b, khng b (sau 11/9/2001) vn phc tp.","CNXH hin thc thoi tro, i hi Vit Nam kin nh mc tiu v y mnh i mi."]},oldPolicies:["Nhn thc v i mi cha tht y  v ng b","C ch, chnh sch kinh t cha theo kp yu cu pht trin v hi nhp","Mi trng pht trin cc thnh phn kinh t cha tht thng thong, bnh ng"],newPolicies:["Khng nh T tng H Ch Minh l nn tng t tng, kim ch nam cho hnh ng.","Xc nh m hnh: Kinh t th trng nh hng x hi ch ngha.","Ch ng hi nhp kinh t quc t."],targetsAndMissions:["Chin lc 20012010: a Vit Nam ra khi tnh trng km pht trin.","To nn tng  n nm 2020 c bn tr thnh nc cng nghip.","Mc tiu c th: GDP nm 2010 gp i nm 2000."],events:["4/2001: i hi ng ln th IX (ng ch Nng c Mnh c bu lm Tng B th).","12/2001 (NQ 05-NQ/TW): i mi, sp xp, nng cao hiu qu Doanh nghip Nh nc.","3/2003 (Ch th 23-CT/TW): y mnh nghin cu, tuyn truyn, gio dc T tng H Ch Minh.","3/2003 (NQ 24, 25-NQ/TW): V cng tc dn tc v tn gio (Chin lc lu di, tn trng t do tn ngng).","3/2004 (NQ 36-NQ/TW): Khng nh Ngi Vit Nam  nc ngoi l b phn khng tch ri ca cng ng dn tc."]},contentNext:{mainTheme:"Tip tc thc hin cng nghip ha, hin i ha t nc.",keyContent:["Khng nh Ch ngha Mc  Lnin v T tng H Ch Minh l nn tng t tng, kim ch nam cho hnh ng.","M hnh kinh t: Kinh t th trng nh hng x hi ch ngha.","Nng tm i ngoi: T 'mun l bn' ln 'l i tc tin cy' ca cng ng quc t."],ideologicalFoundation:{hoChiMinhThought:["Ln u xc nh r ni dung c bn ca T tng H Ch Minh.","L s vn dng v pht trin sng to Ch ngha Mc  Lnin vo iu kin Vit Nam."],socialismTransition:["Kin nh con ng XHCN, b qua ch  TBCN nhng tip thu thnh tu KH-CN.","ng lc ch yu l i on kt ton dn, nng ct l lin minh cng  nng  tr thc."],economicModel:["M hnh: Kinh t th trng nh hng x hi ch ngha.","Nn kinh t nhiu thnh phn, vn hnh theo c ch th trng c s qun l ca Nh nc."]},economicOrientation:{title:"nh hng pht trin ton din",content:["Kin tr, lu di pht trin kinh t th trng nh hng XHCN.","Thc hin c ch a s hu, a thnh phn.","Phn phi ch yu theo lao ng v hiu qu, ng thi theo ng gp vn/ngun lc v phc li x hi."]},socialAndCulturalDevelopment:{cultureAndPeople:["Xy dng nn vn ha Vit Nam tin tin, m  bn sc dn tc; pht trin con ngi Vit Nam ton din (tr tu, o c, sng to).","Vn ha c xc nh l nn tng tinh thn, mc tiu v ng lc ca pht trin, gn vi kinh t th trng nh hng XHCN."],nationalUnity:["i on kt ton dn l ng lc ch yu, mc tiu: dn giu, nc mnh, x hi cng bng, dn ch, vn minh.","Quan h X hi  Giai cp: on kt, hp tc trong nhn dn. Ni dung trng tm ca 'u tranh' l thc hin CNHHH, cng bng x hi, chng tiu cc, lm tht bi m mu chng ph."],specificGroups:["Dn tc: Chin lc lu di, cc dn tc bnh ng, on kt, cng pht trin (NQ 24-NQ/TW).","Tn gio: Tn trng quyn t do tn ngng, nghim cm li dng tn gio (NQ 25-NQ/TW).","Ngi Vit Nam  nc ngoi: L b phn khng tch ri, ngun lc quan trng (NQ 36-NQ/TW)."]},nationalDefenseStrategy:{aims:["Bo v c lp, ch quyn, ton vn lnh th.","Bo v ng, Nh nc, nhn dn v ch  XHCN, bo v s nghip i mi.","Gi vng an ninh, trt t v mi trng ha bnh  pht trin."],directingViews:["ng gi vai tr lnh o tuyt i.","Kin nh c lp dn tc gn vi CNXH.","Kt hp cht ch xy dng v bo v T quc.","Xy dng sc mnh tng hp, ch ng phng nga, ngn chn nguy c t sm."],basicTasks:["Gi vng ha bnh, n nh  pht trin t nc.","Xy dng v bo v ng l nhim v then cht.","Tng cng quc phng  an ninh, qun i & cng an nng ct.","y mnh i ngoi, hp tc quc t."]},postCongressResolutions:{economyAndLand:["NQ 05-NQ/TW (9/2001): Sp xp, i mi, nng cao hiu qu Doanh nghip Nh nc.","TW 5 (3/2002): Khng nh kinh t t nhn l b phn quan trng.","t ai: Thuc s hu ton dn, Nh nc qun l thng nht."],partyBuilding:["Ch th 23-CT/TW (3/2003): y mnh nghin cu, tuyn truyn, gio dc T tng H Ch Minh.","Cn b: Xy dng i ng yu nc, lim chnh, c nng lc."]}}},{id:3,year:"2006 - 2010",title:"i hi X (2006)",color:"bg-rose-500",borderColor:"border-rose-500",textColor:"text-rose-600",icon:"Globe",summary:"y mnh ton din cng cuc i mi, ch trng xy dng ng, hi nhp kinh t quc t v gia nhp WTO (2007).",image:"./back10.webp",content:{image:"./daihoi10.png",background:{domestic:["Nn kinh t cha thot khi tnh trng km pht trin, nguy c tt hu xa hn vn ln.","Tc  pht trin cha tng xng vi tim nng.","Suy thoi t tng chnh tr, o c, li sng trong mt b phn cn b, ng vin; tham nhng, lng ph din bin phc tp."],international:["Th gii u th k XXI bin i nhanh, phc tp v kh lng.","Ton cu ha kinh t din ra mnh m.","Khoa hc  cng ngh c nhng bc t ph ln, c bit l cng ngh thng tin, kinh t tri thc.","Cnh tranh kinh t  thng mi gia cc quc gia ngy cng gay gt."]},oldPolicies:["Trong lnh vc kinh t: Ngun lc x hi cha c huy ng y ; Kh chun b y   gia nhp WTO.","Trong cng tc xy dng ng: Cng tc xy dng, chnh n ng cha theo kp yu cu mi."],newPolicies:["Xy dng v chnh n ng l nhim v then cht hng u.","Cho php ng vin lm kinh t t nhn.","Pht huy sc mnh i on kt ton dn tc.","y mnh i mi ton din."],targetsAndMissions:["Huy ng v s dng hiu qu mi ngun lc cho CNHHH.","Pht trin vn ha, thc hin tin b v cng bng x hi.","Tng cng quc phng  an ninh, m rng i ngoi.","Ch ng, tch cc hi nhp kinh t quc t.","To nn tng  n nm 2020 Vit Nam c bn tr thnh nc cng nghip theo hng hin i."],events:["**Gia nhp WTO (2006)**.","**Hi ngh Trung ng 5 kha X (7/2007)** ban hnh Ngh quyt v cng tc t tng, l lun v bo ch.","**Giai on 20062010** m rng quan h i ngoi, gi vng n nh chnh tr."]}},{id:4,year:"2011 - 2015",title:"i hi XI (2011)",color:"bg-slate-700",borderColor:"border-slate-700",textColor:"text-slate-700",icon:"Building2",summary:" ra Cng lnh 2011 v Chin lc 2011-2020. Mc tiu: C bn tr thnh nc cng nghip theo hng hin i vo nm 2020.",image:"./back11.webp",content:{image:"./daihoi11.png",background:{domestic:["Sau 25 nm i mi, t nc t thnh tu to ln v ton din, ra khi tnh trng km pht trin, vt ngng nc thu nhp thp.","Kinh t  x hi c nhiu chuyn bin tch cc, nhng vn chu tc ng tiu cc ca khng hong ti chnh v suy thoi kinh t ton cu.","Cng tc xy dng ng cn nhiu hn ch, chm c khc phc."],international:["Ha bnh, hp tc v pht trin l xu th ln, nhng xung t sc tc, tn gio, tranh chp ti nguyn, khng b v ti phm xuyn quc gia gia tng.","Nhiu vn  ton cu nh i ngho, dch bnh, bin i kh hu i hi tng cng phi hp ng ph.","Qu trnh ton cu ha kinh t tip tc pht trin mnh m, to c hi v thch thc phc tp."]},oldPolicies:["M hnh tng trng cha cn i (gia chiu rng v chiu su).","Cht lng gio dc  o to, ngun nhn lc cha p ng yu cu.","Cng tc xy dng, chnh n ng cn nhiu hn ch, chm c khc phc."],newPolicies:["n nh kinh t v m; i mi m hnh tng trng; c cu li nn kinh t.","Pht trin v nng cao cht lng gio dc  o to, ngun nhn lc; y mnh pht trin khoa hc, cng ngh.","Nng cao hiu lc, hiu qu hot ng ca Nh nc php quyn XHCN; y mnh ci cch hnh chnh v ci cch t php.","y mnh xy dng, chnh n ng v chnh tr, t tng v t chc."],targetsAndMissions:["Ch : Tip tc nng cao nng lc lnh o v sc chin u ca ng, pht huy sc mnh ton dn tc, y mnh ton din cng cuc i mi.","Mc tiu n 2020: Phn u c bn tr thnh nc cng nghip theo hng hin i; chnh tr  x hi n nh, dn ch, k cng; i sng nhn dn c nng cao r rt."],events:["i hi ** ra Cng lnh 2011 v Chin lc pht trin kinh t  x hi 20112020**.","Vit Nam **ra khi tnh trng km pht trin**, vt ngng nc thu nhp thp.","Kinh t v m c bn n nh, duy tr tc  tng trng kh."]}},{id:5,year:"2016 - 2020",title:"i hi XII (2016)",color:"bg-orange-500",borderColor:"border-orange-500",textColor:"text-orange-600",icon:"FileText",summary:"y mnh ton din, ng b cng cuc i mi; tp trung chnh n ng, hon thin th ch v ng ph vi i dch Covid-19.",image:"./back12.webp",content:{image:"./daihoi12.png",background:{domestic:["Vit Nam  30 nm i mi (19862016), 'th v lc tng ln r rt'.","Nhiu vn  mi ny sinh: cht lng tng trng cha cao, n xu  n cng, ci cch b my, tham nhng.","Cn nh hng pht trin bn vng hn."],international:["Th gii v khu vc din bin nhanh, phc tp, kh lng.","Cnh tranh kinh t, an ninh, tranh chp ngy cng gay gt.","To sc p ln ln n nh v pht trin trong nc."]},oldPolicies:["M hnh tng trng chm i mi, cn da vo vn v lao ng  nng sut, cnh tranh cha cao.","Th ch  php lut chng cho, thiu n nh, c li ch cc b.","Doanh nghip nh nc hiu qu thp, n nn, tht thot ln.","B my t chc cng knh, cn b tha/thiu, tham nhng, li ch nhm."],newPolicies:["Xy dng, chnh n ng, ngn chn suy thoi, 't din bin, t chuyn ha' (NQ 04-NQ/TW).","i mi m hnh tng trng, c cu li nn kinh t (thc hin 3 t ph chin lc).","Hon thin th ch kinh t th trng nh hng XHCN (NQ 05-NQ/TW).","Ch ng hi nhp quc t nhng gi vng c lp, t ch.","Tinh gn b my, chng tham nhng, lng ph, quan liu."],targetsAndMissions:["Mc tiu: y mnh ton din, ng b cng cuc i mi, pht trin nhanh v bn vng.","Thc hin 6 nhim v trng tm (Chnh n ng, Tinh gn b my, C cu li kinh t, Hi nhp, An sinh x hi, Pht huy nhn t con ngi)."],events:["**10/2016  NQ 04-NQ/TW (TW4):** Sit k lut, chng suy thoi, 't din bin, t chuyn ha'.","**20162018:** Vit Nam tham gia cc FTA th h mi (CPTPP, EVFTA).","**10/2018  NQ 36:** Pht trin kinh t bin gn ch quyn.","**2020:** i dch Covid-19 bng pht, Vit Nam ng ph thnh cng."]}},{id:6,year:"2021 - Nay",title:"i hi XIII (2021)",color:"bg-emerald-500",borderColor:"border-emerald-500",textColor:"text-emerald-600",icon:"Rocket",summary:"Xc nh tm nhn chin lc n nm 2030 (thu nhp trung bnh cao) v 2045 (nc pht trin, thu nhp cao); thc y chuyn i s v pht trin bn vng.",image:"./back13.webp",content:{image:"./daihoi13.png",background:{domestic:[" c nn tng vng chc sau 35 nm i mi; 'th v lc tng ln r rt'.","Ny sinh cc vn  chin lc mi: pht trin bn vng, chuyn i s, an ninh phi truyn thng.","Cn nh hnh t duy pht trin di hn, tho g im nghn th ch."],international:["Hu Covid-19, kinh t th gii phc hi nhng ri ro cao.","Bin i kh hu tr thnh vn  ton cu.","Cch mng cng nghip 4.0 tc ng mnh m, to p lc cnh tranh ton cu."]},oldPolicies:["Cn chuyn i dt khot t m hnh tng trng truyn thng (da vo vn/lao ng) sang kinh t s/kinh t xanh.","Thc hin cc t ph chin lc (Th ch, Nhn lc, H tng) cn nhiu hn ch cn c tho g."],newPolicies:["Xc nh tm nhn pht trin n 2030 (100 nm thnh lp ng) v 2045 (100 nm thnh lp nc).","Xy dng ng v h thng chnh tr trong sch, hiu lc.","Thc hin 3 t ph chin lc (Th ch, Nhn lc, H tng)  nng cao nng sut, nng lc cnh tranh.","y mnh chuyn i xanh, ng ph bin i kh hu; pht trin kinh t s, x hi s."],targetsAndMissions:["Mc tiu 2030: Tr thnh nc ang pht trin, c cng nghip hin i, thu nhp trung bnh cao.","Mc tiu 2045: Tr thnh nc pht trin, thu nhp cao theo nh hng x hi ch ngha.","Tip tc y mnh ton din, ng b cng cuc i mi, khi dy kht vng pht trin."],events:["**2021-2022:** Tp trung kim sot dch v phc hi kinh t hu Covid-19.","Tip tc hi nhp quc t su rng, tng cnh tranh v i hi nng lc ni sinh mnh hn.","y mnh cuc chin chng tham nhng, tiu cc, cng c nim tin."]}}];function a8(){let[a,b]=(0,Q.useState)(null),[c,d]=(0,Q.useState)(!1);return(0,P.jsxs)("div",{className:"relative mx-auto max-w-7xl px-4",children:[(0,P.jsx)("div",{className:"mb-8 flex justify-center",children:(0,P.jsx)("div",{className:"rounded-lg border-2 border-primary bg-background px-6 py-2 font-bold text-primary shadow-md",children:"BT U"})}),(0,P.jsx)("div",{className:"absolute left-1/2 top-20 bottom-20 w-1 -translate-x-1/2 bg-gradient-to-b from-cyan-500 via-amber-500 to-emerald-500"}),(0,P.jsx)("div",{className:"relative space-y-12",children:a7.map((a,c)=>{let d=c%2==0,e=a.icon;return(0,P.jsxs)("div",{className:"relative",children:[(0,P.jsx)("div",{className:"absolute left-1/2 top-0 z-10 -translate-x-1/2",children:(0,P.jsx)("div",{className:a2("flex h-12 w-12 items-center justify-center rounded-full border-4 bg-background",a.borderColor),children:(0,P.jsx)(e,{className:a2("h-5 w-5",a.textColor)})})}),(0,P.jsxs)("div",{className:a2("relative w-[calc(50%-3rem)]",d?"mr-auto pr-4":"ml-auto pl-4"),children:[(0,P.jsx)("div",{className:a2("absolute top-6 h-0.5 w-8 border-t-2 border-dashed border-muted-foreground/50",d?"right-0":"left-0")}),(0,P.jsxs)("div",{className:a2("cursor-pointer rounded-xl border bg-card p-5 shadow-lg transition-all hover:shadow-xl"),onClick:()=>{b(a)},children:[(0,P.jsx)("div",{className:a2("mb-3 inline-block rounded-full px-4 py-1 text-sm font-bold text-white",a.color),children:a.year}),(0,P.jsx)("div",{children:(0,P.jsx)("img",{src:a.image,alt:a.title,className:"mb-4 h-60 w-full rounded-lg object-cover"})}),(0,P.jsx)("h3",{className:a2("mb-2 text-lg font-bold",a.textColor),children:a.title}),(0,P.jsx)("p",{className:"mb-3 text-sm text-muted-foreground",children:a.summary})]})]})]},a.id)})}),a&&(0,P.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,P.jsxs)("div",{className:"relative grid max-h-[100100vh] w-full max-w-6xl grid-cols-1 overflow-hidden rounded-xl bg-background shadow-xl md:grid-cols-[400px_1fr]",children:[(0,P.jsxs)("div",{className:"relative hidden md:block",children:[(0,P.jsx)(a6.default,{src:a.content.image||"/fallback-image.png",alt:a.title,fill:!0,className:"object-contain",priority:!0}),(0,P.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),a.contentNext&&(0,P.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 flex space-x-2 rounded-lg bg-black/50 p-1 backdrop-blur-sm",children:[(0,P.jsx)("button",{onClick:()=>d(!1),className:a2("flex-1 rounded-md px-3 py-2 text-sm font-semibold transition-colors",c?"text-white/70 hover:bg-white/10":"bg-white text-gray-900 shadow-sm"),children:"Thng tin chung"}),(0,P.jsx)("button",{onClick:()=>d(!0),className:a2("flex-1 rounded-md px-3 py-2 text-sm font-semibold transition-colors",c?"bg-white text-gray-900 shadow-sm":"text-white/70 hover:bg-white/10"),children:"Chi tit Ngh quyt"})]})]}),(0,P.jsxs)("div",{className:"relative max-h-[90vh] overflow-y-auto p-6",children:[(0,P.jsx)("button",{className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground cursor-pointer text-2xl font-bold",onClick:()=>{d(!1),b(null)},children:""}),(0,P.jsxs)("div",{className:"mb-6",children:[(0,P.jsx)("span",{className:a2("inline-block rounded-full px-4 py-1 text-sm font-bold text-white",a.color),children:a.year}),(0,P.jsx)("h2",{className:"mt-2 text-2xl font-bold",children:a.title}),(0,P.jsx)("p",{className:"mt-1 text-muted-foreground",children:a.summary})]}),(0,P.jsx)("div",{className:"space-y-6",children:c?a.contentNext&&(0,P.jsxs)("div",{className:"space-y-6",children:[a.contentNext.majorLessons?(0,P.jsx)("h3",{className:"text-xl font-bold text-primary border-b pb-2",children:"Ngh quyt v Ch trng sau i hi"}):(0,P.jsx)("h3",{className:"text-xl font-bold text-amber-600 border-b pb-2",children:"Ngh quyt v Ch trng sau i hi IX"}),(0,P.jsxs)("p",{className:"text-sm italic text-muted-foreground",children:["Ch : **",a.contentNext.mainTheme,"**"]}),a.contentNext.ideologicalFoundation&&(0,P.jsxs)("div",{className:"rounded-xl border border-indigo-500/30 bg-indigo-50/50 p-4 space-y-4",children:[(0,P.jsx)("h4",{className:"font-bold text-indigo-700",children:"Nn tng T tng & M hnh Kinh t"}),a.contentNext.ideologicalFoundation.hoChiMinhThought&&(0,P.jsxs)("div",{className:"space-y-1",children:[(0,P.jsx)("p",{className:"font-semibold text-sm",children:"T tng H Ch Minh:"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.ideologicalFoundation.hoChiMinhThought.map((a,b)=>(0,P.jsx)("li",{children:a},`hcm-${b}`))})]}),a.contentNext.ideologicalFoundation.economicModel&&(0,P.jsxs)("div",{className:"space-y-1",children:[(0,P.jsx)("p",{className:"font-semibold text-sm",children:"M hnh Kinh t:"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.ideologicalFoundation.economicModel.map((a,b)=>(0,P.jsx)("li",{children:a},`econ-${b}`))})]})]}),a.contentNext.economicOrientation&&(0,P.jsxs)("div",{className:"rounded-xl border border-blue-500/30 bg-blue-50/50 p-4 space-y-2",children:[(0,P.jsx)("h4",{className:"font-bold text-blue-700",children:"nh hng pht trin ton din"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.economicOrientation.content.map((a,b)=>(0,P.jsx)("li",{children:a},`econ-ori-${b}`))})]}),a.contentNext.nationalDefenseStrategy&&(0,P.jsxs)("div",{className:"rounded-xl border border-red-500/30 bg-red-50/50 p-4 space-y-4",children:[(0,P.jsx)("h4",{className:"font-bold text-red-700",children:"Chin lc Bo v T quc"}),(0,P.jsxs)("div",{className:"space-y-1",children:[(0,P.jsx)("p",{className:"font-semibold text-sm",children:"Mc tiu:"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.nationalDefenseStrategy.aims.map((a,b)=>(0,P.jsx)("li",{children:a},`aim-${b}`))})]}),(0,P.jsxs)("div",{className:"space-y-1",children:[(0,P.jsx)("p",{className:"font-semibold text-sm",children:"Nhim v c bn:"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.nationalDefenseStrategy.basicTasks.map((a,b)=>(0,P.jsx)("li",{children:a},`task-${b}`))})]})]}),a.contentNext.postCongressResolutions?.economyAndLand&&(0,P.jsxs)("div",{className:"rounded-xl border p-4 bg-muted/50 space-y-4",children:[(0,P.jsx)("h4",{className:"font-bold text-gray-800",children:"Ch o ca Trung ng Kha IX"}),(0,P.jsxs)("div",{className:"space-y-1",children:[(0,P.jsx)("p",{className:"font-semibold text-sm",children:"i mi Kinh t & Qun l t ai:"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.postCongressResolutions.economyAndLand.map((a,b)=>(0,P.jsx)("li",{children:a},`eco-res-${b}`))})]}),a.contentNext.postCongressResolutions.partyBuilding&&(0,P.jsxs)("div",{className:"space-y-1",children:[(0,P.jsx)("p",{className:"font-semibold text-sm",children:"Xy dng ng, T tng & o c:"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.postCongressResolutions.partyBuilding.map((a,b)=>(0,P.jsx)("li",{children:a},`party-res-${b}`))})]})]}),a.contentNext.majorLessons&&(0,P.jsxs)("div",{className:"rounded-xl border p-4 bg-yellow-50/50",children:[(0,P.jsx)("h4",{className:"mb-2 font-bold text-yellow-700",children:"6 Bi hc kinh nghim ln (10 nm i mi)"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-decimal pl-5",children:a.contentNext.majorLessons.map((a,b)=>(0,P.jsx)("li",{children:a},b))})]}),a.contentNext.postCongressResolutions?.industrializationViews&&(0,P.jsxs)("div",{className:"rounded-xl border p-4",children:[(0,P.jsx)("h4",{className:"mb-2 font-bold text-cyan-600",children:"Quan im v CNH, HH"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.postCongressResolutions.industrializationViews.map((a,b)=>(0,P.jsx)("li",{children:a},b))})]}),a.contentNext.postCongressResolutions?.stateAndSystemBuilding&&(0,P.jsxs)("div",{className:"rounded-xl border p-4 bg-blue-50/50",children:[(0,P.jsx)("h4",{className:"mb-2 font-bold text-blue-600",children:"Xy dng Nh nc & H thng Chnh tr (NQ 03/1997)"}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Hi ngh Trung ng 3 kha VIII"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.postCongressResolutions.stateAndSystemBuilding.focus.map((a,b)=>(0,P.jsx)("li",{children:a},b))})]}),a.contentNext.postCongressResolutions?.partyBuilding&&!a.contentNext.ideologicalFoundation&&(0,P.jsxs)("div",{className:"rounded-xl border p-4 bg-red-50/50",children:[(0,P.jsx)("h4",{className:"mb-2 font-bold text-red-600",children:"Xy dng ng & Chng Suy thoi (NQ 10/1999)"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.postCongressResolutions.partyBuilding.map((a,b)=>(0,P.jsx)("li",{children:a},b))})]}),a.contentNext.postCongressResolutions?.socialAndCulturalDevelopment?.educationAndScience&&(0,P.jsxs)("div",{className:"space-y-4",children:[(0,P.jsxs)("div",{className:"rounded-xl border p-4 bg-emerald-50/50",children:[(0,P.jsx)("h4",{className:"mb-2 font-bold text-emerald-600",children:"Gio dc & Khoa hc  Cng ngh (NQ 02/1996)"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.postCongressResolutions.socialAndCulturalDevelopment.educationAndScience.focus.map((a,b)=>(0,P.jsx)("li",{children:a},b))})]}),(0,P.jsxs)("div",{className:"rounded-xl border p-4 bg-pink-50/50",children:[(0,P.jsx)("h4",{className:"mb-2 font-bold text-pink-600",children:"Vn ha (NQ TW5/1998)"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.contentNext.postCongressResolutions.socialAndCulturalDevelopment.culture.focus.map((a,b)=>(0,P.jsx)("li",{children:a},b))})]})]})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"rounded-xl border bg-muted/30 p-4",children:[(0,P.jsx)("h3",{className:"mb-3 font-bold",children:"Bi cnh"}),(0,P.jsxs)("div",{className:"grid gap-4 md:grid-cols-[1fr_auto_1fr]",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"inline-block rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-primary",children:"Trong nc"}),(0,P.jsx)("ul",{className:"mt-2 space-y-2 text-sm",children:a.content.background.domestic.map((a,b)=>(0,P.jsxs)("li",{children:[" ",a]},b))})]}),(0,P.jsx)("div",{className:"hidden md:block",children:(0,P.jsx)("div",{className:"h-full w-px bg-gray-300 dark:bg-gray-700 mx-2","aria-hidden":"true"})}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"inline-block rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-primary",children:"Quc t"}),(0,P.jsx)("ul",{className:"mt-2 space-y-2 text-sm",children:a.content.background.international.map((a,b)=>(0,P.jsxs)("li",{children:[" ",a]},b))})]})]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h2",{className:"mb-4 text-base font-bold",children:"Chuyn i chnh sch"}),(0,P.jsxs)("div",{className:"grid gap-4 md:grid-cols-[1fr_auto_1fr]",children:[(0,P.jsxs)("div",{className:"rounded-xl border border-destructive/30 bg-destructive/5 p-4",children:[(0,P.jsx)("h3",{className:"mb-2 font-semibold text-destructive",children:"Chnh sch c"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm",children:a.content.oldPolicies.map((a,b)=>(0,P.jsxs)("li",{className:"flex gap-2",children:[(0,P.jsx)(a3,{className:"mt-0.5 h-3.5 w-3.5 text-destructive"}),(0,P.jsx)("span",{children:a})]},b))})]}),(0,P.jsx)("div",{className:"hidden md:flex items-center justify-center",children:(0,P.jsx)(a4,{className:"h-8 w-8 text-muted-foreground"})}),(0,P.jsxs)("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[(0,P.jsx)("h3",{className:"mb-2 font-semibold text-emerald-600",children:"Chnh sch mi"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm",children:a.content.newPolicies.map((a,b)=>(0,P.jsxs)("li",{className:"flex gap-2",children:[(0,P.jsx)(a5,{className:"mt-0.5 h-3.5 w-3.5 text-emerald-500"}),(0,P.jsx)("span",{children:a})]},b))})]})]})]}),a.content.targetsAndMissions&&a.content.targetsAndMissions.length>0&&(0,P.jsxs)("div",{className:"rounded-xl border border-blue-500/30 bg-blue-500/5 p-4",children:[(0,P.jsx)("h3",{className:"mb-2 font-bold text-blue-600",children:"Mc tiu & Nhim v"}),(0,P.jsx)("ul",{className:"space-y-1 text-sm list-disc pl-5",children:a.content.targetsAndMissions.map((a,b)=>(0,P.jsx)("li",{children:a},b))})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h3",{className:"mb-2 font-bold",children:"S kin ni bt"}),(0,P.jsx)("ul",{className:"rounded-lg bg-muted p-3 text-sm list-disc pl-5",children:a.content.events.map((a,b)=>(0,P.jsx)("li",{className:"mb-1",children:a},b))})]})]})})]})]})}),(0,P.jsx)("div",{className:"mt-8 flex justify-center",children:(0,P.jsx)("div",{className:"rounded-lg border-2 border-emerald-500 bg-background px-6 py-2 font-bold text-emerald-600 shadow-md",children:"HIN TI"})})]})}function a9(){return(0,P.jsxs)("div",{className:"space-y-12",children:[(0,P.jsxs)("section",{className:"mx-auto max-w-4xl text-center",children:[(0,P.jsx)("h1",{className:"mb-6 text-3xl font-bold text-foreground md:text-4xl",children:"Lch s Vit Nam t i hi VIII n nay"}),(0,P.jsx)("p",{className:"text-lg leading-relaxed text-muted-foreground",children:"Vit Nam sau khi ginh c lp v thng nht t nc bc vo giai on xy dng v pht trin. T i hi VIII (1996) n nay, ng Cng sn Vit Nam  tng bc i mi t duy lnh o, nh hnh m hnh pht trin kinh t  x hi, v hi nhp su rng vi th gii."})]}),(0,P.jsx)("section",{className:"mx-auto max-w-7xl",children:(0,P.jsx)(a8,{})})]})}function ba({activeTab:a,setActiveTab:b}){return(0,P.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,P.jsxs)("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[(0,P.jsx)("div",{className:"flex items-center gap-2",children:(0,P.jsx)("span",{className:"text-xl font-bold text-foreground",children:"Nhm 8 - VNR202"})}),(0,P.jsxs)("nav",{className:"flex items-center gap-1",children:[(0,P.jsx)("button",{onClick:()=>b("home"),className:a2("px-4 py-2 rounded-lg font-medium transition-colors hover:cursor-pointer","home"===a?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:"Home"}),(0,P.jsx)("button",{onClick:()=>b("game"),className:a2("px-4 py-2 rounded-lg font-medium transition-colors hover:cursor-pointer","game"===a?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:"Game"})]})]})})}function bb(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function bc(...a){return b=>{let c=!1,d=a.map(a=>{let d=bb(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():bb(a[b],null)}}}}function bd(...a){return Q.useCallback(bc(...a),a)}var be=Q.forwardRef((a,b)=>{let{children:c,...d}=a,e=Q.Children.toArray(c),f=e.find(bh);if(f){let a=f.props.children,c=e.map(b=>b!==f?b:Q.Children.count(a)>1?Q.Children.only(null):Q.isValidElement(a)?a.props.children:null);return(0,P.jsx)(bf,{...d,ref:b,children:Q.isValidElement(a)?Q.cloneElement(a,void 0,c):null})}return(0,P.jsx)(bf,{...d,ref:b,children:c})});be.displayName="Slot";var bf=Q.forwardRef((a,b)=>{let{children:c,...d}=a;if(Q.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref);return Q.cloneElement(c,{...function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{f(...a),e(...a)}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props),ref:b?bc(b,g):g})}return Q.Children.count(c)>1?Q.Children.only(null):null});bf.displayName="SlotClone";var bg=({children:a})=>(0,P.jsx)(P.Fragment,{children:a});function bh(a){return Q.isValidElement(a)&&a.type===bg}let bi=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,bj=(s="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}},a=>{var b;if((null==t?void 0:t.variants)==null)return X(s,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:c,defaultVariants:d}=t,e=Object.keys(c).map(b=>{let e=null==a?void 0:a[b],f=null==d?void 0:d[b];if(null===e)return null;let g=bi(e)||bi(f);return c[b][g]}),f=a&&Object.entries(a).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return X(s,e,null==t||null==(b=t.compoundVariants)?void 0:b.reduce((a,b)=>{let{class:c,className:e,...g}=b;return Object.entries(g).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...d,...f}[b]):({...d,...f})[b]===c})?[...a,c,e]:a},[]),null==a?void 0:a.class,null==a?void 0:a.className)});function bk({className:a,variant:b,size:c,asChild:d=!1,...e}){let f=d?be:"button";return(0,P.jsx)(f,{"data-slot":"button",className:a2(bj({variant:b,size:c,className:a})),...e})}function bl({className:a,type:b,...c}){return(0,P.jsx)("input",{type:b,"data-slot":"input",className:a2("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}function bm({className:a,...b}){return(0,P.jsx)("div",{"data-slot":"card",className:a2("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function bn({className:a,...b}){return(0,P.jsx)("div",{"data-slot":"card-header",className:a2("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function bo({className:a,...b}){return(0,P.jsx)("div",{"data-slot":"card-title",className:a2("leading-none font-semibold",a),...b})}function bp({className:a,...b}){return(0,P.jsx)("div",{"data-slot":"card-description",className:a2("text-muted-foreground text-sm",a),...b})}function bq({className:a,...b}){return(0,P.jsx)("div",{"data-slot":"card-content",className:a2("px-6",a),...b})}let br=U("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),bs=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),bt=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),bu=U("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),bv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},bw=function(a,b){if(!a)throw bx(b)},bx=function(a){return Error("Firebase Database ("+bv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)},by=function(a){let b=[],c=0;for(let d=0;d<a.length;d++){let e=a.charCodeAt(d);e<128?b[c++]=e:(e<2048?b[c++]=e>>6|192:((64512&e)==55296&&d+1<a.length&&(64512&a.charCodeAt(d+1))==56320?(e=65536+((1023&e)<<10)+(1023&a.charCodeAt(++d)),b[c++]=e>>18|240,b[c++]=e>>12&63|128):b[c++]=e>>12|224,b[c++]=e>>6&63|128),b[c++]=63&e|128)}return b},bz=function(a){let b=[],c=0,d=0;for(;c<a.length;){let e=a[c++];if(e<128)b[d++]=String.fromCharCode(e);else if(e>191&&e<224){let f=a[c++];b[d++]=String.fromCharCode((31&e)<<6|63&f)}else if(e>239&&e<365){let f=((7&e)<<18|(63&a[c++])<<12|(63&a[c++])<<6|63&a[c++])-65536;b[d++]=String.fromCharCode(55296+(f>>10)),b[d++]=String.fromCharCode(56320+(1023&f))}else{let f=a[c++],g=a[c++];b[d++]=String.fromCharCode((15&e)<<12|(63&f)<<6|63&g)}}return b.join("")},bA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(a,b){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();let c=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,d=[];for(let b=0;b<a.length;b+=3){let e=a[b],f=b+1<a.length,g=f?a[b+1]:0,h=b+2<a.length,i=h?a[b+2]:0,j=e>>2,k=(3&e)<<4|g>>4,l=(15&g)<<2|i>>6,m=63&i;!h&&(m=64,f||(l=64)),d.push(c[j],c[k],c[l],c[m])}return d.join("")},encodeString(a,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(a):this.encodeByteArray(by(a),b)},decodeString(a,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(a):bz(this.decodeStringToByteArray(a,b))},decodeStringToByteArray(a,b){this.init_();let c=b?this.charToByteMapWebSafe_:this.charToByteMap_,d=[];for(let b=0;b<a.length;){let e=c[a.charAt(b++)],f=b<a.length?c[a.charAt(b)]:0,g=++b<a.length?c[a.charAt(b)]:64,h=++b<a.length?c[a.charAt(b)]:64;if(++b,null==e||null==f||null==g||null==h)throw new bB;let i=e<<2|f>>4;if(d.push(i),64!==g){let a=f<<4&240|g>>2;if(d.push(a),64!==h){let a=g<<6&192|h;d.push(a)}}}return d},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class bB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let bC=function(a){let b=by(a);return bA.encodeByteArray(b,!0)},bD=function(a){return bC(a).replace(/\./g,"")},bE=function(a){try{return bA.decodeString(a,!0)}catch(a){console.error("base64Decode failed: ",a)}return null},bF=()=>{try{return("undefined"!=typeof self?self:a.g).__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;let a=process.env.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)})()||(()=>{let a;if("undefined"==typeof document)return;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(a){return}let b=a&&bE(a[1]);return b&&JSON.parse(b)})()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},bG=()=>bF()?.config;class bH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((a,b)=>{this.resolve=a,this.reject=b})}wrapCallback(a){return(b,c)=>{b?this.reject(b):this.resolve(c),"function"==typeof a&&(this.promise.catch(()=>{}),1===a.length?a(b):a(b,c))}}}function bI(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bJ(a){return(await fetch(a,{credentials:"include"})).ok}function bK(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function bL(){return!0===bv.NODE_CLIENT||!0===bv.NODE_ADMIN}function bM(){try{return"object"==typeof indexedDB}catch(a){return!1}}function bN(){return new Promise((a,b)=>{try{let c=!0,d="validate-browser-context-for-indexeddb-analytics-module",e=self.indexedDB.open(d);e.onsuccess=()=>{e.result.close(),c||self.indexedDB.deleteDatabase(d),a(!0)},e.onupgradeneeded=()=>{c=!1},e.onerror=()=>{b(e.error?.message||"")}}catch(a){b(a)}})}class bO extends Error{constructor(a,b,c){super(b),this.code=a,this.customData=c,this.name="FirebaseError",Object.setPrototypeOf(this,bO.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bP.prototype.create)}}class bP{constructor(a,b,c){this.service=a,this.serviceName=b,this.errors=c}create(a,...b){var c,d;let e=b[0]||{},f=`${this.service}/${a}`,g=this.errors[a],h=g?(c=g,d=e,c.replace(bQ,(a,b)=>{let c=d[b];return null!=c?String(c):`<${b}?>`})):"Error",i=`${this.serviceName}: ${h} (${f}).`;return new bO(f,i,e)}}let bQ=/\{\$([^}]+)}/g;function bR(a){return JSON.parse(a)}function bS(a){return JSON.stringify(a)}let bT=function(a){let b={},c={},d={},e="";try{let f=a.split(".");b=bR(bE(f[0])||""),c=bR(bE(f[1])||""),e=f[2],d=c.d||{},delete c.d}catch(a){}return{header:b,claims:c,data:d,signature:e}},bU=function(a){let b=bT(a).claims;return!!b&&"object"==typeof b&&b.hasOwnProperty("iat")},bV=function(a){let b=bT(a).claims;return"object"==typeof b&&!0===b.admin};function bW(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function bX(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0}function bY(a){for(let b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0}function bZ(a,b,c){let d={};for(let e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=b.call(c,a[e],e,a));return d}function b$(a,b){if(a===b)return!0;let c=Object.keys(a),d=Object.keys(b);for(let e of c){if(!d.includes(e))return!1;let c=a[e],f=b[e];if(b_(c)&&b_(f)){if(!b$(c,f))return!1}else if(c!==f)return!1}for(let a of d)if(!c.includes(a))return!1;return!0}function b_(a){return null!==a&&"object"==typeof a}class b0{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let a=1;a<this.blockSize;++a)this.pad_[a]=0;this.reset()}reset(){this.chain_[0]=0x67452301,this.chain_[1]=0xefcdab89,this.chain_[2]=0x98badcfe,this.chain_[3]=0x10325476,this.chain_[4]=0xc3d2e1f0,this.inbuf_=0,this.total_=0}compress_(a,b){let c,d;b||(b=0);let e=this.W_;if("string"==typeof a)for(let c=0;c<16;c++)e[c]=a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3),b+=4;else for(let c=0;c<16;c++)e[c]=a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3],b+=4;for(let a=16;a<80;a++){let b=e[a-3]^e[a-8]^e[a-14]^e[a-16];e[a]=(b<<1|b>>>31)&0xffffffff}let f=this.chain_[0],g=this.chain_[1],h=this.chain_[2],i=this.chain_[3],j=this.chain_[4];for(let a=0;a<80;a++){a<40?a<20?(c=i^g&(h^i),d=0x5a827999):(c=g^h^i,d=0x6ed9eba1):a<60?(c=g&h|i&(g|h),d=0x8f1bbcdc):(c=g^h^i,d=0xca62c1d6);let b=(f<<5|f>>>27)+c+j+d+e[a]|0;j=i,i=h,h=(g<<30|g>>>2)&0xffffffff,g=f,f=b}this.chain_[0]=this.chain_[0]+f|0,this.chain_[1]=this.chain_[1]+g|0,this.chain_[2]=this.chain_[2]+h|0,this.chain_[3]=this.chain_[3]+i|0,this.chain_[4]=this.chain_[4]+j|0}update(a,b){if(null==a)return;void 0===b&&(b=a.length);let c=b-this.blockSize,d=0,e=this.buf_,f=this.inbuf_;for(;d<b;){if(0===f)for(;d<=c;)this.compress_(a,d),d+=this.blockSize;if("string"==typeof a){for(;d<b;)if(e[f]=a.charCodeAt(d),++f,++d,f===this.blockSize){this.compress_(e),f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f===this.blockSize){this.compress_(e),f=0;break}}this.inbuf_=f,this.total_+=b}digest(){let a=[],b=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=255&b,b/=256;this.compress_(this.buf_);let c=0;for(let b=0;b<5;b++)for(let d=24;d>=0;d-=8)a[c]=this.chain_[b]>>d&255,++c;return a}}function b1(a,b){return`${a} failed: ${b} argument `}let b2=function(a){let b=[],c=0;for(let d=0;d<a.length;d++){let e=a.charCodeAt(d);if(e>=55296&&e<=56319){let b=e-55296;bw(++d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(b<<10)+(a.charCodeAt(d)-56320)}e<128?b[c++]=e:(e<2048?b[c++]=e>>6|192:(e<65536?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=63&e|128)}return b},b3=function(a){let b=0;for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);d<128?b++:d<2048?b+=2:d>=55296&&d<=56319?(b+=4,c++):b+=3}return b};function b4(a,b=1e3,c=2){let d=b*Math.pow(c,a),e=Math.round(.5*d*(Math.random()-.5)*2);return Math.min(144e5,d+e)}function b5(a){return a&&a._delegate?a._delegate:a}bv.NODE_CLIENT=!0;class b6{constructor(a,b,c){this.name=a,this.instanceFactory=b,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(a){return this.instantiationMode=a,this}setMultipleInstances(a){return this.multipleInstances=a,this}setServiceProps(a){return this.serviceProps=a,this}setInstanceCreatedCallback(a){return this.onInstanceCreated=a,this}}let b7="[DEFAULT]";class b8{constructor(a,b){this.name=a,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(a){let b=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(b)){let a=new bH;if(this.instancesDeferred.set(b,a),this.isInitialized(b)||this.shouldAutoInitialize())try{let c=this.getOrInitializeService({instanceIdentifier:b});c&&a.resolve(c)}catch(a){}}return this.instancesDeferred.get(b).promise}getImmediate(a){let b=this.normalizeInstanceIdentifier(a?.identifier),c=a?.optional??!1;if(this.isInitialized(b)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:b})}catch(a){if(c)return null;throw a}if(c)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(a){if(a.name!==this.name)throw Error(`Mismatching Component ${a.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=a,this.shouldAutoInitialize()){if("EAGER"===a.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:b7})}catch(a){}for(let[a,b]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(a);try{let a=this.getOrInitializeService({instanceIdentifier:c});b.resolve(a)}catch(a){}}}}clearInstance(a=b7){this.instancesDeferred.delete(a),this.instancesOptions.delete(a),this.instances.delete(a)}async delete(){let a=Array.from(this.instances.values());await Promise.all([...a.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...a.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return null!=this.component}isInitialized(a=b7){return this.instances.has(a)}getOptions(a=b7){return this.instancesOptions.get(a)||{}}initialize(a={}){let{options:b={}}=a,c=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let d=this.getOrInitializeService({instanceIdentifier:c,options:b});for(let[a,b]of this.instancesDeferred.entries())c===this.normalizeInstanceIdentifier(a)&&b.resolve(d);return d}onInit(a,b){let c=this.normalizeInstanceIdentifier(b),d=this.onInitCallbacks.get(c)??new Set;d.add(a),this.onInitCallbacks.set(c,d);let e=this.instances.get(c);return e&&a(e,c),()=>{d.delete(a)}}invokeOnInitCallbacks(a,b){let c=this.onInitCallbacks.get(b);if(c)for(let d of c)try{d(a,b)}catch{}}getOrInitializeService({instanceIdentifier:a,options:b={}}){var c;let d=this.instances.get(a);if(!d&&this.component&&(d=this.component.instanceFactory(this.container,{instanceIdentifier:(c=a)===b7?void 0:c,options:b}),this.instances.set(a,d),this.instancesOptions.set(a,b),this.invokeOnInitCallbacks(d,a),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,a,d)}catch{}return d||null}normalizeInstanceIdentifier(a=b7){return this.component?this.component.multipleInstances?a:b7:a}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class b9{constructor(a){this.name=a,this.providers=new Map}addComponent(a){let b=this.getProvider(a.name);if(b.isComponentSet())throw Error(`Component ${a.name} has already been registered with ${this.name}`);b.setComponent(a)}addOrOverwriteComponent(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.addComponent(a)}getProvider(a){if(this.providers.has(a))return this.providers.get(a);let b=new b8(a,this);return this.providers.set(a,b),b}getProviders(){return Array.from(this.providers.values())}}let ca=[];(B=L||(L={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT";let cb={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},cc=L.INFO,cd={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ce=(a,b,...c)=>{if(b<a.logLevel)return;let d=new Date().toISOString(),e=cd[b];if(e)console[e](`[${d}]  ${a.name}:`,...c);else throw Error(`Attempted to log a message with an invalid logType (value: ${b})`)};class cf{constructor(a){this.name=a,this._logLevel=cc,this._logHandler=ce,this._userLogHandler=null,ca.push(this)}get logLevel(){return this._logLevel}set logLevel(a){if(!(a in L))throw TypeError(`Invalid value "${a}" assigned to \`logLevel\``);this._logLevel=a}setLogLevel(a){this._logLevel="string"==typeof a?cb[a]:a}get logHandler(){return this._logHandler}set logHandler(a){if("function"!=typeof a)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a}get userLogHandler(){return this._userLogHandler}set userLogHandler(a){this._userLogHandler=a}debug(...a){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...a),this._logHandler(this,L.DEBUG,...a)}log(...a){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...a),this._logHandler(this,L.VERBOSE,...a)}info(...a){this._userLogHandler&&this._userLogHandler(this,L.INFO,...a),this._logHandler(this,L.INFO,...a)}warn(...a){this._userLogHandler&&this._userLogHandler(this,L.WARN,...a),this._logHandler(this,L.WARN,...a)}error(...a){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...a),this._logHandler(this,L.ERROR,...a)}}let cg=new WeakMap,ch=new WeakMap,ci=new WeakMap,cj=new WeakMap,ck=new WeakMap,cl={get(a,b,c){if(a instanceof IDBTransaction){if("done"===b)return ch.get(a);if("objectStoreNames"===b)return a.objectStoreNames||ci.get(a);if("store"===b)return c.objectStoreNames[1]?void 0:c.objectStore(c.objectStoreNames[0])}return cm(a[b])},set:(a,b,c)=>(a[b]=c,!0),has:(a,b)=>a instanceof IDBTransaction&&("done"===b||"store"===b)||b in a};function cm(a){if(a instanceof IDBRequest){let b;return(b=new Promise((b,c)=>{let d=()=>{a.removeEventListener("success",e),a.removeEventListener("error",f)},e=()=>{b(cm(a.result)),d()},f=()=>{c(a.error),d()};a.addEventListener("success",e),a.addEventListener("error",f)})).then(b=>{b instanceof IDBCursor&&cg.set(b,a)}).catch(()=>{}),ck.set(b,a),b}if(cj.has(a))return cj.get(a);let d=function(a){if("function"==typeof a)return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(a)?function(...b){return a.apply(cn(this),b),cm(cg.get(this))}:function(...b){return cm(a.apply(cn(this),b))}:function(b,...c){let d=a.call(cn(this),b,...c);return ci.set(d,b.sort?b.sort():[b]),cm(d)};return a instanceof IDBTransaction&&function(a){if(ch.has(a))return;let b=new Promise((b,c)=>{let d=()=>{a.removeEventListener("complete",e),a.removeEventListener("error",f),a.removeEventListener("abort",f)},e=()=>{b(),d()},f=()=>{c(a.error||new DOMException("AbortError","AbortError")),d()};a.addEventListener("complete",e),a.addEventListener("error",f),a.addEventListener("abort",f)});ch.set(a,b)}(a),(b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(b=>a instanceof b)?new Proxy(a,cl):a}(a);return d!==a&&(cj.set(a,d),ck.set(d,a)),d}let cn=a=>ck.get(a);function co(a,b,{blocked:c,upgrade:d,blocking:e,terminated:f}={}){let g=indexedDB.open(a,b),h=cm(g);return d&&g.addEventListener("upgradeneeded",a=>{d(cm(g.result),a.oldVersion,a.newVersion,cm(g.transaction),a)}),c&&g.addEventListener("blocked",a=>c(a.oldVersion,a.newVersion,a)),h.then(a=>{f&&a.addEventListener("close",()=>f()),e&&a.addEventListener("versionchange",a=>e(a.oldVersion,a.newVersion,a))}).catch(()=>{}),h}let cp=["get","getKey","getAll","getAllKeys","count"],cq=["put","add","delete","clear"],cr=new Map;function cs(a,b){if(!(a instanceof IDBDatabase&&!(b in a)&&"string"==typeof b))return;if(cr.get(b))return cr.get(b);let c=b.replace(/FromIndex$/,""),d=b!==c,e=cq.includes(c);if(!(c in(d?IDBIndex:IDBObjectStore).prototype)||!(e||cp.includes(c)))return;let f=async function(a,...b){let f=this.transaction(a,e?"readwrite":"readonly"),g=f.store;return d&&(g=g.index(b.shift())),(await Promise.all([g[c](...b),e&&f.done]))[0]};return cr.set(b,f),f}cl={...y=cl,get:(a,b,c)=>cs(a,b)||y.get(a,b,c),has:(a,b)=>!!cs(a,b)||y.has(a,b)};class ct{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map(a=>{let b;if(b=a.getComponent(),b?.type!=="VERSION")return null;{let b=a.getImmediate();return`${b.library}/${b.version}`}}).filter(a=>a).join(" ")}}let cu="@firebase/app",cv="0.14.6",cw=new cf("@firebase/app"),cx="[DEFAULT]",cy={[cu]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},cz=new Map,cA=new Map,cB=new Map;function cC(a,b){try{a.container.addComponent(b)}catch(c){cw.debug(`Component ${b.name} failed to register with FirebaseApp ${a.name}`,c)}}function cD(a,b){a.container.addOrOverwriteComponent(b)}function cE(a){let b=a.name;if(cB.has(b))return cw.debug(`There were multiple attempts to register component ${b}.`),!1;for(let c of(cB.set(b,a),cz.values()))cC(c,a);for(let b of cA.values())cC(b,a);return!0}function cF(a,b){let c=a.container.getProvider("heartbeat").getImmediate({optional:!0});return c&&c.triggerHeartbeat(),a.container.getProvider(b)}function cG(a,b,c=cx){cF(a,b).clearInstance(c)}function cH(a){return void 0!==a.options}function cI(a){return!cH(a)&&("authIdToken"in a||"appCheckToken"in a||"releaseOnDeref"in a||"automaticDataCollectionEnabled"in a)}function cJ(a){return null!=a&&void 0!==a.settings}function cK(){cB.clear()}let cL=new bP("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cM{constructor(a,b,c){this._isDeleted=!1,this._options={...a},this._config={...b},this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new b6("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw cL.create("app-deleted",{appName:this._name})}}function cN(a,b){let c=bE(a.split(".")[1]);null===c?console.error(`FirebaseServerApp ${b} is invalid: second part could not be parsed.`):void 0===JSON.parse(c).exp?console.error(`FirebaseServerApp ${b} is invalid: expiration claim could not be parsed`):1e3*JSON.parse(c).exp-new Date().getTime()<=0&&console.error(`FirebaseServerApp ${b} is invalid: the token has expired.`)}class cO extends cM{constructor(a,b,c,d){const e=void 0===b.automaticDataCollectionEnabled||b.automaticDataCollectionEnabled,f={name:c,automaticDataCollectionEnabled:e};void 0!==a.apiKey?super(a,f,d):super(a.options,f,d),this._serverConfig={automaticDataCollectionEnabled:e,...b},this._serverConfig.authIdToken&&cN(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&cN(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,b.releaseOnDeref=void 0,cV(cu,cv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(a){this.isDeleted||(this._refCount++,void 0!==a&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(a,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){cU(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw cL.create("server-app-deleted")}}let cP="12.6.0";function cQ(a,b={}){let c=a;"object"!=typeof b&&(b={name:b});let d={name:cx,automaticDataCollectionEnabled:!0,...b},e=d.name;if("string"!=typeof e||!e)throw cL.create("bad-app-name",{appName:String(e)});if(c||(c=bG()),!c)throw cL.create("no-options");let f=cz.get(e);if(f)if(b$(c,f.options)&&b$(d,f.config))return f;else throw cL.create("duplicate-app",{appName:e});let g=new b9(e);for(let a of cB.values())g.addComponent(a);let h=new cM(c,d,g);return cz.set(e,h),h}function cR(a,b={}){let c;if(bK()&&!bK())throw cL.create("invalid-server-app-environment");let d=b||{};if(a&&(cH(a)?c=a.options:cI(a)?d=a:c=a),void 0===d.automaticDataCollectionEnabled&&(d.automaticDataCollectionEnabled=!0),c||(c=bG()),!c)throw cL.create("no-options");let e={...d,...c};if(void 0!==e.releaseOnDeref&&delete e.releaseOnDeref,void 0!==d.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw cL.create("finalization-registry-not-supported",{});let f=""+[...JSON.stringify(e)].reduce((a,b)=>Math.imul(31,a)+b.charCodeAt(0)|0,0),g=cA.get(f);if(g)return g.incRefCount(d.releaseOnDeref),g;let h=new b9(f);for(let a of cB.values())h.addComponent(a);let i=new cO(c,d,f,h);return cA.set(f,i),i}function cS(a=cx){let b=cz.get(a);if(!b&&a===cx&&bG())return cQ();if(!b)throw cL.create("no-app",{appName:a});return b}function cT(){return Array.from(cz.values())}async function cU(a){let b=!1,c=a.name;cz.has(c)?(b=!0,cz.delete(c)):cA.has(c)&&0>=a.decRefCount()&&(cA.delete(c),b=!0),b&&(await Promise.all(a.container.getProviders().map(a=>a.delete())),a.isDeleted=!0)}function cV(a,b,c){let d=cy[a]??a;c&&(d+=`-${c}`);let e=d.match(/\s|\//),f=b.match(/\s|\//);if(e||f){let a=[`Unable to register library "${d}" with version "${b}":`];e&&a.push(`library name "${d}" contains illegal characters (whitespace or "/")`),e&&f&&a.push("and"),f&&a.push(`version name "${b}" contains illegal characters (whitespace or "/")`),cw.warn(a.join(" "));return}cE(new b6(`${d}-version`,()=>({library:d,version:b}),"VERSION"))}function cW(a,b){if(null!==a&&"function"!=typeof a)throw cL.create("invalid-log-argument");for(let c of ca){let d=null;b&&b.level&&(d=cb[b.level]),null===a?c.userLogHandler=null:c.userLogHandler=(b,c,...e)=>{let f=e.map(a=>{if(null==a)return null;if("string"==typeof a)return a;if("number"==typeof a||"boolean"==typeof a)return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch(a){return null}}).filter(a=>a).join(" ");c>=(d??b.logLevel)&&a({level:L[c].toLowerCase(),message:f,args:e,type:b.name})}}}function cX(a){ca.forEach(b=>{b.setLogLevel(a)})}let cY="firebase-heartbeat-store",cZ=null;function c$(){return cZ||(cZ=co("firebase-heartbeat-database",1,{upgrade:(a,b)=>{if(0===b)try{a.createObjectStore(cY)}catch(a){console.warn(a)}}}).catch(a=>{throw cL.create("idb-open",{originalErrorMessage:a.message})})),cZ}async function c_(a){try{let b=(await c$()).transaction(cY),c=await b.objectStore(cY).get(c1(a));return await b.done,c}catch(a){if(a instanceof bO)cw.warn(a.message);else{let b=cL.create("idb-get",{originalErrorMessage:a?.message});cw.warn(b.message)}}}async function c0(a,b){try{let c=(await c$()).transaction(cY,"readwrite"),d=c.objectStore(cY);await d.put(b,c1(a)),await c.done}catch(a){if(a instanceof bO)cw.warn(a.message);else{let b=cL.create("idb-set",{originalErrorMessage:a?.message});cw.warn(b.message)}}}function c1(a){return`${a.name}!${a.options.appId}`}class c2{constructor(a){this.container=a,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this._storage=new c4(b),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{let a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=c3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===b||this._heartbeatsCache.heartbeats.some(a=>a.date===b))return;if(this._heartbeatsCache.heartbeats.push({date:b,agent:a}),this._heartbeatsCache.heartbeats.length>30){let a=function(a){if(0===a.length)return -1;let b=0,c=a[0].date;for(let d=1;d<a.length;d++)a[d].date<c&&(c=a[d].date,b=d);return b}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){cw.warn(a)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let a=c3(),{heartbeatsToSend:b,unsentEntries:c}=function(a,b=1024){let c=[],d=a.slice();for(let e of a){let a=c.find(a=>a.agent===e.agent);if(a){if(a.dates.push(e.date),c5(c)>b){a.dates.pop();break}}else if(c.push({agent:e.agent,dates:[e.date]}),c5(c)>b){c.pop();break}d=d.slice(1)}return{heartbeatsToSend:c,unsentEntries:d}}(this._heartbeatsCache.heartbeats),d=bD(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=a,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),d}catch(a){return cw.warn(a),""}}}function c3(){return new Date().toISOString().substring(0,10)}class c4{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!bM()&&bN().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let a=await c_(this.app);return a?.heartbeats?a:{heartbeats:[]}}}async overwrite(a){if(await this._canUseIndexedDBPromise){let b=await this.read();return c0(this.app,{lastSentHeartbeatDate:a.lastSentHeartbeatDate??b.lastSentHeartbeatDate,heartbeats:a.heartbeats})}}async add(a){if(await this._canUseIndexedDBPromise){let b=await this.read();return c0(this.app,{lastSentHeartbeatDate:a.lastSentHeartbeatDate??b.lastSentHeartbeatDate,heartbeats:[...b.heartbeats,...a.heartbeats]})}}}function c5(a){return bD(JSON.stringify({version:2,heartbeats:a})).length}cE(new b6("platform-logger",a=>new ct(a),"PRIVATE")),cE(new b6("heartbeat",a=>new c2(a),"PRIVATE")),cV(cu,cv,""),cV(cu,cv,"esm2020"),cV("fire-js",""),a.s(["SDK_VERSION",()=>cP,"_DEFAULT_ENTRY_NAME",()=>cx,"_addComponent",()=>cC,"_addOrOverwriteComponent",()=>cD,"_apps",()=>cz,"_clearComponents",()=>cK,"_components",()=>cB,"_getProvider",()=>cF,"_isFirebaseApp",()=>cH,"_isFirebaseServerApp",()=>cJ,"_isFirebaseServerAppSettings",()=>cI,"_registerComponent",()=>cE,"_removeServiceInstance",()=>cG,"_serverApps",()=>cA,"deleteApp",()=>cU,"getApp",()=>cS,"getApps",()=>cT,"initializeApp",()=>cQ,"initializeServerApp",()=>cR,"onLog",()=>cW,"registerVersion",()=>cV,"setLogLevel",()=>cX],44558),cV("firebase","12.6.0","app"),a.i(44558);let c6="@firebase/installations",c7="0.6.19",c8=`w:${c7}`,c9="FIS_v2",da=new bP("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function db(a){return a instanceof bO&&a.code.includes("request-failed")}function dc({projectId:a}){return`https://firebaseinstallations.googleapis.com/v1/projects/${a}/installations`}function dd(a){return{token:a.token,requestStatus:2,expiresIn:Number(a.expiresIn.replace("s","000")),creationTime:Date.now()}}async function de(a,b){let c=(await b.json()).error;return da.create("request-failed",{requestName:a,serverCode:c.code,serverMessage:c.message,serverStatus:c.status})}function df({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}async function dg(a){let b=await a();return b.status>=500&&b.status<600?a():b}async function dh({appConfig:a,heartbeatServiceProvider:b},{fid:c}){let d=dc(a),e=df(a),f=b.getImmediate({optional:!0});if(f){let a=await f.getHeartbeatsHeader();a&&e.append("x-firebase-client",a)}let g={method:"POST",headers:e,body:JSON.stringify({fid:c,authVersion:c9,appId:a.appId,sdkVersion:c8})},h=await dg(()=>fetch(d,g));if(h.ok){let a=await h.json();return{fid:a.fid||c,registrationStatus:2,refreshToken:a.refreshToken,authToken:dd(a.authToken)}}throw await de("Create Installation",h)}function di(a){return new Promise(b=>{setTimeout(b,a)})}let dj=/^[cdef][\w-]{21}$/;function dk(a){return`${a.appName}!${a.appId}`}let dl=new Map;function dm(a,b){var c,d;let e,f=dk(a);dn(f,b),c=f,d=b,(e=(!dp&&"BroadcastChannel"in self&&((dp=new BroadcastChannel("[Firebase] FID Change")).onmessage=a=>{dn(a.data.key,a.data.fid)}),dp))&&e.postMessage({key:c,fid:d}),0===dl.size&&dp&&(dp.close(),dp=null)}function dn(a,b){let c=dl.get(a);if(c)for(let a of c)a(b)}let dp=null,dq="firebase-installations-store",dr=null;function ds(){return dr||(dr=co("firebase-installations-database",1,{upgrade:(a,b)=>{0===b&&a.createObjectStore(dq)}})),dr}async function dt(a,b){let c=dk(a),d=(await ds()).transaction(dq,"readwrite"),e=d.objectStore(dq),f=await e.get(c);return await e.put(b,c),await d.done,f&&f.fid===b.fid||dm(a,b.fid),b}async function du(a){let b=dk(a),c=(await ds()).transaction(dq,"readwrite");await c.objectStore(dq).delete(b),await c.done}async function dv(a,b){let c=dk(a),d=(await ds()).transaction(dq,"readwrite"),e=d.objectStore(dq),f=await e.get(c),g=b(f);return void 0===g?await e.delete(c):await e.put(g,c),await d.done,g&&(!f||f.fid!==g.fid)&&dm(a,g.fid),g}async function dw(a){let b,c=await dv(a.appConfig,c=>{let d=function(a,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(da.create("app-offline"))};let c={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},d=dx(a,c);return{installationEntry:c,registrationPromise:d}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:dy(a)}:{installationEntry:b}}(a,dA(c||{fid:function(){try{var a;let b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;let c=(a=b,btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return dj.test(c)?c:""}catch{return""}}(),registrationStatus:0}));return b=d.registrationPromise,d.installationEntry});return""===c.fid?{installationEntry:await b}:{installationEntry:c,registrationPromise:b}}async function dx(a,b){try{let c=await dh(a,b);return dt(a.appConfig,c)}catch(c){throw db(c)&&409===c.customData.serverCode?await du(a.appConfig):await dt(a.appConfig,{fid:b.fid,registrationStatus:0}),c}}async function dy(a){let b=await dz(a.appConfig);for(;1===b.registrationStatus;)await di(100),b=await dz(a.appConfig);if(0===b.registrationStatus){let{installationEntry:b,registrationPromise:c}=await dw(a);return c||b}return b}function dz(a){return dv(a,a=>{if(!a)throw da.create("installation-not-found");return dA(a)})}function dA(a){var b;return 1===(b=a).registrationStatus&&b.registrationTime+1e4<Date.now()?{fid:a.fid,registrationStatus:0}:a}async function dB({appConfig:a,heartbeatServiceProvider:b},c){let d=function(a,{fid:b}){return`${dc(a)}/${b}/authTokens:generate`}(a,c),e=function(a,{refreshToken:b}){var c;let d=df(a);return d.append("Authorization",(c=b,`${c9} ${c}`)),d}(a,c),f=b.getImmediate({optional:!0});if(f){let a=await f.getHeartbeatsHeader();a&&e.append("x-firebase-client",a)}let g={method:"POST",headers:e,body:JSON.stringify({installation:{sdkVersion:c8,appId:a.appId}})},h=await dg(()=>fetch(d,g));if(h.ok)return dd(await h.json());throw await de("Generate Auth Token",h)}async function dC(a,b=!1){let c,d=await dv(a.appConfig,d=>{var e,f,g;let h;if(!dG(d))throw da.create("not-registered");let i=d.authToken;if(!b&&2===(e=i).requestStatus&&(f=e,!((h=Date.now())<f.creationTime)&&!(f.creationTime+f.expiresIn<h+36e5)))return d;if(1===i.requestStatus)return c=dD(a,b),d;{let b;if(!navigator.onLine)throw da.create("app-offline");let e=(g=d,b={requestStatus:1,requestTime:Date.now()},{...g,authToken:b});return c=dF(a,e),e}});return c?await c:d.authToken}async function dD(a,b){let c=await dE(a.appConfig);for(;1===c.authToken.requestStatus;)await di(100),c=await dE(a.appConfig);let d=c.authToken;return 0===d.requestStatus?dC(a,b):d}function dE(a){return dv(a,a=>{var b;if(!dG(a))throw da.create("not-registered");return 1===(b=a.authToken).requestStatus&&b.requestTime+1e4<Date.now()?{...a,authToken:{requestStatus:0}}:a})}async function dF(a,b){try{let c=await dB(a,b),d={...b,authToken:c};return await dt(a.appConfig,d),c}catch(c){if(db(c)&&(401===c.customData.serverCode||404===c.customData.serverCode))await du(a.appConfig);else{let c={...b,authToken:{requestStatus:0}};await dt(a.appConfig,c)}throw c}}function dG(a){return void 0!==a&&2===a.registrationStatus}async function dH(a){let{installationEntry:b,registrationPromise:c}=await dw(a);return c?c.catch(console.error):dC(a).catch(console.error),b.fid}async function dI(a,b=!1){return await dJ(a),(await dC(a,b)).token}async function dJ(a){let{registrationPromise:b}=await dw(a);b&&await b}function dK(a){return da.create("missing-app-config-values",{valueName:a})}let dL="installations";cE(new b6(dL,a=>{let b=a.getProvider("app").getImmediate(),c=function(a){if(!a||!a.options)throw dK("App Configuration");if(!a.name)throw dK("App Name");for(let b of["projectId","apiKey","appId"])if(!a.options[b])throw dK(b);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}(b),d=cF(b,"heartbeat");return{app:b,appConfig:c,heartbeatServiceProvider:d,_delete:()=>Promise.resolve()}},"PUBLIC")),cE(new b6("installations-internal",a=>{let b=cF(a.getProvider("app").getImmediate(),dL).getImmediate();return{getId:()=>dH(b),getToken:a=>dI(b,a)}},"PRIVATE")),cV(c6,c7),cV(c6,c7,"esm2020");let dM="analytics",dN="https://www.googletagmanager.com/gtag/js",dO=new cf("@firebase/analytics"),dP=new bP("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function dQ(a){if(!a.startsWith(dN)){let b=dP.create("invalid-gtag-resource",{gtagURL:a});return dO.warn(b.message),""}return a}function dR(a){return Promise.all(a.map(a=>a.catch(a=>a)))}async function dS(a,b,c,d,e,f){let g=d[e];try{if(g)await b[g];else{let a=(await dR(c)).find(a=>a.measurementId===e);a&&await b[a.appId]}}catch(a){dO.error(a)}a("config",e,f)}async function dT(a,b,c,d,e){try{let f=[];if(e&&e.send_to){let a=e.send_to;Array.isArray(a)||(a=[a]);let d=await dR(c);for(let c of a){let a=d.find(a=>a.measurementId===c),e=a&&b[a.appId];if(e)f.push(e);else{f=[];break}}}0===f.length&&(f=Object.values(b)),await Promise.all(f),a("event",d,e||{})}catch(a){dO.error(a)}}let dU=new class{constructor(a={},b=1e3){this.throttleMetadata=a,this.intervalMillis=b}getThrottleMetadata(a){return this.throttleMetadata[a]}setThrottleMetadata(a,b){this.throttleMetadata[a]=b}deleteThrottleMetadata(a){delete this.throttleMetadata[a]}};async function dV(a){let{appId:b,apiKey:c}=a,d={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":c})},e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",b),f=await fetch(e,d);if(200!==f.status&&304!==f.status){let a="";try{let b=await f.json();b.error?.message&&(a=b.error.message)}catch(a){}throw dP.create("config-fetch-failed",{httpStatus:f.status,responseMessage:a})}return f.json()}async function dW(a,b=dU,c){let{appId:d,apiKey:e,measurementId:f}=a.options;if(!d)throw dP.create("no-app-id");if(!e){if(f)return{measurementId:f,appId:d};throw dP.create("no-api-key")}let g=b.getThrottleMetadata(d)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new dY;return setTimeout(async()=>{h.abort()},void 0!==c?c:6e4),dX({appId:d,apiKey:e,measurementId:f},g,h,b)}async function dX(a,{throttleEndTimeMillis:b,backoffCount:c},d,e=dU){let{appId:f,measurementId:g}=a;try{var h,i;await (h=d,i=b,new Promise((a,b)=>{let c=setTimeout(a,Math.max(i-Date.now(),0));h.addEventListener(()=>{clearTimeout(c),b(dP.create("fetch-throttle",{throttleEndTimeMillis:i}))})}))}catch(a){if(g)return dO.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${a?.message}]`),{appId:f,measurementId:g};throw a}try{let b=await dV(a);return e.deleteThrottleMetadata(f),b}catch(i){if(!function(a){if(!(a instanceof bO)||!a.customData)return!1;let b=Number(a.customData.httpStatus);return 429===b||500===b||503===b||504===b}(i)){if(e.deleteThrottleMetadata(f),g)return dO.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${i?.message}]`),{appId:f,measurementId:g};throw i}let b=503===Number(i?.customData?.httpStatus)?b4(c,e.intervalMillis,30):b4(c,e.intervalMillis),h={throttleEndTimeMillis:Date.now()+b,backoffCount:c+1};return e.setThrottleMetadata(f,h),dO.debug(`Calling attemptFetch again in ${b} millis`),dX(a,h,d,e)}}class dY{constructor(){this.listeners=[]}addEventListener(a){this.listeners.push(a)}abort(){this.listeners.forEach(a=>a())}}async function dZ(a,b,c,d,e){if(e&&e.global)return void a("event",c,d);{let e=await b;a("event",c,{...d,send_to:e})}}async function d$(a,b,c,d){if(d&&d.global){let b={};for(let a of Object.keys(c))b[`user_properties.${a}`]=c[a];return a("set",b),Promise.resolve()}a("config",await b,{update:!0,user_properties:c})}async function d_(){if(!bM())return dO.warn(dP.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await bN()}catch(a){return dO.warn(dP.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}return!0}async function d0(a,b,c,f,g,h,i){var j,k;let l,m,n,o,p=dW(a);p.then(b=>{c[b.measurementId]=b.appId,a.options.measurementId&&b.measurementId!==a.options.measurementId&&dO.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(a=>dO.error(a)),b.push(p);let q=d_().then(a=>a?f.getId():void 0),[r,s]=await Promise.all([p,q]);!function(a){for(let b of Object.values(window.document.getElementsByTagName("script")))if(b.src&&b.src.includes(dN)&&b.src.includes(a))return b;return null}(h)&&(j=r.measurementId,k={createScriptURL:dQ},window.trustedTypes&&(l=window.trustedTypes.createPolicy("firebase-js-sdk-policy",k)),m=l,n=document.createElement("script"),o=`${dN}?l=${h}&id=${j}`,n.src=m?m?.createScriptURL(o):o,n.async=!0,document.head.appendChild(n)),e&&(g("consent","default",e),e=void 0),g("js",new Date);let t=i?.config??{};return t.origin="firebase",t.update=!0,null!=s&&(t.firebase_id=s),g("config",r.measurementId,t),d&&(g("set",d),d=void 0),r.measurementId}class d1{constructor(a){this.app=a}_delete(){return delete d2[this.app.options.appId],Promise.resolve()}}let d2={},d3=[],d4={},d5="dataLayer",d6=!1,d7="@firebase/analytics",d8="0.10.19";cE(new b6(dM,(a,{options:b})=>(function(a,b,c){let d,e=[];if("object"==typeof(d="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==d.id&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled&&1||e.push("Cookies are not available."),e.length>0){let a=e.map((a,b)=>`(${b+1}) ${a}`).join(" "),b=dP.create("invalid-analytics-context",{errorInfo:a});dO.warn(b.message)}let h=a.options.appId;if(!h)throw dP.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)dO.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dP.create("no-api-key");if(null!=d2[h])throw dP.create("already-exists",{id:h});if(!d6){var i,j;let a,b;a=[],Array.isArray(window[d5])?a=window[d5]:window[d5]=a;let{wrappedGtag:c,gtagCore:d}=(i="gtag",b=function(){window[d5].push(arguments)},window[i]&&"function"==typeof window[i]&&(b=window[i]),window[i]=(j=b,async function(a,...b){try{if("event"===a){let[a,c]=b;await dT(j,d2,d3,a,c)}else if("config"===a){let[a,c]=b;await dS(j,d2,d3,d4,a,c)}else if("consent"===a){let[a,c]=b;j("consent",a,c)}else if("get"===a){let[a,c,d]=b;j("get",a,c,d)}else if("set"===a){let[a]=b;j("set",a)}else j(a,...b)}catch(a){dO.error(a)}}),{gtagCore:b,wrappedGtag:window[i]});g=c,f=d,d6=!0}return d2[h]=d0(a,d3,d4,b,f,d5,c),new d1(a)})(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),b),"PUBLIC")),cE(new b6("analytics-internal",function(a){try{let b=a.getProvider(dM).getImmediate();return{logEvent:(a,c,d)=>{var e;return e=b,void(e=b5(e),dZ(g,d2[e.app.options.appId],a,c,d).catch(a=>dO.error(a)))},setUserProperties:(a,c)=>{var d;return d=b,void(d=b5(d),d$(g,d2[d.app.options.appId],a,c).catch(a=>dO.error(a)))}}}catch(a){throw dP.create("interop-component-reg-failed",{reason:a})}},"PRIVATE")),cV(d7,d8),cV(d7,d8,"esm2020");let d9=cT().length?cS():cQ({apiKey:"AIzaSyCawe3h5jA3cDE6qjFtfo1r0NMAMbMb5Ao",authDomain:"vnr202-group8.firebaseapp.com",databaseURL:"https://vnr202-group8-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"vnr202-group8",storageBucket:"vnr202-group8.firebasestorage.app",messagingSenderId:"924463161606",appId:"1:924463161606:web:2cb2f87a51b00656247e87",measurementId:"G-10GPZZ7V1L"});var ea=a.i(17040);let eb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ec="websocket",ed="long_polling";class ee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(a,b){null==b?delete this.cache_[a]:this.cache_[a]=b}get(a){return bW(this.cache_,a)?this.cache_[a]:null}remove(a){delete this.cache_[a]}}let ef=function(a){return new ee},eg=ef("localStorage"),eh=ef("sessionStorage"),ei=new cf("@firebase/database"),ej=(u=1,function(){return u++}),ek=function(a){let b=b2(a),c=new b0;c.update(b);let d=c.digest();return bA.encodeByteArray(d)},el=function(...a){let b="";for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?b+=el.apply(null,d):"object"==typeof d?b+=bS(d):b+=d,b+=" "}return b},em=null,en=!0,eo=function(a,b){bw(!b||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?(ei.logLevel=L.VERBOSE,em=ei.log.bind(ei),b&&eh.set("logging_enabled",!0)):"function"==typeof a?em=a:(em=null,eh.remove("logging_enabled"))},ep=function(...a){if(!0===en&&(en=!1,null===em&&!0===eh.get("logging_enabled")&&eo(!0)),em){let b=el.apply(null,a);em(b)}},eq=function(a){return function(...b){ep(a,...b)}},er=function(...a){let b="FIREBASE INTERNAL ERROR: "+el(...a);ei.error(b)},es=function(...a){let b=`FIREBASE FATAL ERROR: ${el(...a)}`;throw ei.error(b),Error(b)},et=function(...a){let b="FIREBASE WARNING: "+el(...a);ei.warn(b)},eu=function(){},ev=function(a){return"number"==typeof a&&(a!=a||a===1/0||a===-1/0)},ew=function(a){if(bL()||"complete"===document.readyState)a();else{let b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}},ex="[MIN_NAME]",ey="[MAX_NAME]",ez=function(a,b){if(a===b)return 0;{if(a===ex||b===ey)return -1;if(b===ex||a===ey)return 1;let c=eH(a),d=eH(b);if(null!==c)if(null!==d)return c-d==0?a.length-b.length:c-d;else return -1;return null!==d?1:a<b?-1:1}},eA=function(a,b){return a===b?0:a<b?-1:1},eB=function(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+bS(b))},eC=function(a){if("object"!=typeof a||null===a)return bS(a);let b=[];for(let c in a)b.push(c);b.sort();let c="{";for(let d=0;d<b.length;d++)0!==d&&(c+=","),c+=bS(b[d]),c+=":",c+=eC(a[b[d]]);return c+"}"},eD=function(a,b){let c=a.length;if(c<=b)return[a];let d=[];for(let e=0;e<c;e+=b)e+b>c?d.push(a.substring(e,c)):d.push(a.substring(e,e+b));return d};function eE(a,b){for(let c in a)a.hasOwnProperty(c)&&b(c,a[c])}let eF=function(a){let b,c,d,e,f;bw(!ev(a),"Invalid JSON number");0===a?(c=0,d=0,b=+(1/a==-1/0)):(b=a<0,(a=Math.abs(a))>=22250738585072014e-324?(c=(e=Math.min(Math.floor(Math.log(a)/Math.LN2),1023))+1023,d=Math.round(a*Math.pow(2,52-e)-0x10000000000000)):(c=0,d=Math.round(a/5e-324)));let g=[];for(f=52;f;f-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(f=11;f;f-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(+!!b),g.reverse();let h=g.join(""),i="";for(f=0;f<64;f+=8){let a=parseInt(h.substr(f,8),2).toString(16);1===a.length&&(a="0"+a),i+=a}return i.toLowerCase()},eG=RegExp("^-?(0*)\\d{1,10}$"),eH=function(a){if(eG.test(a)){let b=Number(a);if(b>=-0x80000000&&b<=0x7fffffff)return b}return null},eI=function(a){try{a()}catch(a){setTimeout(()=>{throw et("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}},eJ=function(a,b){let c=setTimeout(a,b);return"number"==typeof c&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class eK{constructor(a,b,c,d,e=!1,f="",g=!1,h=!1,i=null){this.secure=b,this.namespace=c,this.webSocketOnly=d,this.nodeAdmin=e,this.persistenceKey=f,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=h,this.emulatorOptions=i,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eg.get("host:"+a)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&eg.set("host:"+this._host,this.internalHost))}toString(){let a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a}toURLString(){let a=this.secure?"https://":"http://",b=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${a}${this.host}/${b}`}}function eL(a,b,c){let d;if(bw("string"==typeof b,"typeof type must == string"),bw("object"==typeof c,"typeof params must == object"),b===ec)d=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(b===ed)d=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw Error("Unknown connection type: "+b);(a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams)&&(c.ns=a.namespace);let e=[];return eE(c,(a,b)=>{e.push(a+"="+b)}),d+e.join("&")}class eM{constructor(){this.counters_={}}incrementCounter(a,b=1){bW(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=b}get(){return function a(b,c){if(!(c instanceof Object))return c;switch(c.constructor){case Date:return new Date(c.getTime());case Object:void 0===b&&(b={});break;case Array:b=[];break;default:return c}for(let d in c)c.hasOwnProperty(d)&&"__proto__"!==d&&(b[d]=a(b[d],c[d]));return b}(void 0,this.counters_)}}let eN={},eO={};function eP(a){let b=a.toString();return eN[b]||(eN[b]=new eM),eN[b]}let eQ="",eR=null;"undefined"!=typeof MozWebSocket?eR=MozWebSocket:"undefined"!=typeof WebSocket&&(eR=WebSocket);class eS{constructor(a,b,c,d,e,f,g){this.connId=a,this.applicationId=c,this.appCheckToken=d,this.authToken=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eq(this.connId),this.stats_=eP(b),this.connURL=eS.connectionURL_(b,f,g,d,c),this.nodeAdmin=b.nodeAdmin}static connectionURL_(a,b,c,d,e){let f={};return f.v="5",!bL()&&"undefined"!=typeof location&&location.hostname&&eb.test(location.hostname)&&(f.r="f"),b&&(f.s=b),c&&(f.ls=c),d&&(f.ac=d),e&&(f.p=e),eL(a,ec,f)}open(a,b){this.onDisconnect=b,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eg.set("previous_websocket_failure",!0);try{let a;if(bL()){let b=this.nodeAdmin?"AdminNode":"Node";a={headers:{"User-Agent":`Firebase/5/${eQ}/${process.platform}/${b}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);let c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(a.proxy={origin:d})}this.mySock=new eR(this.connURL,[],a)}catch(b){this.log_("Error instantiating WebSocket.");let a=b.message||b.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");let b=a.message||a.data;b&&this.log_(b),this.onClosed_()}}start(){}static forceDisallow(){eS.forceDisallow_=!0}static isAvailable(){let a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==eR&&!eS.forceDisallow_}static previouslyFailed(){return eg.isInMemoryStorage||!0===eg.get("previous_websocket_failure")}markConnectionHealthy(){eg.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){let a=this.frames.join("");this.frames=null;let b=bR(a);this.onMessage(b)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if(bw(null===this.frames,"We already have a frame buffer"),a.length<=6){let b=Number(a);if(!isNaN(b))return this.handleNewFrameCount_(b),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(null===this.mySock)return;let b=a.data;if(this.bytesReceived+=b.length,this.stats_.incrementCounter("bytes_received",b.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(b);else{let a=this.extractFrameCount_(b);null!==a&&this.appendFrame_(a)}}send(a){this.resetKeepAlive();let b=bS(a);this.bytesSent+=b.length,this.stats_.incrementCounter("bytes_sent",b.length);let c=eD(b,16384);c.length>1&&this.sendString_(String(c.length));for(let a=0;a<c.length;a++)this.sendString_(c[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(a){try{this.mySock.send(a)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}eS.responsesRequiredToBeHealthy=2,eS.healthyTimeout=3e4;let eT="@firebase/database",eU="1.1.0";class eV{constructor(a,b){this.appCheckProvider=b,this.appName=a.name,cJ(a)&&a.settings.appCheckToken&&(this.serverAppAppCheckToken=a.settings.appCheckToken),this.appCheck=b?.getImmediate({optional:!0}),this.appCheck||b?.get().then(a=>this.appCheck=a)}getToken(a){if(this.serverAppAppCheckToken){if(a)throw Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(a):new Promise((b,c)=>{setTimeout(()=>{this.appCheck?this.getToken(a).then(b,c):b(null)},0)})}addTokenChangeListener(a){this.appCheckProvider?.get().then(b=>b.addTokenListener(a))}notifyForInvalidToken(){et(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class eW{constructor(a,b,c){this.appName_=a,this.firebaseOptions_=b,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(a=>this.auth_=a)}getToken(a){return this.auth_?this.auth_.getToken(a).catch(a=>a&&"auth/token-not-initialized"===a.code?(ep("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((b,c)=>{setTimeout(()=>{this.auth_?this.getToken(a).then(b,c):b(null)},0)})}addTokenChangeListener(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(b=>b.addAuthTokenListener(a))}removeTokenChangeListener(a){this.authProvider_.get().then(b=>b.removeAuthTokenListener(a))}notifyForInvalidToken(){let a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?a+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?a+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':a+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',et(a)}}class eX{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}eX.OWNER="owner";class eY{constructor(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(a,b){this.closeAfterResponse=a,this.onClose=b,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(a,b){for(this.pendingResponses[a]=b;this.pendingResponses[this.currentResponseNum];){let a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let b=0;b<a.length;++b)a[b]&&eI(()=>{this.onMessage_(a[b])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}let eZ="start";class e${constructor(a,b,c,d,e,f,g){this.connId=a,this.repoInfo=b,this.applicationId=c,this.appCheckToken=d,this.authToken=e,this.transportSessionId=f,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eq(a),this.stats_=eP(b),this.urlFn=a=>(this.appCheckToken&&(a.ac=this.appCheckToken),eL(b,ed,a))}open(a,b){this.curSegmentNum=0,this.onDisconnect_=b,this.myPacketOrderer=new eY(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),ew(()=>{if(this.isClosed_)return;this.scriptTagHolder=new e_((...a)=>{let[b,c,d,e,f]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,b===eZ)this.id=c,this.password=d;else if("close"===b)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+b)},(...a)=>{let[b,c]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(b,c)},()=>{this.onClosed_()},this.urlFn);let a={};a[eZ]="t",a.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(a.cb=this.scriptTagHolder.uniqueCallbackIdentifier),a.v="5",this.transportSessionId&&(a.s=this.transportSessionId),this.lastSessionId&&(a.ls=this.lastSessionId),this.applicationId&&(a.p=this.applicationId),this.appCheckToken&&(a.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&eb.test(location.hostname)&&(a.r="f");let b=this.urlFn(a);this.log_("Connecting via long-poll to "+b),this.scriptTagHolder.addTag(b,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e$.forceAllow_=!0}static forceDisallow(){e$.forceDisallow_=!0}static isAvailable(){return!bL()&&(!!e$.forceAllow_||!e$.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&("object"!=typeof Windows||"object"!=typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(a){let b=bS(a);this.bytesSent+=b.length,this.stats_.incrementCounter("bytes_sent",b.length);let c=eD(bC(b),1840);for(let a=0;a<c.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[a]),this.curSegmentNum++}addDisconnectPingFrame(a,b){if(bL())return;this.myDisconnFrame=document.createElement("iframe");let c={};c.dframe="t",c.id=a,c.pw=b,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(a){let b=bS(a).length;this.bytesReceived+=b,this.stats_.incrementCounter("bytes_received",b)}}class e_{constructor(a,b,c,d){if(this.onDisconnect=c,this.urlFn=d,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,bL())this.commandCB=a,this.onMessageCB=b;else{this.uniqueCallbackIdentifier=ej(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=b,this.myIFrame=e_.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";</script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(a){ep("frame writing exception"),a.stack&&ep(a.stack),ep(a)}}}static createIFrame_(){let a=document.createElement("iframe");if(a.style.display="none",document.body){document.body.appendChild(a);try{a.contentWindow.document||ep("No IE domain setting required")}catch(b){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let a=this.onDisconnect;a&&(this.onDisconnect=null,a())}startLongPoll(a,b){for(this.myID=a,this.myPW=b,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;let b=this.urlFn(a),c="",d=0;for(;this.pendingSegs.length>0;)if(this.pendingSegs[0].d.length+30+c.length<=1870){let a=this.pendingSegs.shift();c=c+"&seg"+d+"="+a.seg+"&ts"+d+"="+a.ts+"&d"+d+"="+a.d,d++}else break;return b+=c,this.addLongPollTag_(b,this.currentSerial),!0}}enqueueSegment(a,b,c){this.pendingSegs.push({seg:a,ts:b,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(a,b){this.outstandingRequests.add(b);let c=()=>{this.outstandingRequests.delete(b),this.newRequest_()},d=setTimeout(c,Math.floor(25e3));this.addTag(a,()=>{clearTimeout(d),c()})}addTag(a,b){bL()?this.doNodeLongPoll(a,b):setTimeout(()=>{try{if(!this.sendNewPolls)return;let c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=a,c.onload=c.onreadystatechange=function(){let a=c.readyState;a&&"loaded"!==a&&"complete"!==a||(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),b())},c.onerror=()=>{ep("Long-poll script failed to load: "+a),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch(a){}},Math.floor(1))}}class e0{static get ALL_TRANSPORTS(){return[e$,eS]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(a){this.initTransports_(a)}initTransports_(a){let b=eS&&eS.isAvailable(),c=b&&!eS.previouslyFailed();if(a.webSocketOnly&&(b||et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[eS];else{let a=this.transports_=[];for(let b of e0.ALL_TRANSPORTS)b&&b.isAvailable()&&a.push(b);e0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e0.globalTransportInitialized_=!1;class e1{constructor(a,b,c,d,e,f,g,h,i,j){this.id=a,this.repoInfo_=b,this.applicationId_=c,this.appCheckToken_=d,this.authToken_=e,this.onMessage_=f,this.onReady_=g,this.onDisconnect_=h,this.onKill_=i,this.lastSessionId=j,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eq("c:"+this.id+":"),this.transportManager_=new e0(b),this.log_("Connection created"),this.start_()}start_(){let a=this.transportManager_.initialTransport();this.conn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;let b=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(b,c)},Math.floor(0));let d=a.healthyTimeout||0;d>0&&(this.healthyTimeout_=eJ(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(d)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(a){return b=>{a===this.conn_?this.onConnectionLost_(b):a===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(a){return b=>{2!==this.state_&&(a===this.rx_?this.onPrimaryMessageReceived_(b):a===this.secondaryConn_?this.onSecondaryMessageReceived_(b):this.log_("message on old connection"))}}sendRequest(a){this.sendData_({t:"d",d:a})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(a){if("t"in a){let b=a.t;"a"===b?this.upgradeIfSecondaryHealthy_():"r"===b?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===b&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(a){let b=eB("t",a),c=eB("d",a);if("c"===b)this.onSecondaryControl_(c);else if("d"===b)this.pendingDataMessages.push(c);else throw Error("Unknown protocol layer: "+b)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(a){let b=eB("t",a),c=eB("d",a);"c"===b?this.onControl_(c):"d"===b&&this.onDataMessage_(c)}onDataMessage_(a){this.onPrimaryResponse_(),this.onMessage_(a)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(a){let b=eB("t",a);if("d"in a){let c=a.d;if("h"===b){let a={...c};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===b){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===b?this.onConnectionShutdown_(c):"r"===b?this.onReset_(c):"e"===b?er("Server Error: "+c):"o"===b?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):er("Unknown control packet command: "+b)}}onHandshake_(a){let b=a.ts,c=a.v,d=a.h;this.sessionId=a.s,this.repoInfo_.host=d,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,b),"5"!==c&&et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)}startUpgrade_(a){this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;let b=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,c),eJ(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(a,b){this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(b,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):eJ(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){let a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()}onConnectionLost_(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class e2{put(a,b,c,d){}merge(a,b,c,d){}refreshAuthToken(a){}refreshAppCheckToken(a){}onDisconnectPut(a,b,c){}onDisconnectMerge(a,b,c){}onDisconnectCancel(a,b){}reportStats(a){}}class e3{constructor(a){this.allowedEvents_=a,this.listeners_={},bw(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}trigger(a,...b){if(Array.isArray(this.listeners_[a])){let c=[...this.listeners_[a]];for(let a=0;a<c.length;a++)c[a].callback.apply(c[a].context,b)}}on(a,b,c){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:b,context:c});let d=this.getInitialEvent(a);d&&b.apply(c,d)}off(a,b,c){this.validateEventType_(a);let d=this.listeners_[a]||[];for(let a=0;a<d.length;a++)if(d[a].callback===b&&(!c||c===d[a].context))return void d.splice(a,1)}validateEventType_(a){bw(this.allowedEvents_.find(b=>b===a),"Unknown event: "+a)}}class e4 extends e3{static getInstance(){return new e4}constructor(){super(["online"]),this.online_=!0}getInitialEvent(a){return bw("online"===a,"Unknown event type: "+a),[this.online_]}currentlyOnline(){return this.online_}}class e5{constructor(a,b){if(void 0===b){this.pieces_=a.split("/");let b=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[b]=this.pieces_[a],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=b}toString(){let a="";for(let b=this.pieceNum_;b<this.pieces_.length;b++)""!==this.pieces_[b]&&(a+="/"+this.pieces_[b]);return a||"/"}}function e6(){return new e5("")}function e7(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function e8(a){return a.pieces_.length-a.pieceNum_}function e9(a){let b=a.pieceNum_;return b<a.pieces_.length&&b++,new e5(a.pieces_,b)}function fa(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function fb(a,b=0){return a.pieces_.slice(a.pieceNum_+b)}function fc(a){if(a.pieceNum_>=a.pieces_.length)return null;let b=[];for(let c=a.pieceNum_;c<a.pieces_.length-1;c++)b.push(a.pieces_[c]);return new e5(b,0)}function fd(a,b){let c=[];for(let b=a.pieceNum_;b<a.pieces_.length;b++)c.push(a.pieces_[b]);if(b instanceof e5)for(let a=b.pieceNum_;a<b.pieces_.length;a++)c.push(b.pieces_[a]);else{let a=b.split("/");for(let b=0;b<a.length;b++)a[b].length>0&&c.push(a[b])}return new e5(c,0)}function fe(a){return a.pieceNum_>=a.pieces_.length}function ff(a,b){let c=e7(a),d=e7(b);if(null===c)return b;if(c===d)return ff(e9(a),e9(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")}function fg(a,b){let c=fb(a,0),d=fb(b,0);for(let a=0;a<c.length&&a<d.length;a++){let b=ez(c[a],d[a]);if(0!==b)return b}return c.length===d.length?0:c.length<d.length?-1:1}function fh(a,b){if(e8(a)!==e8(b))return!1;for(let c=a.pieceNum_,d=b.pieceNum_;c<=a.pieces_.length;c++,d++)if(a.pieces_[c]!==b.pieces_[d])return!1;return!0}function fi(a,b){let c=a.pieceNum_,d=b.pieceNum_;if(e8(a)>e8(b))return!1;for(;c<a.pieces_.length;){if(a.pieces_[c]!==b.pieces_[d])return!1;++c,++d}return!0}class fj{constructor(a,b){this.errorPrefix_=b,this.parts_=fb(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=b3(this.parts_[a]);fk(this)}}function fk(a){if(a.byteLength_>768)throw Error(a.errorPrefix_+"has a key path longer than 768 bytes ("+a.byteLength_+").");if(a.parts_.length>32)throw Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+fl(a))}function fl(a){return 0===a.parts_.length?"":"in property '"+a.parts_.join(".")+"'"}class fm extends e3{static getInstance(){return new fm}constructor(){let a,b;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(b="visibilitychange",a="hidden"):void 0!==document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):void 0!==document.msHidden?(b="msvisibilitychange",a="msHidden"):void 0!==document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden")),this.visible_=!0,b&&document.addEventListener(b,()=>{let b=!document[a];b!==this.visible_&&(this.visible_=b,this.trigger("visible",b))},!1)}getInitialEvent(a){return bw("visible"===a,"Unknown event type: "+a),[this.visible_]}}class fn extends e2{constructor(a,b,c,d,e,f,g,h){if(super(),this.repoInfo_=a,this.applicationId_=b,this.onDataUpdate_=c,this.onConnectStatus_=d,this.onServerInfoUpdate_=e,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=h,this.id=fn.nextPersistentConnectionId_++,this.log_=eq("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!bL())throw Error("Auth override specified in options, but not supported on non Node.js platforms");fm.getInstance().on("visible",this.onVisible_,this),-1===a.host.indexOf("fblocal")&&e4.getInstance().on("online",this.onOnline_,this)}sendRequest(a,b,c){let d=++this.requestNumber_,e={r:d,a:a,b:b};this.log_(bS(e)),bw(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(e),c&&(this.requestCBHash_[d]=c)}get(a){this.initConnection_();let b=new bH,c={p:a._path.toString(),q:a._queryObject};this.outstandingGets_.push({action:"g",request:c,onComplete:a=>{let c=a.d;"ok"===a.s?b.resolve(c):b.reject(c)}}),this.outstandingGetCount_++;let d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),b.promise}listen(a,b,c,d){this.initConnection_();let e=a._queryIdentifier,f=a._path.toString();this.log_("Listen called for "+f+" "+e),this.listens.has(f)||this.listens.set(f,new Map),bw(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),bw(!this.listens.get(f).has(e),"listen() called twice for same path/queryId.");let g={onComplete:d,hashFn:b,query:a,tag:c};this.listens.get(f).set(e,g),this.connected_&&this.sendListen_(g)}sendGet_(a){let b=this.outstandingGets_[a];this.sendRequest("g",b.request,c=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),b.onComplete&&b.onComplete(c)})}sendListen_(a){let b=a.query,c=b._path.toString(),d=b._queryIdentifier;this.log_("Listen on "+c+" for "+d);let e={p:c};a.tag&&(e.q=b._queryObject,e.t=a.tag),e.h=a.hashFn(),this.sendRequest("q",e,e=>{let f=e.d,g=e.s;fn.warnOnListenWarnings_(f,b),(this.listens.get(c)&&this.listens.get(c).get(d))===a&&(this.log_("listen response",e),"ok"!==g&&this.removeListen_(c,d),a.onComplete&&a.onComplete(g,f))})}static warnOnListenWarnings_(a,b){if(a&&"object"==typeof a&&bW(a,"w")){let c=bX(a,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){let a='".indexOn": "'+b._queryParams.getIndex().toString()+'"',c=b._path.toString();et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&40===a.length||bV(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let a=this.authToken_,b=bU(a)?"auth":"gauth",c={cred:a};null===this.authOverride_?c.noauth=!0:"object"==typeof this.authOverride_&&(c.authvar=this.authOverride_),this.sendRequest(b,c,b=>{let c=b.s,d=b.d||"error";this.authToken_===a&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{let b=a.s,c=a.d||"error";"ok"===b?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(b,c)})}unlisten(a,b){let c=a._path.toString(),d=a._queryIdentifier;this.log_("Unlisten called for "+c+" "+d),bw(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,d)&&this.connected_&&this.sendUnlisten_(c,d,a._queryObject,b)}sendUnlisten_(a,b,c,d){this.log_("Unlisten on "+a+" for "+b);let e={p:a};d&&(e.q=c,e.t=d),this.sendRequest("n",e)}onDisconnectPut(a,b,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,b,c):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:b,onComplete:c})}onDisconnectMerge(a,b,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,b,c):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:b,onComplete:c})}onDisconnectCancel(a,b){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,b):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:b})}sendOnDisconnect_(a,b,c,d){let e={p:b,d:c};this.log_("onDisconnect "+a,e),this.sendRequest(a,e,a=>{d&&setTimeout(()=>{d(a.s,a.d)},Math.floor(0))})}put(a,b,c,d){this.putInternal("p",a,b,c,d)}merge(a,b,c,d){this.putInternal("m",a,b,c,d)}putInternal(a,b,c,d,e){this.initConnection_();let f={p:b,d:c};void 0!==e&&(f.h=e),this.outstandingPuts_.push({action:a,request:f,onComplete:d}),this.outstandingPutCount_++;let g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+b)}sendPut_(a){let b=this.outstandingPuts_[a].action,c=this.outstandingPuts_[a].request,d=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(b,c,c=>{this.log_(b+" response",c),delete this.outstandingPuts_[a],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(c.s,c.d)})}reportStats(a){if(this.connected_){let b={c:a};this.log_("reportStats",b),this.sendRequest("s",b,a=>{if("ok"!==a.s){let b=a.d;this.log_("reportStats","Error sending stats: "+b)}})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+bS(a));let b=a.r,c=this.requestCBHash_[b];c&&(delete this.requestCBHash_[b],c(a.b))}else if("error"in a)throw"A server-side error has occurred: "+a.error;else"a"in a&&this.onDataPush_(a.a,a.b)}onDataPush_(a,b){this.log_("handleServerMessage",a,b),"d"===a?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===a?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===a?this.onListenRevoked_(b.p,b.q):"ac"===a?this.onAuthRevoked_(b.s,b.d):"apc"===a?this.onAppCheckRevoked_(b.s,b.d):"sd"===a?this.onSecurityDebugPacket_(b):er("Unrecognized action received from server: "+bS(a)+"\nAre you using the latest client?")}onReady_(a,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(a),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){bw(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let a=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),b=Math.max(0,this.reconnectDelay_-a);b=Math.random()*b,this.log_("Trying to reconnect in "+b+"ms"),this.scheduleConnect_(b),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let a=this.onDataMessage_.bind(this),b=this.onReady_.bind(this),c=this.onRealtimeDisconnect_.bind(this),d=this.id+":"+fn.nextConnectionId_++,e=this.lastSessionId,f=!1,g=null,h=function(){g?g.close():(f=!0,c())};this.realtime_={close:h,sendRequest:function(a){bw(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(a)}};let i=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,j]=await Promise.all([this.authTokenProvider_.getToken(i),this.appCheckTokenProvider_.getToken(i)]);f?ep("getToken() completed but was canceled"):(ep("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=j&&j.token,g=new e1(d,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,a,b,c,a=>{et(a+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},e))}catch(a){this.log_("Failed to get token: "+a),f||(this.repoInfo_.nodeAdmin&&et(a),h())}}}interrupt(a){ep("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){ep("Resuming connection for reason: "+a),delete this.interruptReasons_[a],bY(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){let b=a-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:b})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){let b=this.outstandingPuts_[a];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(a,b){let c;c=b?b.map(a=>eC(a)).join("$"):"default";let d=this.removeListen_(a,c);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(a,b){let c,d=new e5(a).toString();if(this.listens.has(d)){let a=this.listens.get(d);c=a.get(b),a.delete(b),0===a.size&&this.listens.delete(d)}else c=void 0;return c}onAuthRevoked_(a,b){ep("Auth token revoked: "+a+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,b){ep("App check token revoked: "+a+"/"+b),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let a of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let b of a.values())this.sendListen_(b);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){let a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){let a={},b="js";bL()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+b+"."+eQ.replace(/\./g,"-")]=1,"object"==typeof navigator&&"ReactNative"===navigator.product&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){let a=e4.getInstance().currentlyOnline();return bY(this.interruptReasons_)&&a}}fn.nextPersistentConnectionId_=0,fn.nextConnectionId_=0;class fo{constructor(a,b){this.name=a,this.node=b}static Wrap(a,b){return new fo(a,b)}}class fp{getCompare(){return this.compare.bind(this)}indexedValueChanged(a,b){let c=new fo(ex,a),d=new fo(ex,b);return 0!==this.compare(c,d)}minPost(){return fo.MIN}}class fq extends fp{static get __EMPTY_NODE(){return h}static set __EMPTY_NODE(a){h=a}compare(a,b){return ez(a.name,b.name)}isDefinedOn(a){throw bx("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(a,b){return!1}minPost(){return fo.MIN}maxPost(){return new fo(ey,h)}makePost(a,b){return bw("string"==typeof a,"KeyIndex indexValue must always be a string."),new fo(a,h)}toString(){return".key"}}let fr=new fq;class fs{constructor(a,b,c,d,e=null){this.isReverse_=d,this.resultGenerator_=e,this.nodeStack_=[];let f=1;for(;!a.isEmpty();)if(f=b?c(a.key,b):1,d&&(f*=-1),f<0)a=this.isReverse_?a.left:a.right;else if(0===f){this.nodeStack_.push(a);break}else this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}getNext(){let a;if(0===this.nodeStack_.length)return null;let b=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(b.key,b.value):{key:b.key,value:b.value},this.isReverse_)for(b=b.left;!b.isEmpty();)this.nodeStack_.push(b),b=b.right;else for(b=b.right;!b.isEmpty();)this.nodeStack_.push(b),b=b.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}}}class ft{constructor(a,b,c,d,e){this.key=a,this.value=b,this.color=null!=c?c:ft.RED,this.left=null!=d?d:fu.EMPTY_NODE,this.right=null!=e?e:fu.EMPTY_NODE}copy(a,b,c,d,e){return new ft(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,b,c){let d=this,e=c(a,d.key);return(d=e<0?d.copy(null,null,null,d.left.insert(a,b,c),null):0===e?d.copy(null,b,null,null,null):d.copy(null,null,null,null,d.right.insert(a,b,c))).fixUp_()}removeMin_(){if(this.left.isEmpty())return fu.EMPTY_NODE;let a=this;return a.left.isRed_()||a.left.left.isRed_()||(a=a.moveRedLeft_()),(a=a.copy(null,null,null,a.left.removeMin_(),null)).fixUp_()}remove(a,b){let c,d;if(c=this,0>b(a,c.key))c.left.isEmpty()||c.left.isRed_()||c.left.left.isRed_()||(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(a,b),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),c.right.isEmpty()||c.right.isRed_()||c.right.left.isRed_()||(c=c.moveRedRight_()),0===b(a,c.key))if(c.right.isEmpty())return fu.EMPTY_NODE;else d=c.right.min_(),c=c.copy(d.key,d.value,null,null,c.right.removeMin_());c=c.copy(null,null,null,null,c.right.remove(a,b))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight_())).rotateLeft_()).colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=(a=a.rotateRight_()).colorFlip_()),a}rotateLeft_(){let a=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){let a=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){let a=this.left.copy(null,null,!this.left.color,null,null),b=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,b)}checkMaxDepth_(){return Math.pow(2,this.check_())<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let a=this.left.check_();if(a===this.right.check_())return a+ +!this.isRed_();throw Error("Black depths differ")}}ft.RED=!0,ft.BLACK=!1;class fu{constructor(a,b=fu.EMPTY_NODE){this.comparator_=a,this.root_=b}insert(a,b){return new fu(this.comparator_,this.root_.insert(a,b,this.comparator_).copy(null,null,ft.BLACK,null,null))}remove(a){return new fu(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,ft.BLACK,null,null))}get(a){let b,c=this.root_;for(;!c.isEmpty();){if(0===(b=this.comparator_(a,c.key)))return c.value;b<0?c=c.left:b>0&&(c=c.right)}return null}getPredecessorKey(a){let b,c=this.root_,d=null;for(;!c.isEmpty();){if(0===(b=this.comparator_(a,c.key)))if(c.left.isEmpty())if(d)return d.key;else return null;else{for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}b<0?c=c.left:b>0&&(d=c,c=c.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(a){return this.root_.inorderTraversal(a)}reverseTraversal(a){return this.root_.reverseTraversal(a)}getIterator(a){return new fs(this.root_,null,this.comparator_,!1,a)}getIteratorFrom(a,b){return new fs(this.root_,a,this.comparator_,!1,b)}getReverseIteratorFrom(a,b){return new fs(this.root_,a,this.comparator_,!0,b)}getReverseIterator(a){return new fs(this.root_,null,this.comparator_,!0,a)}}function fv(a,b){return ez(a.name,b.name)}function fw(a,b){return ez(a,b)}fu.EMPTY_NODE=new class{copy(a,b,c,d,e){return this}insert(a,b,c){return new ft(a,b,null)}remove(a,b){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};let fx=function(a){return"number"==typeof a?"number:"+eF(a):"string:"+a},fy=function(a){if(a.isLeafNode()){let b=a.val();bw("string"==typeof b||"number"==typeof b||"object"==typeof b&&bW(b,".sv"),"Priority must be a string or number.")}else bw(a===i||a.isEmpty(),"priority of unexpected type.");bw(a===i||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};class fz{static set __childrenNodeConstructor(a){j=a}static get __childrenNodeConstructor(){return j}constructor(a,b=fz.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=b,this.lazyHash_=null,bw(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),fy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new fz(this.value_,a)}getImmediateChild(a){return".priority"===a?this.priorityNode_:fz.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return fe(a)?this:".priority"===e7(a)?this.priorityNode_:fz.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,b){return null}updateImmediateChild(a,b){return".priority"===a?this.updatePriority(b):b.isEmpty()&&".priority"!==a?this:fz.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,b).updatePriority(this.priorityNode_)}updateChild(a,b){let c=e7(a);return null===c?b:b.isEmpty()&&".priority"!==c?this:(bw(".priority"!==c||1===e8(a),".priority must be the last token in a path"),this.updateImmediateChild(c,fz.__childrenNodeConstructor.EMPTY_NODE.updateChild(e9(a),b)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,b){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+fx(this.priorityNode_.val())+":");let b=typeof this.value_;a+=b+":","number"===b?a+=eF(this.value_):a+=this.value_,this.lazyHash_=ek(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===fz.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof fz.__childrenNodeConstructor?-1:(bw(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){let b=typeof a.value_,c=typeof this.value_,d=fz.VALUE_TYPE_ORDER.indexOf(b),e=fz.VALUE_TYPE_ORDER.indexOf(c);return(bw(d>=0,"Unknown leaf type: "+b),bw(e>=0,"Unknown leaf type: "+c),d!==e)?e-d:"object"===c?0:this.value_<a.value_?-1:1*(this.value_!==a.value_)}withIndex(){return this}isIndexed(){return!0}equals(a){return a===this||!!a.isLeafNode()&&this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}}fz.VALUE_TYPE_ORDER=["object","boolean","number","string"];let fA=new class extends fp{compare(a,b){let c=a.node.getPriority(),d=b.node.getPriority(),e=c.compareTo(d);return 0===e?ez(a.name,b.name):e}isDefinedOn(a){return!a.getPriority().isEmpty()}indexedValueChanged(a,b){return!a.getPriority().equals(b.getPriority())}minPost(){return fo.MIN}maxPost(){return new fo(ey,new fz("[PRIORITY-POST]",l))}makePost(a,b){return new fo(b,new fz("[PRIORITY-POST]",k(a)))}toString(){return".priority"}},fB=Math.log(2);class fC{constructor(a){this.count=parseInt(Math.log(a+1)/fB,10),this.current_=this.count-1;const b=parseInt(Array(this.count+1).join("1"),2);this.bits_=a+1&b}nextBitIsOne(){let a=!(this.bits_&1<<this.current_);return this.current_--,a}}let fD=function(a,b,c,d){a.sort(b);let e=function(b,d){let f,g=d-b;if(0===g)return null;if(1===g)return f=a[b],new ft(c?c(f):f,f.node,ft.BLACK,null,null);{let h=parseInt(g/2,10)+b,i=e(b,h),j=e(h+1,d);return f=a[h],new ft(c?c(f):f,f.node,ft.BLACK,i,j)}};return new fu(d||b,function(b){let d=null,f=null,g=a.length,h=function(b,d){let f=g-b,h=g;g-=b;let j=e(f+1,h),k=a[f];i(new ft(c?c(k):k,k.node,d,null,j))},i=function(a){d?d.left=a:f=a,d=a};for(let a=0;a<b.count;++a){let c=b.nextBitIsOne(),d=Math.pow(2,b.count-(a+1));c?h(d,ft.BLACK):(h(d,ft.BLACK),h(d,ft.RED))}return f}(new fC(a.length)))},fE={};class fF{static get Default(){return bw(fE&&fA,"ChildrenNode.ts has not been loaded"),m=m||new fF({".priority":fE},{".priority":fA})}constructor(a,b){this.indexes_=a,this.indexSet_=b}get(a){let b=bX(this.indexes_,a);if(!b)throw Error("No index defined for "+a);return b instanceof fu?b:null}hasIndex(a){return bW(this.indexSet_,a.toString())}addIndex(a,b){let c;bw(a!==fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let d=[],e=!1,f=b.getIterator(fo.Wrap),g=f.getNext();for(;g;)e=e||a.isDefinedOn(g.node),d.push(g),g=f.getNext();c=e?fD(d,a.getCompare()):fE;let h=a.toString(),i={...this.indexSet_};i[h]=a;let j={...this.indexes_};return j[h]=c,new fF(j,i)}addToIndexes(a,b){return new fF(bZ(this.indexes_,(c,d)=>{let e=bX(this.indexSet_,d);if(bw(e,"Missing index implementation for "+d),c===fE)if(!e.isDefinedOn(a.node))return fE;else{let c=[],d=b.getIterator(fo.Wrap),f=d.getNext();for(;f;)f.name!==a.name&&c.push(f),f=d.getNext();return c.push(a),fD(c,e.getCompare())}{let d=b.get(a.name),e=c;return d&&(e=e.remove(new fo(a.name,d))),e.insert(a,a.node)}}),this.indexSet_)}removeFromIndexes(a,b){return new fF(bZ(this.indexes_,c=>{if(c===fE)return c;{let d=b.get(a.name);return d?c.remove(new fo(a.name,d)):c}}),this.indexSet_)}}class fG{static get EMPTY_NODE(){return n||(n=new fG(new fu(fw),null,fF.Default))}constructor(a,b,c){this.children_=a,this.priorityNode_=b,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&fy(this.priorityNode_),this.children_.isEmpty()&&bw(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||n}updatePriority(a){return this.children_.isEmpty()?this:new fG(this.children_,a,this.indexMap_)}getImmediateChild(a){if(".priority"===a)return this.getPriority();{let b=this.children_.get(a);return null===b?n:b}}getChild(a){let b=e7(a);return null===b?this:this.getImmediateChild(b).getChild(e9(a))}hasChild(a){return null!==this.children_.get(a)}updateImmediateChild(a,b){if(bw(b,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(b);{let c,d,e=new fo(a,b);b.isEmpty()?(c=this.children_.remove(a),d=this.indexMap_.removeFromIndexes(e,this.children_)):(c=this.children_.insert(a,b),d=this.indexMap_.addToIndexes(e,this.children_));let f=c.isEmpty()?n:this.priorityNode_;return new fG(c,f,d)}}updateChild(a,b){let c=e7(a);if(null===c)return b;{bw(".priority"!==e7(a)||1===e8(a),".priority must be the last token in a path");let d=this.getImmediateChild(c).updateChild(e9(a),b);return this.updateImmediateChild(c,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;let b={},c=0,d=0,e=!0;if(this.forEachChild(fA,(f,g)=>{b[f]=g.val(a),c++,e&&fG.INTEGER_REGEXP_.test(f)?d=Math.max(d,Number(f)):e=!1}),a||!e||!(d<2*c))return a&&!this.getPriority().isEmpty()&&(b[".priority"]=this.getPriority().val()),b;{let a=[];for(let c in b)a[c]=b[c];return a}}hash(){if(null===this.lazyHash_){let a="";this.getPriority().isEmpty()||(a+="priority:"+fx(this.getPriority().val())+":"),this.forEachChild(fA,(b,c)=>{let d=c.hash();""!==d&&(a+=":"+b+":"+d)}),this.lazyHash_=""===a?"":ek(a)}return this.lazyHash_}getPredecessorChildName(a,b,c){let d=this.resolveIndex_(c);if(!d)return this.children_.getPredecessorKey(a);{let c=d.getPredecessorKey(new fo(a,b));return c?c.name:null}}getFirstChildName(a){let b=this.resolveIndex_(a);if(!b)return this.children_.minKey();{let a=b.minKey();return a&&a.name}}getFirstChild(a){let b=this.getFirstChildName(a);return b?new fo(b,this.children_.get(b)):null}getLastChildName(a){let b=this.resolveIndex_(a);if(!b)return this.children_.maxKey();{let a=b.maxKey();return a&&a.name}}getLastChild(a){let b=this.getLastChildName(a);return b?new fo(b,this.children_.get(b)):null}forEachChild(a,b){let c=this.resolveIndex_(a);return c?c.inorderTraversal(a=>b(a.name,a.node)):this.children_.inorderTraversal(b)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,b){let c=this.resolveIndex_(b);if(c)return c.getIteratorFrom(a,a=>a);{let c=this.children_.getIteratorFrom(a.name,fo.Wrap),d=c.peek();for(;null!=d&&0>b.compare(d,a);)c.getNext(),d=c.peek();return c}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,b){let c=this.resolveIndex_(b);if(c)return c.getReverseIteratorFrom(a,a=>a);{let c=this.children_.getReverseIteratorFrom(a.name,fo.Wrap),d=c.peek();for(;null!=d&&b.compare(d,a)>0;)c.getNext(),d=c.peek();return c}}compareTo(a){if(this.isEmpty())if(a.isEmpty())return 0;else return -1;return a.isLeafNode()||a.isEmpty()?1:a===fH?-1:0}withIndex(a){if(a===fr||this.indexMap_.hasIndex(a))return this;{let b=this.indexMap_.addIndex(a,this.children_);return new fG(this.children_,this.priorityNode_,b)}}isIndexed(a){return a===fr||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode()||!this.getPriority().equals(a.getPriority()))return!1;if(this.children_.count()!==a.children_.count())return!1;{let b=this.getIterator(fA),c=a.getIterator(fA),d=b.getNext(),e=c.getNext();for(;d&&e;){if(d.name!==e.name||!d.node.equals(e.node))return!1;d=b.getNext(),e=c.getNext()}return null===d&&null===e}}resolveIndex_(a){return a===fr?null:this.indexMap_.get(a.toString())}}fG.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;let fH=new class extends fG{constructor(){super(new fu(fw),fG.EMPTY_NODE,fF.Default)}compareTo(a){return+(a!==this)}equals(a){return a===this}getPriority(){return this}getImmediateChild(a){return fG.EMPTY_NODE}isEmpty(){return!1}};function fI(a,b=null){if(null===a)return fG.EMPTY_NODE;if("object"==typeof a&&".priority"in a&&(b=a[".priority"]),bw(null===b||"string"==typeof b||"number"==typeof b||"object"==typeof b&&".sv"in b,"Invalid priority type found: "+typeof b),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new fz(a,fI(b));if(a instanceof Array){let c=fG.EMPTY_NODE;return eE(a,(b,d)=>{if(bW(a,b)&&"."!==b.substring(0,1)){let a=fI(d);(a.isLeafNode()||!a.isEmpty())&&(c=c.updateImmediateChild(b,a))}}),c.updatePriority(fI(b))}{let c=[],d=!1;if(eE(a,(a,b)=>{if("."!==a.substring(0,1)){let e=fI(b);e.isEmpty()||(d=d||!e.getPriority().isEmpty(),c.push(new fo(a,e)))}}),0===c.length)return fG.EMPTY_NODE;let e=fD(c,fv,a=>a.name,fw);if(!d)return new fG(e,fI(b),fF.Default);{let a=fD(c,fA.getCompare());return new fG(e,fI(b),new fF({".priority":a},{".priority":fA}))}}}Object.defineProperties(fo,{MIN:{value:new fo(ex,fG.EMPTY_NODE)},MAX:{value:new fo(ey,fH)}}),fq.__EMPTY_NODE=fG.EMPTY_NODE,fz.__childrenNodeConstructor=fG,i=fH,l=fH,k=fI;class fJ extends fp{constructor(a){super(),this.indexPath_=a,bw(!fe(a)&&".priority"!==e7(a),"Can't create PathIndex with empty path or .priority key")}extractChild(a){return a.getChild(this.indexPath_)}isDefinedOn(a){return!a.getChild(this.indexPath_).isEmpty()}compare(a,b){let c=this.extractChild(a.node),d=this.extractChild(b.node),e=c.compareTo(d);return 0===e?ez(a.name,b.name):e}makePost(a,b){let c=fI(a);return new fo(b,fG.EMPTY_NODE.updateChild(this.indexPath_,c))}maxPost(){return new fo(ey,fG.EMPTY_NODE.updateChild(this.indexPath_,fH))}toString(){return fb(this.indexPath_,0).join("/")}}let fK=new class extends fp{compare(a,b){let c=a.node.compareTo(b.node);return 0===c?ez(a.name,b.name):c}isDefinedOn(a){return!0}indexedValueChanged(a,b){return!a.equals(b)}minPost(){return fo.MIN}maxPost(){return fo.MAX}makePost(a,b){return new fo(b,fI(a))}toString(){return".value"}};function fL(a){return{type:"value",snapshotNode:a}}function fM(a,b){return{type:"child_added",snapshotNode:b,childName:a}}function fN(a,b){return{type:"child_removed",snapshotNode:b,childName:a}}function fO(a,b,c){return{type:"child_changed",snapshotNode:b,childName:a,oldSnap:c}}class fP{constructor(a){this.index_=a}updateChild(a,b,c,d,e,f){bw(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");let g=a.getImmediateChild(b);return g.getChild(d).equals(c.getChild(d))&&g.isEmpty()===c.isEmpty()||(null!=f&&(c.isEmpty()?a.hasChild(b)?f.trackChildChange(fN(b,g)):bw(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?f.trackChildChange(fM(b,c)):f.trackChildChange(fO(b,c,g))),a.isLeafNode()&&c.isEmpty())?a:a.updateImmediateChild(b,c).withIndex(this.index_)}updateFullNode(a,b,c){return null!=c&&(a.isLeafNode()||a.forEachChild(fA,(a,d)=>{b.hasChild(a)||c.trackChildChange(fN(a,d))}),b.isLeafNode()||b.forEachChild(fA,(b,d)=>{if(a.hasChild(b)){let e=a.getImmediateChild(b);e.equals(d)||c.trackChildChange(fO(b,d,e))}else c.trackChildChange(fM(b,d))})),b.withIndex(this.index_)}updatePriority(a,b){return a.isEmpty()?fG.EMPTY_NODE:a.updatePriority(b)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class fQ{constructor(a){this.indexedFilter_=new fP(a.getIndex()),this.index_=a.getIndex(),this.startPost_=fQ.getStartPost_(a),this.endPost_=fQ.getEndPost_(a),this.startIsInclusive_=!a.startAfterSet_,this.endIsInclusive_=!a.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(a){let b=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),a):0>this.index_.compare(this.getStartPost(),a),c=this.endIsInclusive_?0>=this.index_.compare(a,this.getEndPost()):0>this.index_.compare(a,this.getEndPost());return b&&c}updateChild(a,b,c,d,e,f){return this.matches(new fo(b,c))||(c=fG.EMPTY_NODE),this.indexedFilter_.updateChild(a,b,c,d,e,f)}updateFullNode(a,b,c){b.isLeafNode()&&(b=fG.EMPTY_NODE);let d=b.withIndex(this.index_);d=d.updatePriority(fG.EMPTY_NODE);let e=this;return b.forEachChild(fA,(a,b)=>{e.matches(new fo(a,b))||(d=d.updateImmediateChild(a,fG.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,d,c)}updatePriority(a,b){return a}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(a){if(!a.hasStart())return a.getIndex().minPost();{let b=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),b)}}static getEndPost_(a){if(!a.hasEnd())return a.getIndex().maxPost();{let b=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),b)}}}class fR{constructor(a){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{let b=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?b<=0:b<0},this.withinEndPost=a=>{let b=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?b<=0:b<0},this.rangedFilter_=new fQ(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft(),this.startIsInclusive_=!a.startAfterSet_,this.endIsInclusive_=!a.endBeforeSet_}updateChild(a,b,c,d,e,f){return(this.rangedFilter_.matches(new fo(b,c))||(c=fG.EMPTY_NODE),a.getImmediateChild(b).equals(c))?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,b,c,d,e,f):this.fullLimitUpdateChild_(a,b,c,e,f)}updateFullNode(a,b,c){let d;if(b.isLeafNode()||b.isEmpty())d=fG.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<b.numChildren()&&b.isIndexed(this.index_)){let a;d=fG.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?b.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):b.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;a.hasNext()&&c<this.limit_;){let b=a.getNext();if(this.withinDirectionalStart(b))if(this.withinDirectionalEnd(b))d=d.updateImmediateChild(b.name,b.node),c++;else break}}else{let a;d=(d=b.withIndex(this.index_)).updatePriority(fG.EMPTY_NODE),a=this.reverse_?d.getReverseIterator(this.index_):d.getIterator(this.index_);let c=0;for(;a.hasNext();){let b=a.getNext();c<this.limit_&&this.withinDirectionalStart(b)&&this.withinDirectionalEnd(b)?c++:d=d.updateImmediateChild(b.name,fG.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,d,c)}updatePriority(a,b){return a}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(a,b,c,d,e){let f;if(this.reverse_){let a=this.index_.getCompare();f=(b,c)=>a(c,b)}else f=this.index_.getCompare();bw(a.numChildren()===this.limit_,"");let g=new fo(b,c),h=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),i=this.rangedFilter_.matches(g);if(a.hasChild(b)){let j=a.getImmediateChild(b),k=d.getChildAfterChild(this.index_,h,this.reverse_);for(;null!=k&&(k.name===b||a.hasChild(k.name));)k=d.getChildAfterChild(this.index_,k,this.reverse_);let l=null==k?1:f(k,g);if(i&&!c.isEmpty()&&l>=0)return null!=e&&e.trackChildChange(fO(b,c,j)),a.updateImmediateChild(b,c);{null!=e&&e.trackChildChange(fN(b,j));let c=a.updateImmediateChild(b,fG.EMPTY_NODE);return null!=k&&this.rangedFilter_.matches(k)?(null!=e&&e.trackChildChange(fM(k.name,k.node)),c.updateImmediateChild(k.name,k.node)):c}}return c.isEmpty()?a:i?f(h,g)>=0?(null!=e&&(e.trackChildChange(fN(h.name,h.node)),e.trackChildChange(fM(b,c))),a.updateImmediateChild(b,c).updateImmediateChild(h.name,fG.EMPTY_NODE)):a:a}}class fS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fA}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return bw(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(bw(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:ex}hasEnd(){return this.endSet_}getIndexEndValue(){return bw(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(bw(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:ey}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return bw(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fA}copy(){let a=new fS;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.startAfterSet_=this.startAfterSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.endBeforeSet_=this.endBeforeSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a}}function fT(a){let b,c={};if(a.isDefault())return c;if(a.index_===fA?b="$priority":a.index_===fK?b="$value":a.index_===fr?b="$key":(bw(a.index_ instanceof fJ,"Unrecognized index type!"),b=a.index_.toString()),c.orderBy=bS(b),a.startSet_){let b=a.startAfterSet_?"startAfter":"startAt";c[b]=bS(a.indexStartValue_),a.startNameSet_&&(c[b]+=","+bS(a.indexStartName_))}if(a.endSet_){let b=a.endBeforeSet_?"endBefore":"endAt";c[b]=bS(a.indexEndValue_),a.endNameSet_&&(c[b]+=","+bS(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?c.limitToFirst=a.limit_:c.limitToLast=a.limit_),c}function fU(a){let b={};if(a.startSet_&&(b.sp=a.indexStartValue_,a.startNameSet_&&(b.sn=a.indexStartName_),b.sin=!a.startAfterSet_),a.endSet_&&(b.ep=a.indexEndValue_,a.endNameSet_&&(b.en=a.indexEndName_),b.ein=!a.endBeforeSet_),a.limitSet_){b.l=a.limit_;let c=a.viewFrom_;""===c&&(c=a.isViewFromLeft()?"l":"r"),b.vf=c}return a.index_!==fA&&(b.i=a.index_.toString()),b}class fV extends e2{reportStats(a){throw Error("Method not implemented.")}static getListenId_(a,b){return void 0!==b?"tag$"+b:(bw(a._queryParams.isDefault(),"should have a tag if it's not a default query."),a._path.toString())}constructor(a,b,c,d){super(),this.repoInfo_=a,this.onDataUpdate_=b,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.log_=eq("p:rest:"),this.listens_={}}listen(a,b,c,d){let e=a._path.toString();this.log_("Listen called for "+e+" "+a._queryIdentifier);let f=fV.getListenId_(a,c),g={};this.listens_[f]=g;let h=fT(a._queryParams);this.restRequest_(e+".json",h,(a,b)=>{let h=b;(404===a&&(h=null,a=null),null===a&&this.onDataUpdate_(e,h,!1,c),bX(this.listens_,f)===g)&&d(a?401===a?"permission_denied":"rest_error:"+a:"ok",null)})}unlisten(a,b){let c=fV.getListenId_(a,b);delete this.listens_[c]}get(a){let b=fT(a._queryParams),c=a._path.toString(),d=new bH;return this.restRequest_(c+".json",b,(a,b)=>{let e=b;404===a&&(e=null,a=null),null===a?(this.onDataUpdate_(c,e,!1,null),d.resolve(e)):d.reject(Error(e))}),d.promise}refreshAuthToken(a){}restRequest_(a,b={},c){return b.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([d,e])=>{d&&d.accessToken&&(b.auth=d.accessToken),e&&e.token&&(b.ac=e.token);let f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+a+"?ns="+this.repoInfo_.namespace+function(a){let b=[];for(let[c,d]of Object.entries(a))Array.isArray(d)?d.forEach(a=>{b.push(encodeURIComponent(c)+"="+encodeURIComponent(a))}):b.push(encodeURIComponent(c)+"="+encodeURIComponent(d));return b.length?"&"+b.join("&"):""}(b);this.log_("Sending REST request for "+f);let g=new XMLHttpRequest;g.onreadystatechange=()=>{if(c&&4===g.readyState){this.log_("REST Response for "+f+" received. status:",g.status,"response:",g.responseText);let a=null;if(g.status>=200&&g.status<300){try{a=bR(g.responseText)}catch(a){et("Failed to parse JSON response for "+f+": "+g.responseText)}c(null,a)}else 401!==g.status&&404!==g.status&&et("Got unsuccessful REST response for "+f+" Status: "+g.status),c(g.status);c=null}},g.open("GET",f,!0),g.send()})}}class fW{constructor(){this.rootNode_=fG.EMPTY_NODE}getNode(a){return this.rootNode_.getChild(a)}updateSnapshot(a,b){this.rootNode_=this.rootNode_.updateChild(a,b)}}function fX(){return{value:null,children:new Map}}function fY(a,b,c){var d,e;null!==a.value?c(b,a.value):(d=a,e=(a,d)=>{fY(d,new e5(b.toString()+"/"+a),c)},d.children.forEach((a,b)=>{e(b,a)}))}class fZ{constructor(a){this.collection_=a,this.last_=null}get(){let a=this.collection_.get(),b={...a};return this.last_&&eE(this.last_,(a,c)=>{b[a]=b[a]-c}),this.last_=a,b}}class f${constructor(a,b){this.server_=b,this.statsToReport_={},this.statsListener_=new fZ(a);const c=1e4+2e4*Math.random();eJ(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){let a=this.statsListener_.get(),b={},c=!1;eE(a,(a,d)=>{d>0&&bW(this.statsToReport_,a)&&(b[a]=d,c=!0)}),c&&this.server_.reportStats(b),eJ(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}function f_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function f0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function f1(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}(C=M||(M={}))[C.OVERWRITE=0]="OVERWRITE",C[C.MERGE=1]="MERGE",C[C.ACK_USER_WRITE=2]="ACK_USER_WRITE",C[C.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class f2{constructor(a,b,c){this.path=a,this.affectedTree=b,this.revert=c,this.type=M.ACK_USER_WRITE,this.source=f_()}operationForChild(a){if(!fe(this.path))return bw(e7(this.path)===a,"operationForChild called for unrelated child."),new f2(e9(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return bw(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let b=this.affectedTree.subtree(new e5(a));return new f2(e6(),b,this.revert)}}}class f3{constructor(a,b){this.source=a,this.path=b,this.type=M.LISTEN_COMPLETE}operationForChild(a){return fe(this.path)?new f3(this.source,e6()):new f3(this.source,e9(this.path))}}class f4{constructor(a,b,c){this.source=a,this.path=b,this.snap=c,this.type=M.OVERWRITE}operationForChild(a){return fe(this.path)?new f4(this.source,e6(),this.snap.getImmediateChild(a)):new f4(this.source,e9(this.path),this.snap)}}class f5{constructor(a,b,c){this.source=a,this.path=b,this.children=c,this.type=M.MERGE}operationForChild(a){if(!fe(this.path))return bw(e7(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new f5(this.source,e9(this.path),this.children);{let b=this.children.subtree(new e5(a));return b.isEmpty()?null:b.value?new f4(this.source,e6(),b.value):new f5(this.source,e6(),b)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class f6{constructor(a,b,c){this.node_=a,this.fullyInitialized_=b,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(a){if(fe(a))return this.isFullyInitialized()&&!this.filtered_;let b=e7(a);return this.isCompleteForChild(b)}isCompleteForChild(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)}getNode(){return this.node_}}class f7{constructor(a){this.query_=a,this.index_=this.query_._queryParams.getIndex()}}function f8(a,b,c,d,e,f){let g=d.filter(a=>a.type===c);g.sort((b,c)=>(function(a,b,c){if(null==b.childName||null==c.childName)throw bx("Should only compare child_ events.");let d=new fo(b.childName,b.snapshotNode),e=new fo(c.childName,c.snapshotNode);return a.index_.compare(d,e)})(a,b,c)),g.forEach(c=>{var d,g,h;let i=(d=a,g=c,h=f,"value"===g.type||"child_removed"===g.type||(g.prevName=h.getPredecessorChildName(g.childName,g.snapshotNode,d.index_)),g);e.forEach(d=>{d.respondsTo(c.type)&&b.push(d.createEvent(i,a.query_))})})}function f9(a,b){return{eventCache:a,serverCache:b}}function ga(a,b,c,d){return f9(new f6(b,c,d),a.serverCache)}function gb(a,b,c,d){return f9(a.eventCache,new f6(b,c,d))}function gc(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function gd(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}class ge{static fromObject(a){let b=new ge(null);return eE(a,(a,c)=>{b=b.set(new e5(a),c)}),b}constructor(a,b=(!o&&(o=new fu(eA)),o)){this.value=a,this.children=b}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(a,b){if(null!=this.value&&b(this.value))return{path:e6(),value:this.value};{if(fe(a))return null;let c=e7(a),d=this.children.get(c);if(null===d)return null;{let e=d.findRootMostMatchingPathAndValue(e9(a),b);return null!=e?{path:fd(new e5(c),e.path),value:e.value}:null}}}findRootMostValueAndPath(a){return this.findRootMostMatchingPathAndValue(a,()=>!0)}subtree(a){if(fe(a))return this;{let b=e7(a),c=this.children.get(b);return null!==c?c.subtree(e9(a)):new ge(null)}}set(a,b){if(fe(a))return new ge(b,this.children);{let c=e7(a),d=(this.children.get(c)||new ge(null)).set(e9(a),b),e=this.children.insert(c,d);return new ge(this.value,e)}}remove(a){if(fe(a))if(this.children.isEmpty())return new ge(null);else return new ge(null,this.children);{let b=e7(a),c=this.children.get(b);if(!c)return this;{let d,e=c.remove(e9(a));return(d=e.isEmpty()?this.children.remove(b):this.children.insert(b,e),null===this.value&&d.isEmpty())?new ge(null):new ge(this.value,d)}}}get(a){if(fe(a))return this.value;{let b=e7(a),c=this.children.get(b);return c?c.get(e9(a)):null}}setTree(a,b){if(fe(a))return b;{let c,d=e7(a),e=(this.children.get(d)||new ge(null)).setTree(e9(a),b);return c=e.isEmpty()?this.children.remove(d):this.children.insert(d,e),new ge(this.value,c)}}fold(a){return this.fold_(e6(),a)}fold_(a,b){let c={};return this.children.inorderTraversal((d,e)=>{c[d]=e.fold_(fd(a,d),b)}),b(a,this.value,c)}findOnPath(a,b){return this.findOnPath_(a,e6(),b)}findOnPath_(a,b,c){let d=!!this.value&&c(b,this.value);if(d)return d;{if(fe(a))return null;let d=e7(a),e=this.children.get(d);return e?e.findOnPath_(e9(a),fd(b,d),c):null}}foreachOnPath(a,b){return this.foreachOnPath_(a,e6(),b)}foreachOnPath_(a,b,c){if(fe(a))return this;{this.value&&c(b,this.value);let d=e7(a),e=this.children.get(d);return e?e.foreachOnPath_(e9(a),fd(b,d),c):new ge(null)}}foreach(a){this.foreach_(e6(),a)}foreach_(a,b){this.children.inorderTraversal((c,d)=>{d.foreach_(fd(a,c),b)}),this.value&&b(a,this.value)}foreachChild(a){this.children.inorderTraversal((b,c)=>{c.value&&a(b,c.value)})}}class gf{constructor(a){this.writeTree_=a}static empty(){return new gf(new ge(null))}}function gg(a,b,c){if(fe(b))return new gf(new ge(c));{let d=a.writeTree_.findRootMostValueAndPath(b);if(null!=d){let e=d.path,f=d.value,g=ff(e,b);return f=f.updateChild(g,c),new gf(a.writeTree_.set(e,f))}{let d=new ge(c);return new gf(a.writeTree_.setTree(b,d))}}}function gh(a,b,c){let d=a;return eE(c,(a,c)=>{d=gg(d,fd(b,a),c)}),d}function gi(a,b){return fe(b)?gf.empty():new gf(a.writeTree_.setTree(b,new ge(null)))}function gj(a,b){return null!=gk(a,b)}function gk(a,b){let c=a.writeTree_.findRootMostValueAndPath(b);return null!=c?a.writeTree_.get(c.path).getChild(ff(c.path,b)):null}function gl(a){let b=[],c=a.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(fA,(a,c)=>{b.push(new fo(a,c))}):a.writeTree_.children.inorderTraversal((a,c)=>{null!=c.value&&b.push(new fo(a,c.value))}),b}function gm(a,b){if(fe(b))return a;{let c=gk(a,b);return new gf(null!=c?new ge(c):a.writeTree_.subtree(b))}}function gn(a){return a.writeTree_.isEmpty()}function go(a,b){return function a(b,c,d){if(null!=c.value)return d.updateChild(b,c.value);{let e=null;return c.children.inorderTraversal((c,f)=>{".priority"===c?(bw(null!==f.value,"Priority writes must always be leaf nodes"),e=f.value):d=a(fd(b,c),f,d)}),d.getChild(b).isEmpty()||null===e||(d=d.updateChild(fd(b,".priority"),e)),d}}(e6(),a.writeTree_,b)}function gp(a){return a.visible}function gq(a,b,c){let d=gf.empty();for(let e=0;e<a.length;++e){let f=a[e];if(b(f)){let a,b=f.path;if(f.snap)fi(c,b)?d=gg(d,a=ff(c,b),f.snap):fi(b,c)&&(a=ff(b,c),d=gg(d,e6(),f.snap.getChild(a)));else if(f.children){if(fi(c,b))d=gh(d,a=ff(c,b),f.children);else if(fi(b,c))if(fe(a=ff(b,c)))d=gh(d,e6(),f.children);else{let b=bX(f.children,e7(a));if(b){let c=b.getChild(e9(a));d=gg(d,e6(),c)}}}else throw bx("WriteRecord should have .snap or .children")}}return d}function gr(a,b,c,d,e){if(d||e){let f=gm(a.visibleWrites,b);return!e&&gn(f)?c:e||null!=c||gj(f,e6())?go(gq(a.allWrites,function(a){return(a.visible||e)&&(!d||!~d.indexOf(a.writeId))&&(fi(a.path,b)||fi(b,a.path))},b),c||fG.EMPTY_NODE):null}{let d=gk(a.visibleWrites,b);if(null!=d)return d;{let d=gm(a.visibleWrites,b);return gn(d)?c:null!=c||gj(d,e6())?go(d,c||fG.EMPTY_NODE):null}}}function gs(a,b,c,d){return gr(a.writeTree,a.treePath,b,c,d)}function gt(a,b){return function(a,b,c){let d=fG.EMPTY_NODE,e=gk(a.visibleWrites,b);if(e)return e.isLeafNode()||e.forEachChild(fA,(a,b)=>{d=d.updateImmediateChild(a,b)}),d;if(!c)return gl(gm(a.visibleWrites,b)).forEach(a=>{d=d.updateImmediateChild(a.name,a.node)}),d;{let e=gm(a.visibleWrites,b);return c.forEachChild(fA,(a,b)=>{let c=go(gm(e,new e5(a)),b);d=d.updateImmediateChild(a,c)}),gl(e).forEach(a=>{d=d.updateImmediateChild(a.name,a.node)}),d}}(a.writeTree,a.treePath,b)}function gu(a,b,c,d){return function(a,b,c,d,e){bw(d||e,"Either existingEventSnap or existingServerSnap must exist");let f=fd(b,c);if(gj(a.visibleWrites,f))return null;{let b=gm(a.visibleWrites,f);return gn(b)?e.getChild(c):go(b,e.getChild(c))}}(a.writeTree,a.treePath,b,c,d)}function gv(a,b){var c,d;return c=a.writeTree,d=fd(a.treePath,b),gk(c.visibleWrites,d)}function gw(a,b,c){var d,e;let f,g;return d=a.writeTree,e=a.treePath,f=fd(e,b),null!=(g=gk(d.visibleWrites,f))?g:c.isCompleteForChild(b)?go(gm(d.visibleWrites,f),c.getNode().getImmediateChild(b)):null}function gx(a,b){return gy(fd(a.treePath,b),a.writeTree)}function gy(a,b){return{treePath:a,writeTree:b}}class gz{constructor(){this.changeMap=new Map}trackChildChange(a){let b=a.type,c=a.childName;bw("child_added"===b||"child_changed"===b||"child_removed"===b,"Only child changes supported for tracking"),bw(".priority"!==c,"Only non-priority child changes can be tracked.");let d=this.changeMap.get(c);if(d){let e=d.type;if("child_added"===b&&"child_removed"===e)this.changeMap.set(c,fO(c,a.snapshotNode,d.snapshotNode));else if("child_removed"===b&&"child_added"===e)this.changeMap.delete(c);else if("child_removed"===b&&"child_changed"===e)this.changeMap.set(c,fN(c,d.oldSnap));else if("child_changed"===b&&"child_added"===e)this.changeMap.set(c,fM(c,a.snapshotNode));else if("child_changed"===b&&"child_changed"===e)this.changeMap.set(c,fO(c,a.snapshotNode,d.oldSnap));else throw bx("Illegal combination of changes: "+a+" occurred after "+d)}else this.changeMap.set(c,a)}getChanges(){return Array.from(this.changeMap.values())}}let gA=new class{getCompleteChild(a){return null}getChildAfterChild(a,b,c){return null}};class gB{constructor(a,b,c=null){this.writes_=a,this.viewCache_=b,this.optCompleteServerCache_=c}getCompleteChild(a){let b=this.viewCache_.eventCache;if(b.isCompleteForChild(a))return b.getNode().getImmediateChild(a);{let b=null!=this.optCompleteServerCache_?new f6(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gw(this.writes_,a,b)}}getChildAfterChild(a,b,c){var d;let e=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gd(this.viewCache_),f=(d=this.writes_,function(a,b,c,d,e,f,g){let h,i=gm(a.visibleWrites,b),j=gk(i,e6());if(null!=j)h=j;else{if(null==c)return[];h=go(i,c)}if((h=h.withIndex(g)).isEmpty()||h.isLeafNode())return[];{let a=[],b=g.getCompare(),c=f?h.getReverseIteratorFrom(d,g):h.getIteratorFrom(d,g),e=c.getNext();for(;e&&a.length<1;)0!==b(e,d)&&a.push(e),e=c.getNext();return a}}(d.writeTree,d.treePath,e,b,1,c,a));return 0===f.length?null:f[0]}}function gC(a,b,c,d,e,f){let g=b.eventCache;if(null!=gv(d,c))return b;{let h,i;if(fe(c))if(bw(b.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),b.serverCache.isFiltered()){let c=gd(b),e=gt(d,c instanceof fG?c:fG.EMPTY_NODE);h=a.filter.updateFullNode(b.eventCache.getNode(),e,f)}else{let c=gs(d,gd(b));h=a.filter.updateFullNode(b.eventCache.getNode(),c,f)}else{let j=e7(c);if(".priority"===j){bw(1===e8(c),"Can't have a priority with additional path components");let e=g.getNode(),f=gu(d,c,e,i=b.serverCache.getNode());h=null!=f?a.filter.updatePriority(e,f):g.getNode()}else{let k,l=e9(c);if(g.isCompleteForChild(j)){i=b.serverCache.getNode();let a=gu(d,c,g.getNode(),i);k=null!=a?g.getNode().getImmediateChild(j).updateChild(l,a):g.getNode().getImmediateChild(j)}else k=gw(d,j,b.serverCache);h=null!=k?a.filter.updateChild(g.getNode(),j,k,l,e,f):g.getNode()}}return ga(b,h,g.isFullyInitialized()||fe(c),a.filter.filtersNodes())}}function gD(a,b,c,d,e,f,g,h){let i,j=b.serverCache,k=g?a.filter:a.filter.getIndexedFilter();if(fe(c))i=k.updateFullNode(j.getNode(),d,null);else if(k.filtersNodes()&&!j.isFiltered()){let a=j.getNode().updateChild(c,d);i=k.updateFullNode(j.getNode(),a,null)}else{let a=e7(c);if(!j.isCompleteForPath(c)&&e8(c)>1)return b;let e=e9(c),f=j.getNode().getImmediateChild(a).updateChild(e,d);i=".priority"===a?k.updatePriority(j.getNode(),f):k.updateChild(j.getNode(),a,f,e,gA,null)}let l=gb(b,i,j.isFullyInitialized()||fe(c),k.filtersNodes()),m=new gB(e,l,f);return gC(a,l,c,e,m,h)}function gE(a,b,c,d,e,f,g){let h,i,j=b.eventCache,k=new gB(e,b,f);if(fe(c))i=a.filter.updateFullNode(b.eventCache.getNode(),d,g),h=ga(b,i,!0,a.filter.filtersNodes());else{let e=e7(c);if(".priority"===e)i=a.filter.updatePriority(b.eventCache.getNode(),d),h=ga(b,i,j.isFullyInitialized(),j.isFiltered());else{let f,i=e9(c),l=j.getNode().getImmediateChild(e);if(fe(i))f=d;else{let a=k.getCompleteChild(e);f=null!=a?".priority"===fa(i)&&a.getChild(fc(i)).isEmpty()?a:a.updateChild(i,d):fG.EMPTY_NODE}h=l.equals(f)?b:ga(b,a.filter.updateChild(j.getNode(),e,f,i,k,g),j.isFullyInitialized(),a.filter.filtersNodes())}}return h}function gF(a,b){return a.eventCache.isCompleteForChild(b)}function gG(a,b,c){return c.foreach((a,c)=>{b=b.updateChild(a,c)}),b}function gH(a,b,c,d,e,f,g,h){let i;if(b.serverCache.getNode().isEmpty()&&!b.serverCache.isFullyInitialized())return b;let j=b;i=fe(c)?d:new ge(null).setTree(c,d);let k=b.serverCache.getNode();return i.children.inorderTraversal((c,d)=>{if(k.hasChild(c)){let i=gG(a,b.serverCache.getNode().getImmediateChild(c),d);j=gD(a,j,new e5(c),i,e,f,g,h)}}),i.children.inorderTraversal((c,d)=>{let i=!b.serverCache.isCompleteForChild(c)&&null===d.value;if(!k.hasChild(c)&&!i){let i=gG(a,b.serverCache.getNode().getImmediateChild(c),d);j=gD(a,j,new e5(c),i,e,f,g,h)}}),j}class gI{constructor(a,b){this.query_=a,this.eventRegistrations_=[];const c=this.query_._queryParams,d=new fP(c.getIndex()),e=function(a){return a.loadsAllData()?new fP(a.getIndex()):a.hasLimit()?new fR(a):new fQ(a)}(c);this.processor_={filter:e};const f=b.serverCache,g=b.eventCache,h=d.updateFullNode(fG.EMPTY_NODE,f.getNode(),null),i=e.updateFullNode(fG.EMPTY_NODE,g.getNode(),null),j=new f6(h,f.isFullyInitialized(),d.filtersNodes()),k=new f6(i,g.isFullyInitialized(),e.filtersNodes());this.viewCache_=f9(k,j),this.eventGenerator_=new f7(this.query_)}get query(){return this.query_}}function gJ(a){return 0===a.eventRegistrations_.length}function gK(a,b,c){let d=[];if(c){bw(null==b,"A cancel should cancel all event registrations.");let e=a.query._path;a.eventRegistrations_.forEach(a=>{let b=a.createCancelEvent(c,e);b&&d.push(b)})}if(b){let c=[];for(let d=0;d<a.eventRegistrations_.length;++d){let e=a.eventRegistrations_[d];if(e.matches(b)){if(b.hasAnyCallback()){c=c.concat(a.eventRegistrations_.slice(d+1));break}}else c.push(e)}a.eventRegistrations_=c}else a.eventRegistrations_=[];return d}function gL(a,b,c,d){var e,f;b.type===M.MERGE&&null!==b.source.queryId&&(bw(gd(a.viewCache_),"We should always have a full cache before handling merges"),bw(gc(a.viewCache_),"Missing event cache, even though we have a server cache"));let g=a.viewCache_,h=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q;let r,s,t=new gz;if(c.type===M.OVERWRITE)c.source.fromUser?r=gE(a,b,c.path,c.snap,d,e,t):(bw(c.source.fromServer,"Unknown source."),s=c.source.tagged||b.serverCache.isFiltered()&&!fe(c.path),r=gD(a,b,c.path,c.snap,d,e,s,t));else if(c.type===M.MERGE){let m;c.source.fromUser?(f=a,g=b,h=c.path,i=c.children,j=d,k=e,l=t,m=g,i.foreach((a,b)=>{let c=fd(h,a);gF(g,e7(c))&&(m=gE(f,m,c,b,j,k,l))}),i.foreach((a,b)=>{let c=fd(h,a);gF(g,e7(c))||(m=gE(f,m,c,b,j,k,l))}),r=m):(bw(c.source.fromServer,"Unknown source."),s=c.source.tagged||b.serverCache.isFiltered(),r=gH(a,b,c.path,c.children,d,e,s,t))}else if(c.type===M.ACK_USER_WRITE)r=c.revert?function(a,b,c,d,e,f){let g;if(null!=gv(d,c))return b;{let h,i=new gB(d,b,e),j=b.eventCache.getNode();if(fe(c)||".priority"===e7(c)){let c;if(b.serverCache.isFullyInitialized())c=gs(d,gd(b));else{let a=b.serverCache.getNode();bw(a instanceof fG,"serverChildren would be complete if leaf node"),c=gt(d,a)}h=a.filter.updateFullNode(j,c,f)}else{let e=e7(c),k=gw(d,e,b.serverCache);null==k&&b.serverCache.isCompleteForChild(e)&&(k=j.getImmediateChild(e)),(h=null!=k?a.filter.updateChild(j,e,k,e9(c),i,f):b.eventCache.getNode().hasChild(e)?a.filter.updateChild(j,e,fG.EMPTY_NODE,e9(c),i,f):j).isEmpty()&&b.serverCache.isFullyInitialized()&&(g=gs(d,gd(b))).isLeafNode()&&(h=a.filter.updateFullNode(h,g,f))}return g=b.serverCache.isFullyInitialized()||null!=gv(d,e6()),ga(b,h,g,a.filter.filtersNodes())}}(a,b,c.path,d,e,t):function(a,b,c,d,e,f,g){if(null!=gv(e,c))return b;let h=b.serverCache.isFiltered(),i=b.serverCache;if(null!=d.value)if(fe(c)&&i.isFullyInitialized()||i.isCompleteForPath(c))return gD(a,b,c,i.getNode().getChild(c),e,f,h,g);else{if(!fe(c))return b;let d=new ge(null);return i.getNode().forEachChild(fr,(a,b)=>{d=d.set(new e5(a),b)}),gH(a,b,c,d,e,f,h,g)}{let j=new ge(null);return d.foreach((a,b)=>{let d=fd(c,a);i.isCompleteForPath(d)&&(j=j.set(a,i.getNode().getChild(d)))}),gH(a,b,c,j,e,f,h,g)}}(a,b,c.path,c.affectedTree,d,e,t);else if(c.type===M.LISTEN_COMPLETE){let e;m=a,n=b,o=c.path,p=d,q=t,e=n.serverCache,r=gC(m,gb(n,e.getNode(),e.isFullyInitialized()||fe(o),e.isFiltered()),o,p,gA,q)}else throw bx("Unknown operation type: "+c.type);let u=t.getChanges();return function(a,b,c){let d=b.eventCache;if(d.isFullyInitialized()){let e=d.getNode().isLeafNode()||d.getNode().isEmpty(),f=gc(a);!(c.length>0)&&a.eventCache.isFullyInitialized()&&(!e||d.getNode().equals(f))&&d.getNode().getPriority().equals(f.getPriority())||c.push(fL(gc(b)))}}(b,r,u),{viewCache:r,changes:u}}(a.processor_,g,b,c,d);return e=a.processor_,bw((f=h.viewCache).eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),bw(f.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed"),bw(h.viewCache.serverCache.isFullyInitialized()||!g.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=h.viewCache,gM(a,h.changes,h.viewCache.eventCache.getNode(),null)}function gM(a,b,c,d){var e;let f,g,h=d?[d]:a.eventRegistrations_;return e=a.eventGenerator_,f=[],g=[],b.forEach(a=>{var b;"child_changed"===a.type&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&g.push((b=a.childName,{type:"child_moved",snapshotNode:a.snapshotNode,childName:b}))}),f8(e,f,"child_removed",b,h,c),f8(e,f,"child_added",b,h,c),f8(e,f,"child_moved",g,h,c),f8(e,f,"child_changed",b,h,c),f8(e,f,"value",b,h,c),f}class gN{constructor(){this.views=new Map}}function gO(a,b,c,d){let e=b.source.queryId;if(null!==e){let f=a.views.get(e);return bw(null!=f,"SyncTree gave us an op for an invalid query."),gL(f,b,c,d)}{let e=[];for(let f of a.views.values())e=e.concat(gL(f,b,c,d));return e}}function gP(a,b,c,d,e){let f=b._queryIdentifier,g=a.views.get(f);if(!g){let a=gs(c,e?d:null),f=!1;return a?f=!0:(a=d instanceof fG?gt(c,d):fG.EMPTY_NODE,f=!1),new gI(b,f9(new f6(a,f,!1),new f6(d,e,!1)))}return g}function gQ(a){let b=[];for(let c of a.views.values())c.query._queryParams.loadsAllData()||b.push(c);return b}function gR(a,b){let c=null;for(let d of a.views.values())c=c||function(a,b){let c=gd(a.viewCache_);return c&&(a.query._queryParams.loadsAllData()||!fe(b)&&!c.getImmediateChild(e7(b)).isEmpty())?c.getChild(b):null}(d,b);return c}function gS(a,b){if(b._queryParams.loadsAllData())return gU(a);{let c=b._queryIdentifier;return a.views.get(c)}}function gT(a){return null!=gU(a)}function gU(a){for(let b of a.views.values())if(b.query._queryParams.loadsAllData())return b;return null}let gV=1;class gW{constructor(a){this.listenProvider_=a,this.syncPointTree_=new ge(null),this.pendingWriteTree_={visibleWrites:gf.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gX(a,b,c,d,e){var f,g;return(f=a.pendingWriteTree_,g=e,bw(d>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===g&&(g=!0),f.allWrites.push({path:b,snap:c,writeId:d,visible:g}),g&&(f.visibleWrites=gg(f.visibleWrites,b,c)),f.lastWriteId=d,e)?g2(a,new f4(f_(),b,c)):[]}function gY(a,b,c=!1){let d=function(a,b){for(let c=0;c<a.allWrites.length;c++){let d=a.allWrites[c];if(d.writeId===b)return d}return null}(a.pendingWriteTree_,b);if(!function(a,b){var c;let d=a.allWrites.findIndex(a=>a.writeId===b);bw(d>=0,"removeWrite called with nonexistent writeId.");let e=a.allWrites[d];a.allWrites.splice(d,1);let f=e.visible,g=!1,h=a.allWrites.length-1;for(;f&&h>=0;){let b=a.allWrites[h];b.visible&&(h>=d&&function(a,b){if(a.snap)return fi(a.path,b);for(let c in a.children)if(a.children.hasOwnProperty(c)&&fi(fd(a.path,c),b))return!0;return!1}(b,e.path)?f=!1:fi(e.path,b.path)&&(g=!0)),h--}return!!f&&(g?((c=a).visibleWrites=gq(c.allWrites,gp,e6()),c.allWrites.length>0?c.lastWriteId=c.allWrites[c.allWrites.length-1].writeId:c.lastWriteId=-1):e.snap?a.visibleWrites=gi(a.visibleWrites,e.path):eE(e.children,b=>{a.visibleWrites=gi(a.visibleWrites,fd(e.path,b))}),!0)}(a.pendingWriteTree_,b))return[];{let b=new ge(null);return null!=d.snap?b=b.set(e6(),!0):eE(d.children,a=>{b=b.set(new e5(a),!0)}),g2(a,new f2(d.path,b,c))}}function gZ(a,b,c){return g2(a,new f4(f0(),b,c))}function g$(a,b,c,d,e=!1){let f=b._path,g=a.syncPointTree_.get(f),h=[];if(g&&("default"===b._queryIdentifier||null!=gS(g,b))){let k=function(a,b,c,d){let e=b._queryIdentifier,f=[],g=[],h=gT(a);if("default"===e)for(let[b,e]of a.views.entries())g=g.concat(gK(e,c,d)),gJ(e)&&(a.views.delete(b),e.query._queryParams.loadsAllData()||f.push(e.query));else{let b=a.views.get(e);b&&(g=g.concat(gK(b,c,d)),gJ(b)&&(a.views.delete(e),b.query._queryParams.loadsAllData()||f.push(b.query)))}return h&&!gT(a)&&f.push(new(bw(p,"Reference.ts has not been loaded"),p)(b._repo,b._path)),{removed:f,events:g}}(g,b,c,d);0===g.views.size&&(a.syncPointTree_=a.syncPointTree_.remove(f));let l=k.removed;if(h=k.events,!e){let c=-1!==l.findIndex(a=>a._queryParams.loadsAllData()),e=a.syncPointTree_.findOnPath(f,(a,b)=>gT(b));if(c&&!e){let b=a.syncPointTree_.subtree(f);if(!b.isEmpty()){let c=b.fold((a,b,c)=>{if(b&&gT(b))return[gU(b)];{let a=[];return b&&(a=gQ(b)),eE(c,(b,c)=>{a=a.concat(c)}),a}});for(let b=0;b<c.length;++b){let d=c[b],e=d.query,f=g3(a,d);a.listenProvider_.startListening(g9(e),g4(a,e),f.hashFn,f.onComplete)}}}e||!(l.length>0)||d||(c?a.listenProvider_.stopListening(g9(b),null):l.forEach(b=>{let c=a.queryToTagMap.get(g5(b));a.listenProvider_.stopListening(g9(b),c)}))}var i=a,j=l;for(let a=0;a<j.length;++a){let b=j[a];if(!b._queryParams.loadsAllData()){let a=g5(b),c=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(c)}}}return h}function g_(a,b,c,d){let e=g6(a,d);if(null==e)return[];{let d=g7(e),f=d.path,g=d.queryId,h=ff(f,b);return g8(a,f,new f4(f1(g),h,c))}}function g0(a,b,c,d=!1){var e;let f,g,h,i,j=b._path,k=null,l=!1;a.syncPointTree_.foreachOnPath(j,(a,b)=>{let c=ff(a,j);k=k||gR(b,c),l=l||gT(b)});let m=a.syncPointTree_.get(j);m?(l=l||gT(m),k=k||gR(m,e6())):(m=new gN,a.syncPointTree_=a.syncPointTree_.set(j,m)),null!=k?f=!0:(f=!1,k=fG.EMPTY_NODE,a.syncPointTree_.subtree(j).foreachChild((a,b)=>{let c=gR(b,e6());c&&(k=k.updateImmediateChild(a,c))}));let n=null!=gS(m,b);if(!n&&!b._queryParams.loadsAllData()){let c=g5(b);bw(!a.queryToTagMap.has(c),"View does not exist, but we have a tag");let d=gV++;a.queryToTagMap.set(c,d),a.tagToQueryMap.set(d,c)}let o=gy(j,a.pendingWriteTree_),p=(g=gP(e=m,b,o,k,f),e.views.has(b._queryIdentifier)||e.views.set(b._queryIdentifier,g),g.eventRegistrations_.push(c),h=g.viewCache_.eventCache,i=[],h.getNode().isLeafNode()||h.getNode().forEachChild(fA,(a,b)=>{i.push(fM(a,b))}),h.isFullyInitialized()&&i.push(fL(h.getNode())),gM(g,i,h.getNode(),c));if(!n&&!l&&!d){let c=gS(m,b);p=p.concat(function(a,b,c){let d=b._path,e=g4(a,b),f=g3(a,c),g=a.listenProvider_.startListening(g9(b),e,f.hashFn,f.onComplete),h=a.syncPointTree_.subtree(d);if(e)bw(!gT(h.value),"If we're adding a query, it shouldn't be shadowed");else{let b=h.fold((a,b,c)=>{if(!fe(a)&&b&&gT(b))return[gU(b).query];{let a=[];return b&&(a=a.concat(gQ(b).map(a=>a.query))),eE(c,(b,c)=>{a=a.concat(c)}),a}});for(let c=0;c<b.length;++c){let d=b[c];a.listenProvider_.stopListening(g9(d),g4(a,d))}}return g}(a,b,c))}return p}function g1(a,b,c){let d=a.pendingWriteTree_,e=a.syncPointTree_.findOnPath(b,(a,c)=>{let d=gR(c,ff(a,b));if(d)return d});return gr(d,b,e,c,!0)}function g2(a,b){var c;return function a(b,c,d,e){if(fe(b.path))return function a(b,c,d,e){let f=c.get(e6());null==d&&null!=f&&(d=gR(f,e6()));let g=[];return c.children.inorderTraversal((c,f)=>{let h=d?d.getImmediateChild(c):null,i=gx(e,c),j=b.operationForChild(c);j&&(g=g.concat(a(j,f,h,i)))}),f&&(g=g.concat(gO(f,b,e,d))),g}(b,c,d,e);{let f=c.get(e6());null==d&&null!=f&&(d=gR(f,e6()));let g=[],h=e7(b.path),i=b.operationForChild(h),j=c.children.get(h);if(j&&i){let b=d?d.getImmediateChild(h):null,c=gx(e,h);g=g.concat(a(i,j,b,c))}return f&&(g=g.concat(gO(f,b,e,d))),g}}(b,a.syncPointTree_,null,(c=a.pendingWriteTree_,gy(e6(),c)))}function g3(a,b){let c=b.query,d=g4(a,c);return{hashFn:()=>(b.viewCache_.serverCache.getNode()||fG.EMPTY_NODE).hash(),onComplete:b=>{var e;if("ok"===b)if(d)return function(a,b,c){let d=g6(a,c);if(!d)return[];{let c=g7(d),e=c.path,f=c.queryId,g=ff(e,b);return g8(a,e,new f3(f1(f),g))}}(a,c._path,d);else return e=c._path,g2(a,new f3(f0(),e));{let d,e,f=(d="Unknown Error","too_big"===b?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===b?d="Client doesn't have permission to access the desired data.":"unavailable"===b&&(d="The service is unavailable"),(e=Error(b+" at "+c._path.toString()+": "+d)).code=b.toUpperCase(),e);return g$(a,c,null,f)}}}}function g4(a,b){let c=g5(b);return a.queryToTagMap.get(c)}function g5(a){return a._path.toString()+"$"+a._queryIdentifier}function g6(a,b){return a.tagToQueryMap.get(b)}function g7(a){let b=a.indexOf("$");return bw(-1!==b&&b<a.length-1,"Bad queryKey."),{queryId:a.substr(b+1),path:new e5(a.substr(0,b))}}function g8(a,b,c){let d=a.syncPointTree_.get(b);return bw(d,"Missing sync point for query tag that we're tracking"),gO(d,c,gy(b,a.pendingWriteTree_),null)}function g9(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(bw(q,"Reference.ts has not been loaded"),q)(a._repo,a._path):a}class ha{constructor(a){this.node_=a}getImmediateChild(a){return new ha(this.node_.getImmediateChild(a))}node(){return this.node_}}class hb{constructor(a,b){this.syncTree_=a,this.path_=b}getImmediateChild(a){let b=fd(this.path_,a);return new hb(this.syncTree_,b)}node(){return g1(this.syncTree_,this.path_)}}let hc=function(a,b,c){return a&&"object"==typeof a?(bw(".sv"in a,"Unexpected leaf node or priority contents"),"string"==typeof a[".sv"])?hd(a[".sv"],b,c):"object"==typeof a[".sv"]?he(a[".sv"],b):void bw(!1,"Unexpected server value: "+JSON.stringify(a,null,2)):a},hd=function(a,b,c){if("timestamp"===a)return c.timestamp;bw(!1,"Unexpected server value: "+a)},he=function(a,b,c){a.hasOwnProperty("increment")||bw(!1,"Unexpected server value: "+JSON.stringify(a,null,2));let d=a.increment;"number"!=typeof d&&bw(!1,"Unexpected increment value: "+d);let e=b.node();if(bw(null!=e,"Expected ChildrenNode.EMPTY_NODE for nulls"),!e.isLeafNode())return d;let f=e.getValue();return"number"!=typeof f?d:f+d},hf=function(a,b,c,d){return hh(b,new hb(c,a),d)},hg=function(a,b,c){return hh(a,new ha(b),c)};function hh(a,b,c){let d,e=hc(a.getPriority().val(),b.getImmediateChild(".priority"),c);if(!a.isLeafNode())return d=a,e!==a.getPriority().val()&&(d=d.updatePriority(new fz(e))),a.forEachChild(fA,(a,e)=>{let f=hh(e,b.getImmediateChild(a),c);f!==e&&(d=d.updateImmediateChild(a,f))}),d;{let d=hc(a.getValue(),b,c);return d!==a.getValue()||e!==a.getPriority().val()?new fz(d,fI(e)):a}}class hi{constructor(a="",b=null,c={children:{},childCount:0}){this.name=a,this.parent=b,this.node=c}}function hj(a,b){let c=b instanceof e5?b:new e5(b),d=a,e=e7(c);for(;null!==e;){let a=bX(d.node.children,e)||{children:{},childCount:0};d=new hi(e,d,a),e=e7(c=e9(c))}return d}function hk(a){return a.node.value}function hl(a,b){a.node.value=b,function a(b){null!==b.parent&&function(b,c,d){let e=void 0===hk(d)&&!hm(d),f=bW(b.node.children,c);e&&f?(delete b.node.children[c],b.node.childCount--,a(b)):e||f||(b.node.children[c]=d.node,b.node.childCount++,a(b))}(b.parent,b.name,b)}(a)}function hm(a){return a.node.childCount>0}function hn(a,b){eE(a.node.children,(c,d)=>{b(new hi(c,a,d))})}function ho(a){return new e5(null===a.parent?a.name:ho(a.parent)+"/"+a.name)}let hp=/[\[\].#$\/\u0000-\u001F\u007F]/,hq=/[\[\].#$\u0000-\u001F\u007F]/,hr=function(a){return"string"==typeof a&&0!==a.length&&!hp.test(a)},hs=function(a){return"string"==typeof a&&0!==a.length&&!hq.test(a)},ht=function(a,b,c,d){d&&void 0===b||hu(b1(a,"value"),b,c)},hu=function(a,b,c){let d=c instanceof e5?new fj(c,a):c;if(void 0===b)throw Error(a+"contains undefined "+fl(d));if("function"==typeof b)throw Error(a+"contains a function "+fl(d)+" with contents = "+b.toString());if(ev(b))throw Error(a+"contains "+b.toString()+" "+fl(d));if("string"==typeof b&&b.length>3495253.3333333335&&b3(b)>0xa00000)throw Error(a+"contains a string greater than 10485760 utf8 bytes "+fl(d)+" ('"+b.substring(0,50)+"...')");if(b&&"object"==typeof b){let c=!1,e=!1;if(eE(b,(b,f)=>{let g;if(".value"===b)c=!0;else if(".priority"!==b&&".sv"!==b&&(e=!0,!hr(b)))throw Error(a+" contains an invalid key ("+b+") "+fl(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.parts_.length>0&&(d.byteLength_+=1),d.parts_.push(b),d.byteLength_+=b3(b),fk(d),hu(a,f,d),g=d.parts_.pop(),d.byteLength_-=b3(g),d.parts_.length>0&&(d.byteLength_-=1)}),c&&e)throw Error(a+' contains ".value" child '+fl(d)+" in addition to actual children.")}},hv=function(a,b){let c,d;for(c=0;c<b.length;c++){let e=fb(d=b[c]);for(let b=0;b<e.length;b++)if(".priority"===e[b]&&b===e.length-1);else if(!hr(e[b]))throw Error(a+"contains an invalid key ("+e[b]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}b.sort(fg);let e=null;for(c=0;c<b.length;c++){if(d=b[c],null!==e&&fi(e,d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}},hw=function(a,b,c,d){if(d&&void 0===b)return;let e=b1(a,"values");if(!(b&&"object"==typeof b)||Array.isArray(b))throw Error(e+" must be an object containing the children to replace.");let f=[];eE(b,(a,b)=>{let d=new e5(a);if(hu(e,b,fd(c,d)),".priority"===fa(d)&&!(null===b||"string"==typeof b||"number"==typeof b&&!ev(b)||b&&"object"==typeof b&&bW(b,".sv")))throw Error(e+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(d)}),hv(e,f)},hx=function(a,b,c,d){if((!d||void 0!==c)&&!hs(c))throw Error(b1(a,b)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},hy=function(a,b,c,d){c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),hx(a,b,c,d)},hz=function(a,b){if(".info"===e7(b))throw Error(a+" failed = Can't modify data under /.info/")},hA=function(a,b){var c;let d=b.path.toString();if("string"!=typeof b.repoInfo.host||0===b.repoInfo.host.length||!hr(b.repoInfo.namespace)&&"localhost"!==b.repoInfo.host.split(":")[0]||0!==d.length&&((c=d)&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),!hs(c)))throw Error(b1(a,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class hB{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hC(a,b){let c=null;for(let d=0;d<b.length;d++){let e=b[d],f=e.getPath();null===c||fh(f,c.path)||(a.eventLists_.push(c),c=null),null===c&&(c={events:[],path:f}),c.events.push(e)}c&&a.eventLists_.push(c)}function hD(a,b,c){hC(a,c),hF(a,a=>fh(a,b))}function hE(a,b,c){hC(a,c),hF(a,a=>fi(a,b)||fi(b,a))}function hF(a,b){a.recursionDepth_++;let c=!0;for(let d=0;d<a.eventLists_.length;d++){let e=a.eventLists_[d];e&&(b(e.path)?(function(a){for(let b=0;b<a.events.length;b++){let c=a.events[b];if(null!==c){a.events[b]=null;let d=c.getEventRunner();em&&ep("event: "+c.toString()),eI(d)}}}(a.eventLists_[d]),a.eventLists_[d]=null):c=!1)}c&&(a.eventLists_=[]),a.recursionDepth_--}class hG{constructor(a,b,c,d){this.repoInfo_=a,this.forceRestClient_=b,this.authTokenProvider_=c,this.appCheckProvider_=d,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hB,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fX(),this.transactionQueueTree_=new hi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hH(a){var b;let c;return(b=b={timestamp:(c=a.infoData_.getNode(new e5(".info/serverTimeOffset")).val()||0,new Date().getTime()+c)}).timestamp=b.timestamp||new Date().getTime(),b}function hI(a,b,c,d,e){a.dataUpdateCount++;let f=new e5(b);c=a.interceptServerDataCallback_?a.interceptServerDataCallback_(b,c):c;let g=[];if(e)if(d){let b=bZ(c,a=>fI(a));g=function(a,b,c,d){let e=g6(a,d);if(!e)return[];{let d=g7(e),f=d.path,g=d.queryId,h=ff(f,b),i=ge.fromObject(c);return g8(a,f,new f5(f1(g),h,i))}}(a.serverSyncTree_,f,b,e)}else{let b=fI(c);g=g_(a.serverSyncTree_,f,b,e)}else if(d){var h;let b,d=bZ(c,a=>fI(a));h=a.serverSyncTree_,b=ge.fromObject(d),g=g2(h,new f5(f0(),f,b))}else{let b=fI(c);g=gZ(a.serverSyncTree_,f,b)}let i=f;g.length>0&&(i=hQ(a,f)),hE(a.eventQueue_,i,g)}function hJ(a,b){var c;let d,e,f;hK(a,"connected",b),!1===b&&(hN(c=a,"onDisconnectEvents"),d=hH(c),e=fX(),fY(c.onDisconnect_,e6(),(a,b)=>{let f=hf(a,b,c.serverSyncTree_,d);!function a(b,c,d){if(fe(c))b.value=d,b.children.clear();else if(null!==b.value)b.value=b.value.updateChild(c,d);else{let e=e7(c);b.children.has(e)||b.children.set(e,fX()),a(b.children.get(e),c=e9(c),d)}}(e,a,f)}),f=[],fY(e,e6(),(a,b)=>{f=f.concat(gZ(c.serverSyncTree_,a,b));let d=hU(c,a);hQ(c,d)}),c.onDisconnect_=fX(),hE(c.eventQueue_,e6(),f))}function hK(a,b,c){let d=new e5("/.info/"+b),e=fI(c);a.infoData_.updateSnapshot(d,e);let f=gZ(a.infoSyncTree_,d,e);hE(a.eventQueue_,d,f)}function hL(a){return a.nextWriteId_++}function hM(a,b,c){let d;d=".info"===e7(b._path)?g$(a.infoSyncTree_,b,c):g$(a.serverSyncTree_,b,c),hD(a.eventQueue_,b._path,d)}function hN(a,...b){let c="";a.persistentConnection_&&(c=a.persistentConnection_.id+":"),ep(c,...b)}function hO(a,b,c,d){b&&eI(()=>{if("ok"===c)b(null);else{let a=(c||"error").toUpperCase(),e=a;d&&(e+=": "+d);let f=Error(e);f.code=a,b(f)}})}function hP(a,b,c){return g1(a.serverSyncTree_,b,c)||fG.EMPTY_NODE}function hQ(a,b){let c=hR(a,b),d=ho(c),e=hS(a,c);return function(a,b,c){if(0===b.length)return;let d=[],e=[],f=b.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let g=0;g<b.length;g++){let h=b[g],i=ff(c,h.path),j=!1,k;if(bw(null!==i,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)j=!0,k=h.abortReason,e=e.concat(gY(a.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)j=!0,k="maxretry",e=e.concat(gY(a.serverSyncTree_,h.currentWriteId,!0));else{let c=hP(a,h.path,f);h.currentInputSnapshot=c;let d=b[g].update(c.val());if(void 0!==d){hu("transaction failed: Data returned ",d,h.path);let b=fI(d);"object"==typeof d&&null!=d&&bW(d,".priority")||(b=b.updatePriority(c.getPriority()));let g=h.currentWriteId,i=hg(b,c,hH(a));h.currentOutputSnapshotRaw=b,h.currentOutputSnapshotResolved=i,h.currentWriteId=hL(a),f.splice(f.indexOf(g),1),e=(e=e.concat(gX(a.serverSyncTree_,h.path,i,h.currentWriteId,h.applyLocally))).concat(gY(a.serverSyncTree_,g,!0))}else j=!0,k="nodata",e=e.concat(gY(a.serverSyncTree_,h.currentWriteId,!0))}hE(a.eventQueue_,c,e),e=[],j&&(b[g].status=2,setTimeout(b[g].unwatcher,Math.floor(0)),b[g].onComplete&&("nodata"===k?d.push(()=>b[g].onComplete(null,!1,b[g].currentInputSnapshot)):d.push(()=>b[g].onComplete(Error(k),!1,null))))}hT(a,a.transactionQueueTree_);for(let a=0;a<d.length;a++)eI(d[a]);!function a(b,c=b.transactionQueueTree_){if(c||hT(b,c),hk(c)){let d=hS(b,c);bw(d.length>0,"Sending zero length transaction queue"),d.every(a=>0===a.status)&&function(b,c,d){let e=hP(b,c,d.map(a=>a.currentWriteId)),f=e,g=e.hash();for(let a=0;a<d.length;a++){let b=d[a];bw(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;let e=ff(c,b.path);f=f.updateChild(e,b.currentOutputSnapshotRaw)}let h=f.val(!0);b.server_.put(c.toString(),h,e=>{hN(b,"transaction put response",{path:c.toString(),status:e});let f=[];if("ok"===e){let e=[];for(let a=0;a<d.length;a++)d[a].status=2,f=f.concat(gY(b.serverSyncTree_,d[a].currentWriteId)),d[a].onComplete&&e.push(()=>d[a].onComplete(null,!0,d[a].currentOutputSnapshotResolved)),d[a].unwatcher();hT(b,hj(b.transactionQueueTree_,c)),a(b,b.transactionQueueTree_),hE(b.eventQueue_,c,f);for(let a=0;a<e.length;a++)eI(e[a])}else{if("datastale"===e)for(let a=0;a<d.length;a++)3===d[a].status?d[a].status=4:d[a].status=0;else{et("transaction at "+c.toString()+" failed: "+e);for(let a=0;a<d.length;a++)d[a].status=4,d[a].abortReason=e}hQ(b,c)}},g)}(b,ho(c),d)}else hm(c)&&hn(c,c=>{a(b,c)})}(a,a.transactionQueueTree_)}(a,e,d),d}function hR(a,b){let c,d=a.transactionQueueTree_;for(c=e7(b);null!==c&&void 0===hk(d);)d=hj(d,c),c=e7(b=e9(b));return d}function hS(a,b){let c=[];return function a(b,c,d){let e=hk(c);if(e)for(let a=0;a<e.length;a++)d.push(e[a]);hn(c,c=>{a(b,c,d)})}(a,b,c),c.sort((a,b)=>a.order-b.order),c}function hT(a,b){let c=hk(b);if(c){let a=0;for(let b=0;b<c.length;b++)2!==c[b].status&&(c[a]=c[b],a++);c.length=a,hl(b,c.length>0?c:void 0)}hn(b,b=>{hT(a,b)})}function hU(a,b){let c=ho(hR(a,b)),d=hj(a.transactionQueueTree_,b);return!function(a,b,c){let d=a.parent;for(;null!==d;){if(b(d))return!0;d=d.parent}}(d,b=>{hV(a,b)}),hV(a,d),!function a(b,c,d,e){d&&!e&&c(b),hn(b,b=>{a(b,c,!0,e)}),d&&e&&c(b)}(d,b=>{hV(a,b)}),c}function hV(a,b){let c=hk(b);if(c){let d=[],e=[],f=-1;for(let b=0;b<c.length;b++)3===c[b].status||(1===c[b].status?(bw(f===b-1,"All SENT items should be at beginning of queue."),f=b,c[b].status=3,c[b].abortReason="set"):(bw(0===c[b].status,"Unexpected transaction status in abort"),c[b].unwatcher(),e=e.concat(gY(a.serverSyncTree_,c[b].currentWriteId,!0)),c[b].onComplete&&d.push(c[b].onComplete.bind(null,Error("set"),!1,null))));-1===f?hl(b,void 0):c.length=f+1,hE(a.eventQueue_,ho(b),e);for(let a=0;a<d.length;a++)eI(d[a])}}let hW=function(a,b){let c=hX(a),d=c.namespace;"firebase.com"===c.domain&&es(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),d&&"undefined"!==d||"localhost"===c.domain||es("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||eu();let e="ws"===c.scheme||"wss"===c.scheme;return{repoInfo:new eK(c.host,c.secure,d,e,b,"",d!==c.subdomain),path:new e5(c.pathString)}},hX=function(a){let b="",c="",d="",e="",f="",g=!0,h="https",i=443;if("string"==typeof a){let j=a.indexOf("//");j>=0&&(h=a.substring(0,j-1),a=a.substring(j+2));let k=a.indexOf("/");-1===k&&(k=a.length);let l=a.indexOf("?");-1===l&&(l=a.length),b=a.substring(0,Math.min(k,l)),k<l&&(e=function(a){let b="",c=a.split("/");for(let a=0;a<c.length;a++)if(c[a].length>0){let d=c[a];try{d=decodeURIComponent(d.replace(/\+/g," "))}catch(a){}b+="/"+d}return b}(a.substring(k,l)));let m=function(a){let b={};for(let c of("?"===a.charAt(0)&&(a=a.substring(1)),a.split("&"))){if(0===c.length)continue;let d=c.split("=");2===d.length?b[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):et(`Invalid query segment '${c}' in query '${a}'`)}return b}(a.substring(Math.min(a.length,l)));(j=b.indexOf(":"))>=0?(g="https"===h||"wss"===h,i=parseInt(b.substring(j+1),10)):j=b.length;let n=b.slice(0,j);if("localhost"===n.toLowerCase())c="localhost";else if(n.split(".").length<=2)c=n;else{let a=b.indexOf(".");d=b.substring(0,a).toLowerCase(),c=b.substring(a+1),f=d}"ns"in m&&(f=m.ns)}return{host:b,port:i,domain:c,subdomain:d,secure:g,scheme:h,pathString:e,namespace:f}};class hY{constructor(a,b,c,d){this.eventType=a,this.eventRegistration=b,this.snapshot=c,this.prevName=d}getPath(){let a=this.snapshot.ref;return"value"===this.eventType?a._path:a.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+bS(this.snapshot.exportVal())}}class hZ{constructor(a,b,c){this.eventRegistration=a,this.error=b,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class h${constructor(a,b){this.snapshotCallback=a,this.cancelCallback=b}onValue(a,b){this.snapshotCallback.call(null,a,b)}onCancel(a){return bw(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,a)}get hasCancelCallback(){return!!this.cancelCallback}matches(a){return this.snapshotCallback===a.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===a.snapshotCallback.userCallback&&this.snapshotCallback.context===a.snapshotCallback.context}}class h_{constructor(a,b,c,d){this._repo=a,this._path=b,this._queryParams=c,this._orderByCalled=d}get key(){return fe(this._path)?null:fa(this._path)}get ref(){return new h0(this._repo,this._path)}get _queryIdentifier(){let a=eC(fU(this._queryParams));return"{}"===a?"default":a}get _queryObject(){return fU(this._queryParams)}isEqual(a){if(!((a=b5(a))instanceof h_))return!1;let b=this._repo===a._repo,c=fh(this._path,a._path),d=this._queryIdentifier===a._queryIdentifier;return b&&c&&d}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(a){let b="";for(let c=a.pieceNum_;c<a.pieces_.length;c++)""!==a.pieces_[c]&&(b+="/"+encodeURIComponent(String(a.pieces_[c])));return b||"/"}(this._path)}}class h0 extends h_{constructor(a,b){super(a,b,new fS,!1)}get parent(){let a=fc(this._path);return null===a?null:new h0(this._repo,a)}get root(){let a=this;for(;null!==a.parent;)a=a.parent;return a}}class h1{constructor(a,b,c){this._node=a,this.ref=b,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(a){let b=new e5(a),c=h3(this.ref,a);return new h1(this._node.getChild(b),c,fA)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(a){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(b,c)=>a(new h1(c,h3(this.ref,b),fA)))}hasChild(a){let b=new e5(a);return!this._node.getChild(b).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function h2(a,b){return(a=b5(a))._checkNotDeleted("ref"),void 0!==b?h3(a._root,b):a._root}function h3(a,b){return null===e7((a=b5(a))._path)?hy("child","path",b,!1):hx("child","path",b,!1),new h0(a._repo,fd(a._path,b))}function h4(a,b){var c,d,e;let f,g,h,i,j,k;hz("set",(a=b5(a))._path),ht("set",b,a._path,!1);let l=new bH;return c=a._repo,d=a._path,e=l.wrapCallback(()=>{}),hN(c,"set",{path:d.toString(),value:b,priority:null}),f=hH(c),h=hg(g=fI(b,null),g1(c.serverSyncTree_,d),f),i=hL(c),j=gX(c.serverSyncTree_,d,h,i,!0),hC(c.eventQueue_,j),c.server_.put(d.toString(),g.val(!0),(a,b)=>{let f="ok"===a;f||et("set at "+d+" failed: "+a);let g=gY(c.serverSyncTree_,i,!f);hE(c.eventQueue_,d,g),hO(c,e,a,b)}),k=hU(c,d),hQ(c,k),hE(c.eventQueue_,k,[]),l.promise}function h5(a,b){hw("update",b,a._path,!1);let c=new bH;return!function(a,b,c,d){hN(a,"update",{path:b.toString(),value:c});let e=!0,f=hH(a),g={};if(eE(c,(c,d)=>{e=!1,g[c]=hf(fd(b,c),fI(d),a.serverSyncTree_,f)}),e)ep("update() called with empty data.  Don't do anything."),hO(a,d,"ok",void 0);else{var h,i;let e,f=hL(a),j=(h=a.serverSyncTree_,i=h.pendingWriteTree_,bw(f>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:b,children:g,writeId:f,visible:!0}),i.visibleWrites=gh(i.visibleWrites,b,g),i.lastWriteId=f,e=ge.fromObject(g),g2(h,new f5(f_(),b,e)));hC(a.eventQueue_,j),a.server_.merge(b.toString(),c,(c,e)=>{let g="ok"===c;g||et("update at "+b+" failed: "+c);let h=gY(a.serverSyncTree_,f,!g),i=h.length>0?hQ(a,b):b;hE(a.eventQueue_,i,h),hO(a,d,c,e)}),eE(c,c=>{let d=hU(a,fd(b,c));hQ(a,d)}),hE(a.eventQueue_,b,[])}}(a._repo,a._path,b,c.wrapCallback(()=>{})),c.promise}function h6(a){var b,c,d,e,f;let g,h,i,j,k,l,m;a=b5(a);let n=new h7(new h$(()=>{}));return(b=a._repo,c=a,d=b.serverSyncTree_,h=(e=c)._path,i=null,d.syncPointTree_.foreachOnPath(h,(a,b)=>{let c=ff(a,h);i=i||gR(b,c)}),(j=d.syncPointTree_.get(h))?i=i||gR(j,e6()):(j=new gN,d.syncPointTree_=d.syncPointTree_.set(h,j)),l=(k=null!=i)?new f6(i,!0,!1):null,m=(f=d.pendingWriteTree_,gy(e._path,f)),null!=(g=gc(gP(j,e,m,k?l.getNode():fG.EMPTY_NODE,k).viewCache_))?Promise.resolve(g):b.server_.get(c).then(a=>{let d,e=fI(a).withIndex(c._queryParams.getIndex());if(g0(b.serverSyncTree_,c,n,!0),c._queryParams.loadsAllData())d=gZ(b.serverSyncTree_,c._path,e);else{let a=g4(b.serverSyncTree_,c);d=g_(b.serverSyncTree_,c._path,e,a)}return hE(b.eventQueue_,c._path,d),g$(b.serverSyncTree_,c,n,null,!0),e},a=>(hN(b,"get for query "+bS(c)+" failed: "+a),Promise.reject(Error(a))))).then(b=>new h1(b,new h0(a._repo,a._path),a._queryParams.getIndex()))}class h7{constructor(a){this.callbackContext=a}respondsTo(a){return"value"===a}createEvent(a,b){let c=b._queryParams.getIndex();return new hY("value",this,new h1(a.snapshotNode,new h0(b._repo,b._path),c))}getEventRunner(a){return"cancel"===a.getEventType()?()=>this.callbackContext.onCancel(a.error):()=>this.callbackContext.onValue(a.snapshot,null)}createCancelEvent(a,b){return this.callbackContext.hasCancelCallback?new hZ(this,a,b):null}matches(a){return a instanceof h7&&(!a.callbackContext||!this.callbackContext||a.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class h8{constructor(a,b){this.eventType=a,this.callbackContext=b}respondsTo(a){let b="children_added"===a?"child_added":a;return b="children_removed"===b?"child_removed":b,this.eventType===b}createCancelEvent(a,b){return this.callbackContext.hasCancelCallback?new hZ(this,a,b):null}createEvent(a,b){bw(null!=a.childName,"Child events should have a childName.");let c=h3(new h0(b._repo,b._path),a.childName),d=b._queryParams.getIndex();return new hY(a.type,this,new h1(a.snapshotNode,c,d),a.prevName)}getEventRunner(a){return"cancel"===a.getEventType()?()=>this.callbackContext.onCancel(a.error):()=>this.callbackContext.onValue(a.snapshot,a.prevName)}matches(a){return a instanceof h8&&this.eventType===a.eventType&&(!this.callbackContext||!a.callbackContext||this.callbackContext.matches(a.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function h9(a,b,c,d){return function(a,b,c,d,e){var f;let g,h;if("object"==typeof d&&(g=void 0,e=d),"function"==typeof d&&(g=d),e&&e.onlyOnce){let b=c,d=(c,d)=>{hM(a._repo,a,j),b(c,d)};d.userCallback=c.userCallback,d.context=c.context,c=d}let i=new h$(c,g||void 0),j="value"===b?new h7(i):new h8(b,i);return f=a._repo,h=".info"===e7(a._path)?g0(f.infoSyncTree_,a,j):g0(f.serverSyncTree_,a,j),hD(f.eventQueue_,a._path,h),()=>hM(a._repo,a,j)}(a,"value",b,c,d)}bw(!p,"__referenceConstructor has already been defined"),p=h0,bw(!q,"__referenceConstructor has already been defined"),q=h0;let ia={};class ib{constructor(a,b){this._repoInternal=a,this.app=b,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(!function(a,b,c){var d;let e;if(a.stats_=eP(a.repoInfo_),a.forceRestClient_||"".search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)a.server_=new fV(a.repoInfo_,(b,c,d,e)=>{hI(a,b,c,d,e)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>hJ(a,!0),0);else{if(null!=c){if("object"!=typeof c)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{bS(c)}catch(a){throw Error("Invalid authOverride provided: "+a)}}a.persistentConnection_=new fn(a.repoInfo_,b,(b,c,d,e)=>{hI(a,b,c,d,e)},b=>{hJ(a,b)},b=>{var c;c=a,eE(b,(a,b)=>{hK(c,a,b)})},a.authTokenProvider_,a.appCheckProvider_,c),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(b=>{a.server_.refreshAuthToken(b)}),a.appCheckProvider_.addTokenChangeListener(b=>{a.server_.refreshAppCheckToken(b.token)}),d=a.repoInfo_,eO[e=d.toString()]||(eO[e]=(()=>new f$(a.stats_,a.server_))()),a.statsReporter_=eO[e],a.infoData_=new fW,a.infoSyncTree_=new gW({startListening:(b,c,d,e)=>{let f=[],g=a.infoData_.getNode(b._path);return g.isEmpty()||(f=gZ(a.infoSyncTree_,b._path,g),setTimeout(()=>{e("ok")},0)),f},stopListening:()=>{}}),hK(a,"connected",!1),a.serverSyncTree_=new gW({startListening:(b,c,d,e)=>(a.server_.listen(b,d,c,(c,d)=>{let f=e(c,d);hE(a.eventQueue_,b._path,f)}),[]),stopListening:(b,c)=>{a.server_.unlisten(b,c)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new h0(this._repo,e6())),this._rootInternal}_delete(){if(null!==this._rootInternal){var a,b;let c;a=this._repo,(c=ia[b=this.app.name])&&c[a.key]===a||es(`Database ${b}(${a.repoInfo_}) has already been deleted.`),a.persistentConnection_&&a.persistentConnection_.interrupt("repo_interrupt"),delete c[a.key],this._repoInternal=null,this._rootInternal=null}return Promise.resolve()}_checkNotDeleted(a){null===this._rootInternal&&es("Cannot call "+a+" on a deleted database.")}}fn.prototype.simpleListen=function(a,b){this.sendRequest("q",{p:a},b)},fn.prototype.echo=function(a,b){this.sendRequest("echo",{d:a},b)},eR=ea.default.Client;eQ=cP,cE(new b6("database",(a,{instanceIdentifier:b})=>{var c,d,e,f;let g,h,i,j,k,l,m,n=a.getProvider("app").getImmediate(),o=a.getProvider("auth-internal"),p=a.getProvider("app-check-internal");return void 0===(i=b||n.options.databaseURL)&&(n.options.projectId||es("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ep("Using default host for project ",n.options.projectId),i=`${n.options.projectId}-default-rtdb.firebaseio.com`),k=(j=hW(i,void 0)).repoInfo,"undefined"!=typeof process&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?k=(j=hW(i=`http://${l}?ns=${k.namespace}`,void 0)).repoInfo:!j.repoInfo.secure,m=new eW(n.name,n.options,o),hA("Invalid Firebase Database URL",j),fe(j.path)||es("Database URL must point to the root of a Firebase Database (not including a child path)."),new ib((c=k,d=n,e=m,f=new eV(n,p),(g=ia[d.name])||(g={},ia[d.name]=g),(h=g[c.toURLString()])&&es("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new hG(c,!1,e,f),g[c.toURLString()]=h,h),n)},"PUBLIC").setMultipleInstances(!0)),cV(eT,eU,"node"),cV(eT,eU,"esm2020");let ic=function(a=cS(),b){let c=cF(a,"database").getImmediate({identifier:void 0});if(!c._instanceStarted){let a=(a=>{let b=bF()?.emulatorHosts?.[a];if(!b)return;let c=b.lastIndexOf(":");if(c<=0||c+1===b.length)throw Error(`Invalid host ${b} with no separate hostname and port!`);let d=parseInt(b.substring(c+1),10);return"["===b[0]?[b.substring(1,c-1),d]:[b.substring(0,c),d]})("database");a&&function(a,b,c,d={}){var e;let f,g,h;(a=b5(a))._checkNotDeleted("useEmulator");let i=`${b}:${c}`,j=a._repoInternal;if(a._instanceStarted){if(i===a._repoInternal.repoInfo_.host&&b$(d,j.repoInfo_.emulatorOptions))return;es("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}j.repoInfo_.nodeAdmin?(d.mockUserToken&&es('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new eX(eX.OWNER)):d.mockUserToken&&(f=new eX("string"==typeof d.mockUserToken?d.mockUserToken:function(a,b){if(a.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let c=b||"demo-project",d=a.iat||0,e=a.sub||a.user_id;if(!e)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let f={iss:`https://securetoken.google.com/${c}`,aud:c,iat:d,exp:d+3600,auth_time:d,sub:e,user_id:e,firebase:{sign_in_provider:"custom",identities:{}},...a};return[bD(JSON.stringify({alg:"none",type:"JWT"})),bD(JSON.stringify(f)),""].join(".")}(d.mockUserToken,a.app.options.projectId))),bI(b)&&bJ(b),e=f,g=i.lastIndexOf(":"),h=bI(i.substring(0,g)),j.repoInfo_=new eK(i,h,j.repoInfo_.namespace,j.repoInfo_.webSocketOnly,j.repoInfo_.nodeAdmin,j.repoInfo_.persistenceKey,j.repoInfo_.includeNamespaceInQueryParams,!0,d),e&&(j.authTokenProvider_=e)}(c,...a)}return c}(d9),id=async a=>{await h5(h2(ic,`rooms/${a}`),{status:"endGame",gameStarted:!1,gameEnded:!0})},ie=async a=>{let b=h2(ic,`rooms/${a}`),c=await h6(b);return c.exists()?{status:c.val().status,gameStarted:c.val().gameStarted||!1}:null},ig=(a,b)=>h9(h2(ic,`rooms/${a}`),a=>{let c=a.val();b({status:c?.status||"closed",gameStarted:c?.gameStarted||!1})}),ih=async()=>{let a=Math.random().toString(36).substring(2,8).toUpperCase(),b=crypto.randomUUID();return await h4(h2(ic,`rooms/${a}`),{adminKey:b,status:"open",gameStarted:!1,createdAt:Date.now(),players:{}}),{roomCode:a,adminKey:b}},ii=async a=>{await h5(h2(ic,`rooms/${a}`),{gameStarted:!0})},ij=async(a,b)=>{let c=crypto.randomUUID();return await h4(h2(ic,`rooms/${a}/players/${c}`),{name:b,score:0,joinedAt:Date.now()}),c},ik=async a=>{await h5(h2(ic,`rooms/${a}`),{status:"closed"})},il=async(a,b,c)=>{let d=h2(ic,`rooms/${a}/players/${b}`),e=await h6(d);if(!e.exists())return;let f=e.val().score||0;await h5(d,{score:Math.max(0,f+c)})},im=async(a,b,c=2)=>{let d=h2(ic,`rooms/${a}/players/${b}`),e=await h6(d);if(!e.exists())return;let f=e.val().score||0;await h5(d,{score:f*c})},io=async(a,b)=>{await h5(h2(ic,`rooms/${a}/players/${b}`),{score:0})},ip=async(a,b,c,d)=>{let e=h2(ic,`rooms/${a}/players`),f=await h6(e);if(!f.exists())return;let g=f.val();if(!g[b]||!g[c])return;let h=g[c].score||0;if(h<=0)return;let i=Math.floor(h*("STEAL_20"===d?.2:.5));g[b].score+=i,g[c].score-=i,await h5(e,{[b]:g[b],[c]:g[c]})},iq=async(a,b,c)=>{let d=h2(ic,`rooms/${a}/players`),e=await h6(d);if(!e.exists())return;let f=e.val();if(!f[b]||!f[c])return;let g=f[b].score||0;f[b].score=f[c].score||0,f[c].score=g,await h5(d,{[b]:f[b],[c]:f[c]})},ir=(a,b)=>h9(h2(ic,`rooms/${a}/players`),a=>{b(Object.entries(a.val()||{}).map(([a,b])=>({id:a,name:b.name,score:b.score})).sort((a,b)=>b.score-a.score))}),is={swap:{bg:"bg-purple-500 text-white",icon:""},x2:{bg:"bg-green-400 text-white",icon:"x2"},x3:{bg:"bg-blue-500 text-white",icon:"x3"},"+50":{bg:"bg-amber-200",icon:"+50"},"+100":{bg:"bg-yellow-400",icon:"+100"},"+150":{bg:"bg-orange-400",icon:"+150"},"-50":{bg:"bg-pink-200",icon:"-50"},"-100":{bg:"bg-pink-400",icon:"-100"},"-150":{bg:"bg-red-500 text-white",icon:"-150"},loseAll:{bg:"bg-gray-900 text-white",icon:""},steal20:{bg:"bg-yellow-800 text-white",icon:" 20%"},steal50:{bg:"bg-red-700 text-white",icon:" 50%"}};function it({type:a,flipped:b,onClick:c}){let d=is[a];return(0,P.jsx)("div",{onClick:c,className:"w-32 h-44 cursor-pointer",style:{perspective:"1000px"},children:(0,P.jsxs)("div",{style:{transformStyle:"preserve-3d",transition:"transform 0.6s",transform:b?"rotateY(180deg)":"rotateY(0deg)"},className:"relative w-full h-full",children:[(0,P.jsx)("div",{style:{backfaceVisibility:"hidden"},className:"absolute inset-0 bg-blue-600 rounded-xl flex items-center justify-center text-white text-4xl font-bold shadow-lg",children:"?"}),(0,P.jsxs)("div",{style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},className:`absolute inset-0 rounded-xl flex flex-col items-center justify-center font-bold text-xl shadow-lg ${d.bg}`,children:[(0,P.jsx)("span",{className:"text-3xl mb-2",children:d.icon}),(0,P.jsx)("span",{className:"text-sm opacity-80",children:a})]})]})})}let iu=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iv=[{type:"+50",weight:30,desc:"Cng thm 50 im."},{type:"+100",weight:20,desc:"Cng thm 100 im."},{type:"+150",weight:10,desc:"Cng thm 150 im."},{type:"-50",weight:15,desc:"Tr 50 im."},{type:"-100",weight:8,desc:"Tr 100 im."},{type:"-150",weight:4,desc:"Tr 150 im."},{type:"x2",weight:15,desc:"Nhn i im va nhn."},{type:"x3",weight:4,desc:"Nhn ba im va nhn."},{type:"steal20",weight:8,desc:"Cp 20% tng im ca mt ngi chi khc."},{type:"steal50",weight:2,desc:"Cp 50% tng im ca mt ngi chi khc."},{type:"swap",weight:5,desc:"Hon i ton b im vi mt ngi chi khc."},{type:"loseAll",weight:1,desc:"Mt ton b im hin ti."}],iw=iv.reduce((a,b)=>a+b.weight,0);function ix({open:a,onClose:b}){return a?(0,P.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,P.jsxs)("div",{className:"bg-white p-5 rounded-xl max-w-4xl w-full relative",children:[(0,P.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-900",onClick:b,children:(0,P.jsx)(iu,{})}),(0,P.jsx)("h2",{className:"text-2xl font-bold mb-6",children:" Lut & T l Card"}),(0,P.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:iv.map(a=>{var b;return(0,P.jsxs)("div",{className:"flex flex-col items-center gap-1 border rounded-lg p-2 text-sm",children:[(0,P.jsx)("div",{className:"scale-[0.85]",children:(0,P.jsx)(it,{type:a.type,flipped:!0,onClick:()=>{}})}),(0,P.jsx)("p",{className:"font-semibold",children:a.desc}),(0,P.jsxs)("p",{className:"text-sm text-gray-500",children:[" T l: ",(a.weight/iw*100).toFixed(1),"%"]}),(0,P.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-gray-200",children:(b=a.weight)>=20?"Thng":b>=8?"t gp":b>=3?"Him":"Cc him"})]},a.type)})})]})}):null}var iy=a.i(31485);async function iz({roomCode:a,playerId:b,card:c}){let d=0;switch(c){case"+50":d=50;break;case"+100":d=100;break;case"+150":d=150;break;case"-50":d=-50;break;case"-100":d=-100;break;case"-150":d=-150;break;case"x2":await im(a,b,2);return;case"x3":await im(a,b,3);return;case"loseAll":await io(a,b);return;default:return}await il(a,b,d)}let iA=[{question:"i hi IX ca ng xc nh m hnh kinh t tng qut l g?",options:["Kinh t k hoch ha tp trung","Kinh t th trng nh hng XHCN","Kinh t th trng hin i","Kinh t nhiu thnh phn"],answer:"Kinh t th trng nh hng XHCN"},{question:"i hi VIII xc nh chin lc no?",options:["Cng nghip ha  hin i ha","Pht trin nng nghip","M ca hi nhp","Kinh t tri thc"],answer:"Cng nghip ha  hin i ha"},{question:"i hi VII xc nh chin lc no?",options:["Cng nghip ha  hin i ha","Pht trin nng nghip","M ca hi nhp","Kinh t tri thc"],answer:"Pht trin nng nghip"},{question:"i hi i biu ton quc ln th IX ca ng (nm 2001)  xc nh m hnh kinh t tng qut ca Vit Nam trong thi k qu  l g?",options:["Kinh t k hoch ha tp trung, quan liu, bao cp.","Kinh t th trng nh hng x hi ch ngha.","Kinh t th trng hin i v hi nhp quc t.","Kinh t hng ha nhiu thnh phn, vn hnh theo c ch th trng, c s qun l ca Nh nc."],answer:"Kinh t th trng nh hng x hi ch ngha"},{question:"Hi ngh Trung ng 5 kha IX  a ra nhn thc mi quan trng no v thnh phn kinh t t nhn?",options:["Kinh t t nhn cn c hn ch v kim sot cht ch  m bo nh hng x hi ch ngha.","Kinh t t nhn c php hot ng nhng khng c coi l thnh phn kinh t chnh thc.","Kinh t t nhn l mt b phn cu thnh quan trng ca nn kinh t quc dn, l vn  chin lc lu di trong pht trin kinh t nhiu thnh phn.","Kinh t t nhn c coi l mt b phn cu thnh quan trng, l ng lc ca nn kinh t."],answer:"Kinh t t nhn l mt b phn cu thnh quan trng ca nn kinh t quc dn, l vn  chin lc lu di trong pht trin kinh t nhiu thnh phn"},{question:"i hi X (nm 2006) ca ng  a ra mt quyt nh mi quan trng no lin quan n ng vin?",options:["Cho php kt np ch doanh nghip t nhn vo ng nhng khng cho php h tip tc kinh doanh.","Cho php ng vin lm kinh t t bn t nhn.","Yu cu tt c ng vin phi tham gia vo cc hp tc x.","Cm ng vin tham gia bt k hot ng kinh t no ngoi nh nc."],answer:"Cho php ng vin lm kinh t t bn t nhn"},{question:"Ngh quyt s 09-NQ/TW ca Hi ngh Trung ng 4 kha X (nm 2007)  ra chin lc quan trng no?",options:["Chin lc bo v T quc trong tnh hnh mi.","Chin lc pht trin nng nghip, nng dn, nng thn.","Chin lc bin Vit Nam n nm 2020.","Chin lc cng nghip ha, hin i ha t nc."],answer:"Chin lc bin Vit Nam n nm 2020"},{question:"i hi XI (nm 2011)  xc nh ba t ph chin lc no  thc hin Chin lc pht trin kinh t - x hi 2011-2020?",options:["Xy dng ng trong sch, vng mnh; u tranh phng chng tham nhng; v ci cch hnh chnh.","Ci cch doanh nghip nh nc; khuyn khch kinh t t nhn; v thu ht u t nc ngoi.","y mnh cng nghip ha, hin i ha nng nghip; pht trin kinh t bin; v xy dng nng thn mi.","Hon thin th ch kinh t th trng nh hng x hi ch ngha; pht trin nhanh ngun nhn lc, nht l ngun nhn lc cht lng cao; xy dng h thng kt cu h tng ng b."],answer:"Hon thin th ch kinh t th trng nh hng x hi ch ngha; pht trin nhanh ngun nhn lc, nht l ngun nhn lc cht lng cao; xy dng h thng kt cu h tng ng b"},{question:"Hi ngh Trung ng 4 kha XI (thng 1/2012)  ban hnh Ngh quyt s 12-NQ/TW v vn  g c coi l 'cp bch'?",options:["Mt s vn  cp bch v ti c cu nn kinh t.","Mt s vn  cp bch v xy dng ng trong tnh hnh hin nay.","Mt s vn  cp bch v gii quyt n xu v n nh h thng ngn hng.","Mt s vn  cp bch v xy dng kt cu h tng ng b."],answer:"Mt s vn  cp bch v xy dng ng trong tnh hnh hin nay"},{question:"Ch  ca i hi XII (nm 2016) nhn mnh n yu cu no i vi cng cuc i mi?",options:["y mnh ton din, ng b cng cuc i mi.","Bt u giai on hai ca cng cuc i mi.","Tp trung i mi kinh t, tm gc i mi chnh tr.","Tip tc y mnh cng cuc i mi mt cch ton din."],answer:"y mnh ton din, ng b cng cuc i mi"},{question:"Ngh quyt s 10-NQ/TW ca Hi ngh Trung ng 5 kha XII  c bc t ph g trong nhn thc v vai tr ca kinh t t nhn?",options:["Cho php kinh t t nhn hot ng trong mt s lnh vc hn ch.","Xc nh kinh t t nhn l mt b phn cu thnh quan trng ca nn kinh t.","Xc nh kinh t t nhn l mt ng lc quan trng ca nn kinh t th trng nh hng x hi ch ngha.","Ch trng tng bc quc hu ha cc doanh nghip t nhn ln."],answer:"Xc nh kinh t t nhn l mt ng lc quan trng ca nn kinh t th trng nh hng x hi ch ngha"},{question:"Ngh quyt s 04-NQ/TW ca Hi ngh Trung ng 4 kha XII (nm 2016) tp trung vo vn  g trong cng tc xy dng ng?",options:["Ngn chn, y li s suy thoi v t tng chnh tr, o c, li sng, nhng biu hin t din bin, t chuyn ha trong ni b.","Nng cao cht lng i ng cn b, ng vin.","i mi phng thc lnh o ca ng i vi h thng chnh tr.","Tng cng cng tc dn vn trong tnh hnh mi."],answer:"Ngn chn, y li s suy thoi v t tng chnh tr, o c, li sng, nhng biu hin t din bin, t chuyn ha trong ni b"},{question:"i hi XIII ca ng (nm 2021)  t ra mc tiu c th n nm 2030 l g?",options:["Tr thnh nc pht trin, thu nhp cao.","L nc ang pht trin, c cng nghip hin i, thu nhp trung bnh cao.","C bn tr thnh nc cng nghip theo hng hin i.","L nc ang pht trin, c cng nghip theo hng hin i, vt qua mc thu nhp trung bnh thp."],answer:"L nc ang pht trin, c cng nghip hin i, thu nhp trung bnh cao"},{question:"Mt trong su nhim v trng tm c i hi XIII xc nh, lin quan n vic kim sot i dch v phc hi kinh t l g?",options:["Ch tp trung vo vic tim chng vc-xin cho cng ng, tm dng cc hot ng kinh t.","u tin pht trin kinh t, chp nhn ri ro t i dch.","Tp trung kim sot i dch COVID-19, tim chng i tr, phc hi v pht trin kinh t - x hi.","Ku gi s h tr hon ton t quc t  chng dch v phc hi kinh t."],answer:"Tp trung kim sot i dch COVID-19, tim chng i tr, phc hi v pht trin kinh t - x hi"},{question:"i hi IX (2001)  tng kt qu trnh 15 nm i mi v a ra bi hc kinh nghim no v mi quan h gia i mi kinh t v i mi chnh tr?",options:["Ch tp trung vo i mi kinh t, gi nguyn vn h thng chnh tr ca thi k trc i mi.","i mi h thng chnh tr trc, sau  mi tin hnh i mi kinh t  to nn tng vng chc.","Trong qu trnh i mi phi kt hp cht ch ngay t u i mi kinh t vi i mi chnh tr, ly i mi kinh t lm trng tm, ng thi tng bc i mi h thng chnh tr.","Phi tin hnh ng thi i mi kinh t v i mi h thng chnh tr, ly i mi chnh tr lm trng tm."],answer:"Trong qu trnh i mi phi kt hp cht ch ngay t u i mi kinh t vi i mi chnh tr, ly i mi kinh t lm trng tm, ng thi tng bc i mi h thng chnh tr"},{question:"Chin lc pht trin khoa hc v cng ngh giai on 2011-2020 c xc nh ti i hi XI nhn mnh mc tiu g?",options:["Lm cho khoa hc v cng ngh thc s tr thnh ng lc then cht ca s pht trin lc lng sn xut hin i, nng cao nng sut, cht lng, hiu qu v sc cnh tranh ca nn kinh t.","Ch yu nhp khu cng ngh t nc ngoi, khng ch trng nghin cu trong nc.","Phn u a khoa hc v cng ngh Vit Nam t trnh  hng u th gii  mi lnh vc.","Tp trung pht trin khoa hc x hi v nhn vn, hn ch khoa hc t nhin v cng ngh."],answer:"Lm cho khoa hc v cng ngh thc s tr thnh ng lc then cht ca s pht trin lc lng sn xut hin i, nng cao nng sut, cht lng, hiu qu v sc cnh tranh ca nn kinh t"},{question:"Ni dung no sau y phn nh ng mt trong nm bi hc kinh nghim ln c i hi X (2006) rt ra sau 20 nm i mi?",options:["Ch kt hp vi sc mnh ca cc nc x hi ch ngha, hn ch quan h vi cc nc t bn.","u tin tranh th ngoi lc, coi nh ni lc trong nc.","Ch da vo sc mnh ca dn tc, khng cn n s hp tc quc t.","Pht huy ti a ni lc, ng thi tranh th ngoi lc, kt hp sc mnh dn tc vi sc mnh thi i."],answer:"Pht huy ti a ni lc, ng thi tranh th ngoi lc, kt hp sc mnh dn tc vi sc mnh thi i"},{question:"Hi ngh Trung ng 6 kha XII  ban hnh Ngh quyt no nhm tip tc hon thin th ch kinh t th trng nh hng x hi ch ngha?",options:["Ngh quyt v thc hin hiu qu tin trnh hi nhp kinh t quc t.","Ngh quyt v tng cng cng tc bo v, chm sc v nng cao sc khe nhn dn trong tnh hnh mi.","Ngh quyt v mt s ch trng, chnh sch ln nhm tip tc i mi m hnh tng trng, nng cao cht lng tng trng, nng sut lao ng, sc cnh tranh ca nn kinh t.","Ngh quyt v tip tc i mi, sp xp t chc b my ca h thng chnh tr."],answer:"Ngh quyt v mt s ch trng, chnh sch ln nhm tip tc i mi m hnh tng trng, nng cao cht lng tng trng, nng sut lao ng, sc cnh tranh ca nn kinh t"},{question:"Theo Cng lnh (b sung, pht trin nm 2011), quan h gia cc giai cp, tng lp x hi  Vit Nam c xc nh l g?",options:["Quan h trong  giai cp cng nhn lnh o tuyt i v cc giai cp khc phi phc tng.","Quan h hp tc v u tranh trong ni b nhn dn, on kt v hp tc lu di trong s nghip xy dng v bo v T quc.","Quan h u tranh giai cp quyt lit  loi tr ln nhau.","Khng cn tn ti quan h giai cp, ch cn s ng thun tuyt i."],answer:"Quan h hp tc v u tranh trong ni b nhn dn, on kt v hp tc lu di trong s nghip xy dng v bo v T quc"},{question:"i hi XII (nm 2016)  xc nh mt trong su nhim v trng tm l kin quyt, kin tr u tranh bo v vng chc c lp, ch quyn, thng nht v ton vn lnh th. Nhim v ny nhn mnh iu g i km?",options:["Gi vng mi trng ha bnh, n nh  pht trin t nc.","Ch da vo sc mnh qun s, coi nh cc bin php chnh tr, ngoi giao.","Sn sng pht ng chin tranh  gii quyt mi tranh chp.","Chp nhn nhng b v ch quyn  i ly li ch kinh t."],answer:"Gi vng mi trng ha bnh, n nh  pht trin t nc"},{question:"Ch trng no sau y l mt trong tm phng hng c bn c nu trong Cng lnh (b sung, pht trin nm 2011)?",options:["Quay tr li m hnh kinh t k hoch ha tp trung.","Thc hin nn kinh t t bn ch ngha hon ton.","Ch pht trin kinh t nh nc v kinh t tp th, loi b cc thnh phn kinh t khc.","Xy dng nn kinh t th trng nh hng x hi ch ngha."],answer:"Xy dng nn kinh t th trng nh hng x hi ch ngha"},{question:"Mc tiu tng qut m i hi VIII (1996)  ra cho thi k cng nghip ha, hin i ha l g?",options:["a Vit Nam tr thnh mt trong nhng nn kinh t pht trin nht chu .","Hon thnh vic xy dng ch ngha x hi trong vng 20 nm.","Tp trung vo vic pht trin cc ngnh cng nghip nng mt cch nhanh chng.","Xy dng nc ta thnh mt nc cng nghip c c s vt cht - k thut hin i, c cu kinh t hp l, quan h sn xut tin b, ph hp."],answer:"Xy dng nc ta thnh mt nc cng nghip c c s vt cht - k thut hin i, c cu kinh t hp l, quan h sn xut tin b, ph hp"},{question:"Trong giai on 1996 - 2005, mc d gp nhiu kh khn, c bit l cuc khng hong ti chnh - tin t khu vc (1997), Vit Nam vn t c thnh tu ni bt no?",options:["Vit Nam phi ng ca, ngng hi nhp kinh t quc t.","Kinh t tng trng m v lm pht phi m.","H thng ngn hng sp  hon ton v n nc ngoi tng vt.","Tc  tng trng kinh t vn t mc kh cao, i sng nhn dn tip tc c ci thin."],answer:"Tc  tng trng kinh t vn t mc kh cao, i sng nhn dn tip tc c ci thin"},{question:"Hi ngh Trung ng 7 kha IX (thng 3/2003)  ban hnh cc ngh quyt quan trng no nhm pht huy sc mnh khi i on kt ton dn tc?",options:["Ngh quyt v i mi gio dc v khoa hc cng ngh.","Ngh quyt v cng tc dn tc v cng tc tn gio.","Ngh quyt v pht trin kinh t t nhn v kinh t tp th.","Ngh quyt v chin lc bin v quc phng, an ninh."],answer:"Ngh quyt v cng tc dn tc v cng tc tn gio"},{question:"Ngh quyt 36-NQ/TW ca B Chnh tr kha IX (ngy 26/3/2004)  xc nh cng tc i vi ngi Vit Nam  nc ngoi l g?",options:["L nhim v ca ring B Ngoi giao, khng lin quan n cc ban ngnh khc.","L mt vn  tm thi, ch cn quan tm khi h cn quc tch Vit Nam.","L mt b phn khng th tch ri v l mt ngun lc ca cng ng dn tc Vit Nam.","L mt cng tc ch nhm mc ch vn ng ti chnh t kiu bo."],answer:"L mt b phn khng th tch ri v l mt ngun lc ca cng ng dn tc Vit Nam"},{question:"S kin i ngoi quan trng no  din ra vo cui nm 2006, nh du mt bc ngot trong qu trnh hi nhp kinh t quc t ca Vit Nam?",options:["Vit Nam tr thnh thnh vin chnh thc ca T chc Thng mi Th gii (WTO).","Vit Nam k Hip nh Thng mi song phng vi Hoa K (BTA).","Vit Nam gia nhp Hip hi cc quc gia ng Nam  (ASEAN).","Vit Nam ng cai t chc Hi ngh cp cao APEC ln u tin."],answer:"Vit Nam tr thnh thnh vin chnh thc ca T chc Thng mi Th gii (WTO)"},{question:"i hi XIII ca ng  xc nh mi quan h gia 'pht trin nhanh' v 'pht trin bn vng' nh th no?",options:["Ch tp trung vo pht trin bn vng, chp nhn tc  tng trng chm.","Pht trin nhanh l mc tiu duy nht, khng cn quan tm n bn vng.","Pht trin nhanh v bn vng, trong  pht trin bn vng l nn tng.","y l hai mc tiu mu thun, khng th ng thi thc hin."],answer:"Pht trin nhanh v bn vng, trong  pht trin bn vng l nn tng"},{question:"Hi ngh Trung ng 7 kha XII  ban hnh Ngh quyt v ci cch chnh sch no c nh hng su rng n i ng cn b, cng chc, vin chc v ngi lao ng?",options:["Ci cch th tc hnh chnh v xy dng chnh ph in t.","Ci cch chnh sch bo him x hi v ci cch chnh sch tin lng.","Ci cch chnh sch t ai v nh .","Ci cch gio dc i hc v dy ngh."],answer:"Ci cch chnh sch bo him x hi v ci cch chnh sch tin lng"}];function iB(a){let b=[...a];for(let a=b.length-1;a>0;a--){let c=Math.floor(Math.random()*(a+1));[b[a],b[c]]=[b[c],b[a]]}return b}function iC({roomCode:a,playerId:b}){let[c,d]=(0,Q.useState)("question"),[e,f]=(0,Q.useState)(0),[g,h]=(0,Q.useState)(iB(iA)),[i,j]=(0,Q.useState)(0),[k,l]=(0,Q.useState)(null),[m,n]=(0,Q.useState)(15),[o,p]=(0,Q.useState)([]),[q,r]=(0,Q.useState)([]),[s,t]=(0,Q.useState)([]),[u,v]=(0,Q.useState)(2),[w,x]=(0,Q.useState)(!1),[y,z]=(0,Q.useState)(null),[A,B]=(0,Q.useState)([]);(0,Q.useEffect)(()=>{p(iB(iA))},[]),(0,Q.useEffect)(()=>{if("question"!==c||k)return;if(m<=0){l(""),setTimeout(D,800);return}let a=setTimeout(()=>n(a=>a-1),1e3);return()=>clearTimeout(a)},[m,c,k]),(0,Q.useEffect)(()=>{var c;if(!a||!b)return;let d=(c=a=>{f(a)},h9(h2(ic,`rooms/${a}/players/${b}/score`),a=>{c(a.val()||0)}));return()=>d()},[a,b]),(0,Q.useEffect)(()=>{if(!a)return;let b=ir(a,a=>{B(a.map((a,b)=>({id:a.id,name:a.name,score:a.score})))});return()=>b()},[a]);let C=async c=>{y&&("steal20"===y?await ip(a,b,c,"STEAL_20"):"steal50"===y?await ip(a,b,c,"STEAL_50"):"swap"===y&&await iq(a,b,c),z(null),v(a=>{let b=a-1;return b>0?d("popup"):setTimeout(()=>{D()},800),b}))},D=()=>{l(null),n(15),v(2),d("question"),i+1<o.length?j(a=>a+1):(console.log("Ht set cu hi, to set mi..."),p(iB(iA)),j(0))},E=g[i];if(!E)return(0,P.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,P.jsx)("p",{className:"text-gray-500",children:"ang ti cu hi..."})});let F=A.filter(a=>a.id!==b);return(0,P.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 min-h-screen bg-gradient-to-br from-indigo-100 to-purple-100 p-6",children:[(0,P.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 mx-auto max-w-2xl space-y-6 text-center",children:[(0,P.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 bg-white rounded-xl shadow-lg p-4",children:(0,P.jsxs)("p",{className:"jsx-2af4dab3cd9b1dd2 text-2xl font-bold text-indigo-600",children:["im: ",e]})}),"question"===c&&E&&(0,P.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 p-6 border rounded-xl bg-white shadow-lg",children:[(0,P.jsx)("h2",{className:"jsx-2af4dab3cd9b1dd2 text-xl font-semibold mb-2",children:E.question}),(0,P.jsxs)("p",{className:"jsx-2af4dab3cd9b1dd2 text-sm text-gray-500 mb-4",children:["Thi gian cn li: ",m,"s"]}),(0,P.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 grid grid-cols-2 gap-4",children:E.options.map(c=>{let e=c===E.answer,f="bg-gray-100 hover:bg-gray-200";return k&&(c===k?f=e?"bg-green-500 text-white":"bg-red-500 text-white":e&&(f="bg-green-500 text-white")),(0,P.jsx)("button",{onClick:()=>{var e;return e=c,void(k||((l(e),e!==E.answer)?setTimeout(D,1200):(il(a,b,100+5*m),v(2),setTimeout(()=>{d("popup")},800))))},disabled:!!k,className:`jsx-2af4dab3cd9b1dd2 p-3 rounded font-medium transition-all ${f}`,children:c},c)})})]}),"popup"===c&&(0,P.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,P.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-4 animate-scale-in",children:[(0,P.jsx)("h2",{className:"jsx-2af4dab3cd9b1dd2 text-2xl font-bold text-indigo-600 mb-4",children:" Tr li ng!"}),(0,P.jsx)("p",{className:"jsx-2af4dab3cd9b1dd2 text-gray-700 mb-6",children:2===u?"Bn c mun bc bi  nhn thng thm?":`Bn c\xf2n ${u} lt b\xf3c. Tip tc?`}),(0,P.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 flex gap-4",children:[(0,P.jsx)("button",{onClick:()=>{r(function(a){let b=new Set;for(;b.size<3;)b.add(function(){let a=Math.random()*iv.reduce((a,b)=>a+b.weight,0);for(let b of iv){if(a<b.weight)return b.type;a-=b.weight}return"+50"}());return[...b]}(0)),t([,,,].fill(!1)),d("card")},className:"jsx-2af4dab3cd9b1dd2 flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-all",children:" Bc bi"}),(0,P.jsx)("button",{onClick:D,className:"jsx-2af4dab3cd9b1dd2 flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-6 rounded-lg transition-all",children:" Cu k tip"})]})]})}),"card"===c&&(0,P.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 space-y-4 bg-white rounded-xl shadow-lg p-6",children:[(0,P.jsx)("h2",{className:"jsx-2af4dab3cd9b1dd2 text-xl font-bold text-indigo-600",children:" Chn bi  bc"}),(0,P.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 flex justify-center gap-6",children:q.map((c,e)=>(0,P.jsx)(it,{type:c,flipped:s[e],onClick:()=>(c=>{if(w||s[c]||u<=0)return;x(!0),t(a=>a.map((a,b)=>b===c||a));let e=q[c];setTimeout(()=>{"steal20"===e||"steal50"===e||"swap"===e?(z(e),d("selectPlayer"),x(!1)):(iz({roomCode:a,playerId:b,card:e}),v(a=>{let b=a-1;return b>0?setTimeout(()=>{d("popup"),x(!1)},800):setTimeout(()=>{D(),x(!1)},1200),b}))},500)})(e)},e))}),(0,P.jsxs)("p",{className:"jsx-2af4dab3cd9b1dd2 text-sm text-gray-500",children:["Lt lt cn li: ",u]})]}),"selectPlayer"===c&&(0,P.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,P.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 bg-white rounded-2xl shadow-2xl p-8 max-w-lg mx-4 animate-scale-in max-h-[80vh] overflow-y-auto",children:[(0,P.jsxs)("h2",{className:"jsx-2af4dab3cd9b1dd2 text-2xl font-bold text-indigo-600 mb-2",children:["steal20"===y&&" Cp 20% im","steal50"===y&&" Cp 50% im","swap"===y&&" Hon i im"]}),(0,P.jsx)("p",{className:"jsx-2af4dab3cd9b1dd2 text-gray-600 mb-6",children:"Chn ngi chi  thc hin:"}),0===F.length?(0,P.jsxs)("div",{className:"jsx-2af4dab3cd9b1dd2 text-center py-8",children:[(0,P.jsx)("p",{className:"jsx-2af4dab3cd9b1dd2 text-gray-500 mb-4",children:"Khng c ngi chi khc trong phng"}),(0,P.jsx)("button",{onClick:()=>{z(null),v(a=>{let b=a-1;return b>0?d("popup"):D(),b})},className:"jsx-2af4dab3cd9b1dd2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg transition-all",children:"Tip tc"})]}):(0,P.jsx)("div",{className:"jsx-2af4dab3cd9b1dd2 space-y-3",children:F.map(a=>(0,P.jsxs)("button",{onClick:()=>C(a.id),className:"jsx-2af4dab3cd9b1dd2 w-full bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold py-4 px-6 rounded-lg transition-all flex items-center justify-between",children:[(0,P.jsx)("span",{className:"jsx-2af4dab3cd9b1dd2 text-lg",children:a.name}),(0,P.jsxs)("span",{className:"jsx-2af4dab3cd9b1dd2 text-xl",children:[" ",a.score]})]},a.id))})]})})]}),(0,P.jsx)(iy.default,{id:"2af4dab3cd9b1dd2",children:"@keyframes scale-in{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.animate-scale-in.jsx-2af4dab3cd9b1dd2{animation:.3s ease-out scale-in}.rotate-y-180.jsx-2af4dab3cd9b1dd2{transform:rotateY(180deg)}"})]})}let iD=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],iE=new Set(iD),iF=a=>180*a/Math.PI,iG=a=>iI(iF(Math.atan2(a[1],a[0]))),iH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:iG,rotateZ:iG,skewX:a=>iF(Math.atan(a[1])),skewY:a=>iF(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},iI=a=>((a%=360)<0&&(a+=360),a),iJ=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),iK=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),iL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iJ,scaleY:iK,scale:a=>(iJ(a)+iK(a))/2,rotateX:a=>iI(iF(Math.atan2(a[6],a[5]))),rotateY:a=>iI(iF(Math.atan2(-a[2],a[0]))),rotateZ:iG,rotate:iG,skewX:a=>iF(Math.atan(a[4])),skewY:a=>iF(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function iM(a){return+!!a.includes("scale")}function iN(a,b){let c,d;if(!a||"none"===a)return iM(b);let e=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(e)c=iL,d=e;else{let b=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);c=iH,d=b}if(!d)return iM(b);let f=c[b],g=d[1].split(",").map(iO);return"function"==typeof f?f(g):g[f]}function iO(a){return parseFloat(a.trim())}let iP=a=>b=>"string"==typeof b&&b.startsWith(a),iQ=iP("--"),iR=iP("var(--"),iS=a=>!!iR(a)&&iT.test(a.split("/*")[0].trim()),iT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function iU({top:a,left:b,right:c,bottom:d}){return{x:{min:b,max:c},y:{min:a,max:d}}}let iV=(a,b,c)=>a+(b-a)*c;function iW(a){return void 0===a||1===a}function iX({scale:a,scaleX:b,scaleY:c}){return!iW(a)||!iW(b)||!iW(c)}function iY(a){return iX(a)||iZ(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function iZ(a){var b,c;return(b=a.x)&&"0%"!==b||(c=a.y)&&"0%"!==c}function i$(a,b,c,d,e){return void 0!==e&&(a=d+e*(a-d)),d+c*(a-d)+b}function i_(a,b=0,c=1,d,e){a.min=i$(a.min,b,c,d,e),a.max=i$(a.max,b,c,d,e)}function i0(a,{x:b,y:c}){i_(a.x,b.translate,b.scale,b.originPoint),i_(a.y,c.translate,c.scale,c.originPoint)}function i1(a,b){a.min=a.min+b,a.max=a.max+b}function i2(a,b,c,d,e=.5){let f=iV(a.min,a.max,e);i_(a,b,c,f,d)}function i3(a,b){i2(a.x,b.x,b.scaleX,b.scale,b.originX),i2(a.y,b.y,b.scaleY,b.scale,b.originY)}function i4(a,b){return iU(function(a,b){if(!b)return a;let c=b({x:a.left,y:a.top}),d=b({x:a.right,y:a.bottom});return{top:c.y,left:c.x,bottom:d.y,right:d.x}}(a.getBoundingClientRect(),b))}let i5=new Set(["width","height","top","left","right","bottom",...iD]),i6=(a,b,c)=>c>b?b:c<a?a:c,i7={test:a=>"number"==typeof a,parse:parseFloat,transform:a=>a},i8={...i7,transform:a=>i6(0,1,a)},i9={...i7,default:1},ja=a=>({test:b=>"string"==typeof b&&b.endsWith(a)&&1===b.split(" ").length,parse:parseFloat,transform:b=>`${b}${a}`}),jb=ja("deg"),jc=ja("%"),jd=ja("px"),je=ja("vh"),jf=ja("vw"),jg={...jc,parse:a=>jc.parse(a)/100,transform:a=>jc.transform(100*a)},jh=a=>b=>b.test(a),ji=[i7,jd,jc,jb,jf,je,{test:a=>"auto"===a,parse:a=>a}],jj=a=>ji.find(jh(a)),jk=()=>{},jl=()=>{},jm=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,jn=a=>a===i7||a===jd,jo=new Set(["x","y","z"]),jp=iD.filter(a=>!jo.has(a)),jq={width:({x:a},{paddingLeft:b="0",paddingRight:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),height:({y:a},{paddingTop:b="0",paddingBottom:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),top:(a,{top:b})=>parseFloat(b),left:(a,{left:b})=>parseFloat(b),bottom:({y:a},{top:b})=>parseFloat(b)+(a.max-a.min),right:({x:a},{left:b})=>parseFloat(b)+(a.max-a.min),x:(a,{transform:b})=>iN(b,"x"),y:(a,{transform:b})=>iN(b,"y")};jq.translateX=jq.x,jq.translateY=jq.y;let jr=a=>a,js={},jt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ju(a,b){let c=!1,d=!0,e={delta:0,timestamp:0,isProcessing:!1},f=()=>c=!0,g=jt.reduce((a,c)=>(a[c]=function(a,b){let c=new Set,d=new Set,e=!1,f=!1,g=new WeakSet,h={delta:0,timestamp:0,isProcessing:!1},i=0;function j(b){g.has(b)&&(k.schedule(b),a()),i++,b(h)}let k={schedule:(a,b=!1,f=!1)=>{let h=f&&e?c:d;return b&&g.add(a),h.has(a)||h.add(a),a},cancel:a=>{d.delete(a),g.delete(a)},process:a=>{if(h=a,e){f=!0;return}e=!0,[c,d]=[d,c],c.forEach(j),b,i=0,c.clear(),e=!1,f&&(f=!1,k.process(a))}};return k}(f,b?c:void 0),a),{}),{setup:h,read:i,resolveKeyframes:j,preUpdate:k,update:l,preRender:m,render:n,postRender:o}=g,p=()=>{let f=js.useManualTiming?e.timestamp:performance.now();c=!1,js.useManualTiming||(e.delta=d?1e3/60:Math.max(Math.min(f-e.timestamp,40),1)),e.timestamp=f,e.isProcessing=!0,h.process(e),i.process(e),j.process(e),k.process(e),l.process(e),m.process(e),n.process(e),o.process(e),e.isProcessing=!1,c&&b&&(d=!1,a(p))};return{schedule:jt.reduce((b,f)=>{let h=g[f];return b[f]=(b,f=!1,g=!1)=>(!c&&(c=!0,d=!0,e.isProcessing||a(p)),h.schedule(b,f,g)),b},{}),cancel:a=>{for(let b=0;b<jt.length;b++)g[jt[b]].cancel(a)},state:e,steps:g}}let{schedule:jv,cancel:jw,state:jx,steps:jy}=ju("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:jr,!0),jz=new Set,jA=!1,jB=!1,jC=!1;function jD(){if(jB){let a=Array.from(jz).filter(a=>a.needsMeasurement),b=new Set(a.map(a=>a.element)),c=new Map;b.forEach(a=>{let b,d=(b=[],jp.forEach(c=>{let d=a.getValue(c);void 0!==d&&(b.push([c,d.get()]),d.set(+!!c.startsWith("scale")))}),b);d.length&&(c.set(a,d),a.render())}),a.forEach(a=>a.measureInitialState()),b.forEach(a=>{a.render();let b=c.get(a);b&&b.forEach(([b,c])=>{a.getValue(b)?.set(c)})}),a.forEach(a=>a.measureEndState()),a.forEach(a=>{void 0!==a.suspendedScrollY&&window.scrollTo(0,a.suspendedScrollY)})}jB=!1,jA=!1,jz.forEach(a=>a.complete(jC)),jz.clear()}function jE(){jz.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(jB=!0)})}class jF{constructor(a,b,c,d,e,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...a],this.onComplete=b,this.name=c,this.motionValue=d,this.element=e,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(jz.add(this),jA||(jA=!0,jv.read(jE),jv.resolveKeyframes(jD))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:a,name:b,element:c,motionValue:d}=this;if(null===a[0]){let e=d?.get(),f=a[a.length-1];if(void 0!==e)a[0]=e;else if(c&&b){let d=c.readValue(b,f);null!=d&&(a[0]=d)}void 0===a[0]&&(a[0]=f),d&&void 0===e&&d.set(a[0])}for(let b=1;b<a.length;b++)a[b]??(a[b]=a[b-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(a=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,a),jz.delete(this)}cancel(){"scheduled"===this.state&&(jz.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let jG=a=>Math.round(1e5*a)/1e5,jH=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,jI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jJ=(a,b)=>c=>!!("string"==typeof c&&jI.test(c)&&c.startsWith(a)||b&&null!=c&&Object.prototype.hasOwnProperty.call(c,b)),jK=(a,b,c)=>d=>{if("string"!=typeof d)return d;let[e,f,g,h]=d.match(jH);return{[a]:parseFloat(e),[b]:parseFloat(f),[c]:parseFloat(g),alpha:void 0!==h?parseFloat(h):1}},jL={...i7,transform:a=>Math.round(i6(0,255,a))},jM={test:jJ("rgb","red"),parse:jK("red","green","blue"),transform:({red:a,green:b,blue:c,alpha:d=1})=>"rgba("+jL.transform(a)+", "+jL.transform(b)+", "+jL.transform(c)+", "+jG(i8.transform(d))+")"},jN={test:jJ("#"),parse:function(a){let b="",c="",d="",e="";return a.length>5?(b=a.substring(1,3),c=a.substring(3,5),d=a.substring(5,7),e=a.substring(7,9)):(b=a.substring(1,2),c=a.substring(2,3),d=a.substring(3,4),e=a.substring(4,5),b+=b,c+=c,d+=d,e+=e),{red:parseInt(b,16),green:parseInt(c,16),blue:parseInt(d,16),alpha:e?parseInt(e,16)/255:1}},transform:jM.transform},jO={test:jJ("hsl","hue"),parse:jK("hue","saturation","lightness"),transform:({hue:a,saturation:b,lightness:c,alpha:d=1})=>"hsla("+Math.round(a)+", "+jc.transform(jG(b))+", "+jc.transform(jG(c))+", "+jG(i8.transform(d))+")"},jP={test:a=>jM.test(a)||jN.test(a)||jO.test(a),parse:a=>jM.test(a)?jM.parse(a):jO.test(a)?jO.parse(a):jN.parse(a),transform:a=>"string"==typeof a?a:a.hasOwnProperty("red")?jM.transform(a):jO.transform(a),getAnimatableNone:a=>{let b=jP.parse(a);return b.alpha=0,jP.transform(b)}},jQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,jR="number",jS="color",jT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jU(a){let b=a.toString(),c=[],d={color:[],number:[],var:[]},e=[],f=0,g=b.replace(jT,a=>(jP.test(a)?(d.color.push(f),e.push(jS),c.push(jP.parse(a))):a.startsWith("var(")?(d.var.push(f),e.push("var"),c.push(a)):(d.number.push(f),e.push(jR),c.push(parseFloat(a))),++f,"${}")).split("${}");return{values:c,split:g,indexes:d,types:e}}function jV(a){return jU(a).values}function jW(a){let{split:b,types:c}=jU(a),d=b.length;return a=>{let e="";for(let f=0;f<d;f++)if(e+=b[f],void 0!==a[f]){let b=c[f];b===jR?e+=jG(a[f]):b===jS?e+=jP.transform(a[f]):e+=a[f]}return e}}let jX=a=>"number"==typeof a?0:jP.test(a)?jP.getAnimatableNone(a):a,jY={test:function(a){return isNaN(a)&&"string"==typeof a&&(a.match(jH)?.length||0)+(a.match(jQ)?.length||0)>0},parse:jV,createTransformer:jW,getAnimatableNone:function(a){let b=jV(a);return jW(a)(b.map(jX))}},jZ=new Set(["brightness","contrast","saturate","opacity"]);function j$(a){let[b,c]=a.slice(0,-1).split("(");if("drop-shadow"===b)return a;let[d]=c.match(jH)||[];if(!d)return a;let e=c.replace(d,""),f=+!!jZ.has(b);return d!==c&&(f*=100),b+"("+f+e+")"}let j_=/\b([a-z-]*)\(.*?\)/gu,j0={...jY,getAnimatableNone:a=>{let b=a.match(j_);return b?b.map(j$).join(" "):a}},j1={...i7,transform:Math.round},j2={borderWidth:jd,borderTopWidth:jd,borderRightWidth:jd,borderBottomWidth:jd,borderLeftWidth:jd,borderRadius:jd,radius:jd,borderTopLeftRadius:jd,borderTopRightRadius:jd,borderBottomRightRadius:jd,borderBottomLeftRadius:jd,width:jd,maxWidth:jd,height:jd,maxHeight:jd,top:jd,right:jd,bottom:jd,left:jd,padding:jd,paddingTop:jd,paddingRight:jd,paddingBottom:jd,paddingLeft:jd,margin:jd,marginTop:jd,marginRight:jd,marginBottom:jd,marginLeft:jd,backgroundPositionX:jd,backgroundPositionY:jd,rotate:jb,rotateX:jb,rotateY:jb,rotateZ:jb,scale:i9,scaleX:i9,scaleY:i9,scaleZ:i9,skew:jb,skewX:jb,skewY:jb,distance:jd,translateX:jd,translateY:jd,translateZ:jd,x:jd,y:jd,z:jd,perspective:jd,transformPerspective:jd,opacity:i8,originX:jg,originY:jg,originZ:jd,zIndex:j1,fillOpacity:i8,strokeOpacity:i8,numOctaves:j1},j3={...j2,color:jP,backgroundColor:jP,outlineColor:jP,fill:jP,stroke:jP,borderColor:jP,borderTopColor:jP,borderRightColor:jP,borderBottomColor:jP,borderLeftColor:jP,filter:j0,WebkitFilter:j0},j4=a=>j3[a];function j5(a,b){let c=j4(a);return c!==j0&&(c=jY),c.getAnimatableNone?c.getAnimatableNone(b):void 0}let j6=new Set(["auto","none","0"]);class j7 extends jF{constructor(a,b,c,d,e){super(a,b,c,d,e,!0)}readKeyframes(){let{unresolvedKeyframes:a,element:b,name:c}=this;if(!b||!b.current)return;super.readKeyframes();for(let c=0;c<a.length;c++){let d=a[c];if("string"==typeof d&&iS(d=d.trim())){let e=function a(b,c,d=1){jl(d<=4,`Max CSS variable fallback depth detected in property "${b}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[e,f]=function(a){let b=jm.exec(a);if(!b)return[,];let[,c,d,e]=b;return[`--${c??d}`,e]}(b);if(!e)return;let g=window.getComputedStyle(c).getPropertyValue(e);if(g){let a=g.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a)?parseFloat(a):a}return iS(f)?a(f,c,d+1):f}(d,b.current);void 0!==e&&(a[c]=e),c===a.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!i5.has(c)||2!==a.length)return;let[d,e]=a,f=jj(d),g=jj(e);if(f!==g)if(jn(f)&&jn(g))for(let b=0;b<a.length;b++){let c=a[b];"string"==typeof c&&(a[b]=parseFloat(c))}else jq[c]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:a,name:b}=this,c=[];for(let b=0;b<a.length;b++)(null===a[b]||function(a){if("number"==typeof a)return 0===a;if(null===a)return!0;return"none"===a||"0"===a||/^0[^.\s]+$/u.test(a)}(a[b]))&&c.push(b);c.length&&function(a,b,c){let d,e=0;for(;e<a.length&&!d;){let b=a[e];"string"==typeof b&&!j6.has(b)&&jU(b).values.length&&(d=a[e]),e++}if(d&&c)for(let e of b)a[e]=j5(c,d)}(a,c,b)}measureInitialState(){let{element:a,unresolvedKeyframes:b,name:c}=this;if(!a||!a.current)return;"height"===c&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jq[c](a.measureViewportBox(),window.getComputedStyle(a.current)),b[0]=this.measuredOrigin;let d=b[b.length-1];void 0!==d&&a.getValue(c,d).jump(d,!1)}measureEndState(){let{element:a,name:b,unresolvedKeyframes:c}=this;if(!a||!a.current)return;let d=a.getValue(b);d&&d.jump(this.measuredOrigin,!1);let e=c.length-1,f=c[e];c[e]=jq[b](a.measureViewportBox(),window.getComputedStyle(a.current)),null!==f&&void 0===this.finalKeyframe&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([b,c])=>{a.getValue(b).set(c)}),this.resolveNoneKeyframes()}}let j8=a=>!!(a&&a.getVelocity);function j9(){r=void 0}let ka={now:()=>(void 0===r&&ka.set(jx.isProcessing||js.useManualTiming?jx.timestamp:performance.now()),r),set:a=>{r=a,queueMicrotask(j9)}};function kb(a,b){-1===a.indexOf(b)&&a.push(b)}function kc(a,b){let c=a.indexOf(b);c>-1&&a.splice(c,1)}class kd{constructor(){this.subscriptions=[]}add(a){return kb(this.subscriptions,a),()=>kc(this.subscriptions,a)}notify(a,b,c){let d=this.subscriptions.length;if(d)if(1===d)this.subscriptions[0](a,b,c);else for(let e=0;e<d;e++){let d=this.subscriptions[e];d&&d(a,b,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class ke{constructor(a,b={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{let b=ka.now();if(this.updatedAt!==b&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(a),this.owner=b.owner}setCurrent(a){this.current=a,this.updatedAt=ka.now(),null===this.canTrackVelocity&&void 0!==a&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,b){this.events[a]||(this.events[a]=new kd);let c=this.events[a].add(b);return"change"===a?()=>{c(),jv.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(let a in this.events)this.events[a].clear()}attach(a,b){this.passiveEffect=a,this.stopPassiveEffect=b}set(a){this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a)}setWithVelocity(a,b,c){this.set(b),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-c}jump(a,b=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,b&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(a){this.dependents||(this.dependents=new Set),this.dependents.add(a)}removeDependent(a){this.dependents&&this.dependents.delete(a)}get(){return z&&z.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var a;let b=ka.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||b-this.updatedAt>30)return 0;let c=Math.min(this.updatedAt-this.prevUpdatedAt,30);return a=parseFloat(this.current)-parseFloat(this.prevFrameValue),c?1e3/c*a:0}start(a){return this.stop(),new Promise(b=>{this.hasAnimated=!0,this.animation=a(b),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kf(a,b){return new ke(a,b)}let kg=[...ji,jP,jY],{schedule:kh}=ju(queueMicrotask,!1),ki={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kj={};for(let a in ki)kj[a]={isEnabled:b=>ki[a].some(a=>!!b[a])};let kk=()=>({translate:0,scale:1,origin:0,originPoint:0}),kl=()=>({x:kk(),y:kk()}),km=()=>({min:0,max:0}),kn=()=>({x:km(),y:km()}),ko=null,kp={current:!1},kq=new WeakMap;function kr(a){return null!==a&&"object"==typeof a&&"function"==typeof a.start}function ks(a){return"string"==typeof a||Array.isArray(a)}let kt=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ku=["initial",...kt];function kv(a){return kr(a.animate)||ku.some(b=>ks(a[b]))}function kw(a){return!!(kv(a)||a.variants)}function kx(a){let b=[{},{}];return a?.values.forEach((a,c)=>{b[0][c]=a.get(),b[1][c]=a.getVelocity()}),b}function ky(a,b,c,d){if("function"==typeof b){let[e,f]=kx(d);b=b(void 0!==c?c:a.custom,e,f)}if("string"==typeof b&&(b=a.variants&&a.variants[b]),"function"==typeof b){let[e,f]=kx(d);b=b(void 0!==c?c:a.custom,e,f)}return b}let kz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kA{scrapeMotionValuesFromProps(a,b,c){return{}}constructor({parent:a,props:b,presenceContext:c,reducedMotionConfig:d,blockInitialAnimation:e,visualState:f},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jF,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let a=ka.now();this.renderScheduledAt<a&&(this.renderScheduledAt=a,jv.render(this.render,!1,!0))};const{latestValues:h,renderState:i}=f;this.latestValues=h,this.baseTarget={...h},this.initialValues=b.initial?{...h}:{},this.renderState=i,this.parent=a,this.props=b,this.presenceContext=c,this.depth=a?a.depth+1:0,this.reducedMotionConfig=d,this.options=g,this.blockInitialAnimation=!!e,this.isControllingVariants=kv(b),this.isVariantNode=kw(b),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:j,...k}=this.scrapeMotionValuesFromProps(b,{},this);for(const a in k){const b=k[a];void 0!==h[a]&&j8(b)&&b.set(h[a])}}mount(a){this.current=a,kq.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,b)=>this.bindToMotionValue(b,a)),kp.current||(kp.current=!0),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ko),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let a in this.projection&&this.projection.unmount(),jw(this.notifyUpdate),jw(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[a].clear();for(let a in this.features){let b=this.features[a];b&&(b.unmount(),b.isMounted=!1)}this.current=null}addChild(a){this.children.add(a),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(a)}removeChild(a){this.children.delete(a),this.enteringChildren&&this.enteringChildren.delete(a)}bindToMotionValue(a,b){let c;this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();let d=iE.has(a);d&&this.onBindTransform&&this.onBindTransform();let e=b.on("change",b=>{this.latestValues[a]=b,this.props.onUpdate&&jv.preRender(this.notifyUpdate),d&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,a,b)),this.valueSubscriptions.set(a,()=>{e(),c&&c(),b.owner&&b.stop()})}sortNodePosition(a){return this.current&&this.sortInstanceNodePosition&&this.type===a.type?this.sortInstanceNodePosition(this.current,a.current):0}updateFeatures(){let a="animation";for(a in kj){let b=kj[a];if(!b)continue;let{isEnabled:c,Feature:d}=b;if(!this.features[a]&&d&&c(this.props)&&(this.features[a]=new d(this)),this.features[a]){let b=this.features[a];b.isMounted?b.update():(b.mount(),b.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kn()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,b){this.latestValues[a]=b}update(a,b){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=b;for(let b=0;b<kz.length;b++){let c=kz[b];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);let d=a["on"+c];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=function(a,b,c){for(let d in b){let e=b[d],f=c[d];if(j8(e))a.addValue(d,e);else if(j8(f))a.addValue(d,kf(e,{owner:a}));else if(f!==e)if(a.hasValue(d)){let b=a.getValue(d);!0===b.liveStyle?b.jump(e):b.hasAnimated||b.set(e)}else{let b=a.getStaticValue(d);a.addValue(d,kf(void 0!==b?b:e,{owner:a}))}}for(let d in c)void 0===b[d]&&a.removeValue(d);return b}(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){let b=this.getClosestVariantNode();if(b)return b.variantChildren&&b.variantChildren.add(a),()=>b.variantChildren.delete(a)}addValue(a,b){let c=this.values.get(a);b!==c&&(c&&this.removeValue(a),this.bindToMotionValue(a,b),this.values.set(a,b),this.latestValues[a]=b.get())}removeValue(a){this.values.delete(a);let b=this.valueSubscriptions.get(a);b&&(b(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,b){if(this.props.values&&this.props.values[a])return this.props.values[a];let c=this.values.get(a);return void 0===c&&void 0!==b&&(c=kf(null===b?void 0:b,{owner:this}),this.addValue(a,c)),c}readValue(a,b){let c=void 0===this.latestValues[a]&&this.current?this.getBaseTargetFromProps(this.props,a)??this.readValueFromInstance(this.current,a,this.options):this.latestValues[a];if(null!=c){let d,e;if("string"==typeof c&&(d=c,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(d)||(e=c,/^0[^.\s]+$/u.test(e))))c=parseFloat(c);else{let d;d=c,!kg.find(jh(d))&&jY.test(b)&&(c=j5(a,b))}this.setBaseTarget(a,j8(c)?c.get():c)}return j8(c)?c.get():c}setBaseTarget(a,b){this.baseTarget[a]=b}getBaseTarget(a){let b,{initial:c}=this.props;if("string"==typeof c||"object"==typeof c){let d=ky(this.props,c,this.presenceContext?.custom);d&&(b=d[a])}if(c&&void 0!==b)return b;let d=this.getBaseTargetFromProps(this.props,a);return void 0===d||j8(d)?void 0!==this.initialValues[a]&&void 0===b?void 0:this.baseTarget[a]:d}on(a,b){return this.events[a]||(this.events[a]=new kd),this.events[a].add(b)}notify(a,...b){this.events[a]&&this.events[a].notify(...b)}scheduleRenderMicrotask(){kh.render(this.render)}}class kB extends kA{constructor(){super(...arguments),this.KeyframeResolver=j7}sortInstanceNodePosition(a,b){return 2&a.compareDocumentPosition(b)?1:-1}getBaseTargetFromProps(a,b){return a.style?a.style[b]:void 0}removeValueFromRenderState(a,{vars:b,style:c}){delete b[a],delete c[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:a}=this.props;j8(a)&&(this.childSubscription=a.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}let kC=(a,b)=>b&&"number"==typeof a?b.transform(a):a,kD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kE=iD.length;function kF(a,b,c){let{style:d,vars:e,transformOrigin:f}=a,g=!1,h=!1;for(let a in b){let c=b[a];if(iE.has(a)){g=!0;continue}if(iQ(a)){e[a]=c;continue}{let b=kC(c,j2[a]);a.startsWith("origin")?(h=!0,f[a]=b):d[a]=b}}if(!b.transform&&(g||c?d.transform=function(a,b,c){let d="",e=!0;for(let f=0;f<kE;f++){let g=iD[f],h=a[g];if(void 0===h)continue;let i=!0;if(!(i="number"==typeof h?h===+!!g.startsWith("scale"):0===parseFloat(h))||c){let a=kC(h,j2[g]);if(!i){e=!1;let b=kD[g]||g;d+=`${b}(${a}) `}c&&(b[g]=a)}}return d=d.trim(),c?d=c(b,e?"":d):e&&(d="none"),d}(b,a.transform,c):d.transform&&(d.transform="none")),h){let{originX:a="50%",originY:b="50%",originZ:c=0}=f;d.transformOrigin=`${a} ${b} ${c}`}}function kG(a,{style:b,vars:c},d,e){let f,g=a.style;for(f in b)g[f]=b[f];for(f in e?.applyProjectionStyles(g,d),c)g.setProperty(f,c[f])}function kH(a,b){return b.max===b.min?0:a/(b.max-b.min)*100}let kI={correct:(a,b)=>{if(!b.target)return a;if("string"==typeof a)if(!jd.test(a))return a;else a=parseFloat(a);let c=kH(a,b.target.x),d=kH(a,b.target.y);return`${c}% ${d}%`}},kJ={borderRadius:{...kI,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kI,borderTopRightRadius:kI,borderBottomLeftRadius:kI,borderBottomRightRadius:kI,boxShadow:{correct:(a,{treeScale:b,projectionDelta:c})=>{let d=jY.parse(a);if(d.length>5)return a;let e=jY.createTransformer(a),f=+("number"!=typeof d[0]),g=c.x.scale*b.x,h=c.y.scale*b.y;d[0+f]/=g,d[1+f]/=h;let i=iV(g,h,.5);return"number"==typeof d[2+f]&&(d[2+f]/=i),"number"==typeof d[3+f]&&(d[3+f]/=i),e(d)}}};function kK(a,{layout:b,layoutId:c}){return iE.has(a)||a.startsWith("origin")||(b||void 0!==c)&&(!!kJ[a]||"opacity"===a)}function kL(a,b,c){let{style:d}=a,e={};for(let f in d)(j8(d[f])||b.style&&j8(b.style[f])||kK(f,a)||c?.getValue(f)?.liveStyle!==void 0)&&(e[f]=d[f]);return e}class kM extends kB{constructor(){super(...arguments),this.type="html",this.renderInstance=kG}readValueFromInstance(a,b){if(iE.has(b))return this.projection?.isProjecting?iM(b):((a,b)=>{let{transform:c="none"}=getComputedStyle(a);return iN(c,b)})(a,b);{let c=window.getComputedStyle(a),d=(iQ(b)?c.getPropertyValue(b):c[b])||0;return"string"==typeof d?d.trim():d}}measureInstanceViewportBox(a,{transformPagePoint:b}){return i4(a,b)}build(a,b,c){kF(a,b,c.transformTemplate)}scrapeMotionValuesFromProps(a,b,c){return kL(a,b,c)}}let kN=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kO={offset:"stroke-dashoffset",array:"stroke-dasharray"},kP={offset:"strokeDashoffset",array:"strokeDasharray"};function kQ(a,{attrX:b,attrY:c,attrScale:d,pathLength:e,pathSpacing:f=1,pathOffset:g=0,...h},i,j,k){if(kF(a,h,j),i){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};let{attrs:l,style:m}=a;l.transform&&(m.transform=l.transform,delete l.transform),(m.transform||l.transformOrigin)&&(m.transformOrigin=l.transformOrigin??"50% 50%",delete l.transformOrigin),m.transform&&(m.transformBox=k?.transformBox??"fill-box",delete l.transformBox),void 0!==b&&(l.x=b),void 0!==c&&(l.y=c),void 0!==d&&(l.scale=d),void 0!==e&&function(a,b,c=1,d=0,e=!0){a.pathLength=1;let f=e?kO:kP;a[f.offset]=jd.transform(-d);let g=jd.transform(b),h=jd.transform(c);a[f.array]=`${g} ${h}`}(l,e,f,g,!1)}let kR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),kS=a=>"string"==typeof a&&"svg"===a.toLowerCase();function kT(a,b,c){let d=kL(a,b,c);for(let c in a)(j8(a[c])||j8(b[c]))&&(d[-1!==iD.indexOf(c)?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c]=a[c]);return d}class kU extends kB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kn}getBaseTargetFromProps(a,b){return a[b]}readValueFromInstance(a,b){if(iE.has(b)){let a=j4(b);return a&&a.default||0}return b=kR.has(b)?b:kN(b),a.getAttribute(b)}scrapeMotionValuesFromProps(a,b,c){return kT(a,b,c)}build(a,b,c){kQ(a,b,this.isSVGTag,c.transformTemplate,c.style)}renderInstance(a,b,c,d){for(let c in kG(a,b,void 0,d),b.attrs)a.setAttribute(kR.has(c)?c:kN(c),b.attrs[c])}mount(a){this.isSVGTag=kS(a.tagName),super.mount(a)}}let kV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kW(a){if("string"!=typeof a||a.includes("-"));else if(kV.indexOf(a)>-1||/[A-Z]/u.test(a))return!0;return!1}let kX=(0,Q.createContext)({}),kY=((0,Q.createContext)({strict:!1}),(0,Q.createContext)({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"})),kZ=(0,Q.createContext)({});function k$(a){return Array.isArray(a)?a.join(" "):a}let k_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function k0(a,b,c){for(let d in b)j8(b[d])||kK(d,c)||(a[d]=b[d])}let k1=()=>({...k_(),attrs:{}}),k2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function k3(a){return a.startsWith("while")||a.startsWith("drag")&&"draggable"!==a||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||k2.has(a)}let k4=a=>!k3(a);try{D=(()=>{let a=Error("Cannot find module '@emotion/is-prop-valid'");throw a.code="MODULE_NOT_FOUND",a})().default,"function"==typeof D&&(k4=a=>a.startsWith("on")?!k3(a):D(a))}catch{}let k5=(0,Q.createContext)(null);function k6(a){let b=(0,Q.useRef)(null);return null===b.current&&(b.current=a()),b.current}function k7(a){return j8(a)?a.get():a}let k8=a=>(b,c)=>{let d=(0,Q.useContext)(kZ),e=(0,Q.useContext)(k5),f=()=>(function({scrapeMotionValuesFromProps:a,createRenderState:b},c,d,e){return{latestValues:function(a,b,c,d){let e={},f=d(a,{});for(let a in f)e[a]=k7(f[a]);let{initial:g,animate:h}=a,i=kv(a),j=kw(a);b&&j&&!i&&!1!==a.inherit&&(void 0===g&&(g=b.initial),void 0===h&&(h=b.animate));let k=!!c&&!1===c.initial,l=(k=k||!1===g)?h:g;if(l&&"boolean"!=typeof l&&!kr(l)){let b=Array.isArray(l)?l:[l];for(let c=0;c<b.length;c++){let d=ky(a,b[c]);if(d){let{transitionEnd:a,transition:b,...c}=d;for(let a in c){let b=c[a];if(Array.isArray(b)){let a=k?b.length-1:0;b=b[a]}null!==b&&(e[a]=b)}for(let b in a)e[b]=a[b]}}}return e}(c,d,e,a),renderState:b()}})(a,b,d,e);return c?f():k6(f)},k9=k8({scrapeMotionValuesFromProps:kL,createRenderState:k_}),la=k8({scrapeMotionValuesFromProps:kT,createRenderState:k1}),lb=Symbol.for("motionComponentSymbol");function lc(a){return a&&"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,"current")}let ld="data-"+kN("framerAppearId"),le=(0,Q.createContext)({}),lf=Q.useEffect;function lg(a,{forwardMotionProps:b=!1}={},c,d){c&&function(a){for(let b in a)kj[b]={...kj[b],...a[b]}}(c);let e=kW(a)?la:k9;function f(c,d){var f;let g,h={...(0,Q.useContext)(kY),...c,layoutId:function({layoutId:a}){let b=(0,Q.useContext)(kX).id;return b&&void 0!==a?b+"-"+a:a}(c)},{isStatic:i}=h,j=function(a){let{initial:b,animate:c}=function(a,b){if(kv(a)){let{initial:b,animate:c}=a;return{initial:!1===b||ks(b)?b:void 0,animate:ks(c)?c:void 0}}return!1!==a.inherit?b:{}}(a,(0,Q.useContext)(kZ));return(0,Q.useMemo)(()=>({initial:b,animate:c}),[k$(b),k$(c)])}(c),k=e(c,i);return(0,P.jsxs)(kZ.Provider,{value:j,children:[g&&j.visualElement?(0,P.jsx)(g,{visualElement:j.visualElement,...h}):null,function(a,b,c,{latestValues:d},e,f=!1){let g=(kW(a)?function(a,b,c,d){let e=(0,Q.useMemo)(()=>{let c=k1();return kQ(c,b,kS(d),a.transformTemplate,a.style),{...c.attrs,style:{...c.style}}},[b]);if(a.style){let b={};k0(b,a.style,a),e.style={...b,...e.style}}return e}:function(a,b){let c,d,e={},f=(c=a.style||{},k0(d={},c,a),Object.assign(d,function({transformTemplate:a},b){return(0,Q.useMemo)(()=>{let c=k_();return kF(c,b,a),Object.assign({},c.vars,c.style)},[b])}(a,b)),d);return a.drag&&!1!==a.dragListener&&(e.draggable=!1,f.userSelect=f.WebkitUserSelect=f.WebkitTouchCallout="none",f.touchAction=!0===a.drag?"none":`pan-${"x"===a.drag?"y":"x"}`),void 0===a.tabIndex&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=f,e})(b,d,e,a),h=function(a,b,c){let d={};for(let e in a)("values"!==e||"object"!=typeof a.values)&&(k4(e)||!0===c&&k3(e)||!b&&!k3(e)||a.draggable&&e.startsWith("onDrag"))&&(d[e]=a[e]);return d}(b,"string"==typeof a,f),i=a!==Q.Fragment?{...h,...g,ref:c}:{},{children:j}=b,k=(0,Q.useMemo)(()=>j8(j)?j.get():j,[j]);return(0,Q.createElement)(a,{...i,children:k})}(a,c,(f=j.visualElement,(0,Q.useCallback)(a=>{a&&k.onMount&&k.onMount(a),f&&(a?f.mount(a):f.unmount()),d&&("function"==typeof d?d(a):lc(d)&&(d.current=a))},[f])),k,i,b)]})}f.displayName=`motion.${"string"==typeof a?a:`create(${a.displayName??a.name??""})`}`;let g=(0,Q.forwardRef)(f);return g[lb]=a,g}function lh(a,b,c){let d=a.getProps();return ky(d,b,void 0!==c?c:d.custom,a)}function li(a,b){return a?.[b]??a?.default??a}let lj=a=>Array.isArray(a);function lk(a,b){let c=a.getValue("willChange");if(j8(c)&&c.add)return c.add(b);if(!c&&js.WillChange){let c=new js.WillChange("auto");a.addValue("willChange",c),c.add(b)}}function ll(a){a.duration=0,a.type="keyframes"}let lm=(a,b)=>c=>b(a(c)),ln=(...a)=>a.reduce(lm),lo=a=>1e3*a,lp={layout:0,mainThread:0,waapi:0};function lq(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function lr(a,b){return c=>c>0?b:a}let ls=(a,b,c)=>{let d=a*a,e=c*(b*b-d)+d;return e<0?0:Math.sqrt(e)},lt=[jN,jM,jO];function lu(a){let b=lt.find(b=>b.test(a));if(jk(!!b,`'${a}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!b)return!1;let c=b.parse(a);return b===jO&&(c=function({hue:a,saturation:b,lightness:c,alpha:d}){a/=360,c/=100;let e=0,f=0,g=0;if(b/=100){let d=c<.5?c*(1+b):c+b-c*b,h=2*c-d;e=lq(h,d,a+1/3),f=lq(h,d,a),g=lq(h,d,a-1/3)}else e=f=g=c;return{red:Math.round(255*e),green:Math.round(255*f),blue:Math.round(255*g),alpha:d}}(c)),c}let lv=(a,b)=>{let c=lu(a),d=lu(b);if(!c||!d)return lr(a,b);let e={...c};return a=>(e.red=ls(c.red,d.red,a),e.green=ls(c.green,d.green,a),e.blue=ls(c.blue,d.blue,a),e.alpha=iV(c.alpha,d.alpha,a),jM.transform(e))},lw=new Set(["none","hidden"]);function lx(a,b){return c=>iV(a,b,c)}function ly(a){return"number"==typeof a?lx:"string"==typeof a?iS(a)?lr:jP.test(a)?lv:lB:Array.isArray(a)?lz:"object"==typeof a?jP.test(a)?lv:lA:lr}function lz(a,b){let c=[...a],d=c.length,e=a.map((a,c)=>ly(a)(a,b[c]));return a=>{for(let b=0;b<d;b++)c[b]=e[b](a);return c}}function lA(a,b){let c={...a,...b},d={};for(let e in c)void 0!==a[e]&&void 0!==b[e]&&(d[e]=ly(a[e])(a[e],b[e]));return a=>{for(let b in d)c[b]=d[b](a);return c}}let lB=(a,b)=>{let c=jY.createTransformer(b),d=jU(a),e=jU(b);if(!(d.indexes.var.length===e.indexes.var.length&&d.indexes.color.length===e.indexes.color.length&&d.indexes.number.length>=e.indexes.number.length))return jk(!0,`Complex values '${a}' and '${b}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),lr(a,b);if(lw.has(a)&&!e.values.length||lw.has(b)&&!d.values.length)return lw.has(a)?c=>c<=0?a:b:c=>c>=1?b:a;return ln(lz(function(a,b){let c=[],d={color:0,var:0,number:0};for(let e=0;e<b.values.length;e++){let f=b.types[e],g=a.indexes[f][d[f]],h=a.values[g]??0;c[e]=h,d[f]++}return c}(d,e),e.values),c)};function lC(a,b,c){return"number"==typeof a&&"number"==typeof b&&"number"==typeof c?iV(a,b,c):ly(a)(a,b)}let lD=a=>{let b=({timestamp:b})=>a(b);return{start:(a=!0)=>jv.update(b,a),stop:()=>jw(b),now:()=>jx.isProcessing?jx.timestamp:ka.now()}},lE=(a,b,c=10)=>{let d="",e=Math.max(Math.round(b/c),2);for(let b=0;b<e;b++)d+=Math.round(1e4*a(b/(e-1)))/1e4+", ";return`linear(${d.substring(0,d.length-2)})`};function lF(a){let b=0,c=a.next(b);for(;!c.done&&b<2e4;)b+=50,c=a.next(b);return b>=2e4?1/0:b}function lG(a,b,c){var d,e;let f=Math.max(b-5,0);return d=c-a(f),(e=b-f)?1e3/e*d:0}let lH=.01,lI=2,lJ=.005,lK=.5;function lL(a,b){return a*Math.sqrt(1-b*b)}let lM=["duration","bounce"],lN=["stiffness","damping","mass"];function lO(a,b){return b.some(b=>void 0!==a[b])}function lP(a=.3,b=.3){let c,d="object"!=typeof a?{visualDuration:a,keyframes:[0,1],bounce:b}:a,{restSpeed:e,restDelta:f}=d,g=d.keyframes[0],h=d.keyframes[d.keyframes.length-1],i={done:!1,value:g},{stiffness:j,damping:k,mass:l,duration:m,velocity:n,isResolvedFromDuration:o}=function(a){let b={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...a};if(!lO(a,lN)&&lO(a,lM))if(a.visualDuration){let c=2*Math.PI/(1.2*a.visualDuration),d=c*c,e=2*i6(.05,1,1-(a.bounce||0))*Math.sqrt(d);b={...b,mass:1,stiffness:d,damping:e}}else{let c=function({duration:a=800,bounce:b=.3,velocity:c=0,mass:d=1}){let e,f;jk(a<=lo(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let g=1-b;g=i6(.05,1,g),a=i6(.01,10,a/1e3),g<1?(e=b=>{let d=b*g,e=d*a;return .001-(d-c)/lL(b,g)*Math.exp(-e)},f=b=>{let d=b*g*a,f=Math.pow(g,2)*Math.pow(b,2)*a,h=Math.exp(-d),i=lL(Math.pow(b,2),g);return(d*c+c-f)*h*(-e(b)+.001>0?-1:1)/i}):(e=b=>-.001+Math.exp(-b*a)*((b-c)*a+1),f=b=>a*a*(c-b)*Math.exp(-b*a));let h=function(a,b,c){let d=c;for(let c=1;c<12;c++)d-=a(d)/b(d);return d}(e,f,5/a);if(a=lo(a),isNaN(h))return{stiffness:100,damping:10,duration:a};{let b=Math.pow(h,2)*d;return{stiffness:b,damping:2*g*Math.sqrt(d*b),duration:a}}}(a);(b={...b,...c,mass:1}).isResolvedFromDuration=!0}return b}({...d,velocity:-((d.velocity||0)/1e3)}),p=n||0,q=k/(2*Math.sqrt(j*l)),r=h-g,s=Math.sqrt(j/l)/1e3,t=5>Math.abs(r);if(e||(e=t?lH:lI),f||(f=t?lJ:lK),q<1){let a=lL(s,q);c=b=>h-Math.exp(-q*s*b)*((p+q*s*r)/a*Math.sin(a*b)+r*Math.cos(a*b))}else if(1===q)c=a=>h-Math.exp(-s*a)*(r+(p+s*r)*a);else{let a=s*Math.sqrt(q*q-1);c=b=>{let c=Math.exp(-q*s*b),d=Math.min(a*b,300);return h-c*((p+q*s*r)*Math.sinh(d)+a*r*Math.cosh(d))/a}}let u={calculatedDuration:o&&m||null,next:a=>{let b=c(a);if(o)i.done=a>=m;else{let d=0===a?p:0;q<1&&(d=0===a?lo(p):lG(c,a,b));let g=Math.abs(h-b)<=f;i.done=Math.abs(d)<=e&&g}return i.value=i.done?h:b,i},toString:()=>{let a=Math.min(lF(u),2e4),b=lE(b=>u.next(a*b).value,a,30);return a+"ms "+b},toTransition:()=>{}};return u}function lQ({keyframes:a,velocity:b=0,power:c=.8,timeConstant:d=325,bounceDamping:e=10,bounceStiffness:f=500,modifyTarget:g,min:h,max:i,restDelta:j=.5,restSpeed:k}){let l,m,n=a[0],o={done:!1,value:n},p=c*b,q=n+p,r=void 0===g?q:g(q);r!==q&&(p=r-n);let s=a=>-p*Math.exp(-a/d),t=a=>r+s(a),u=a=>{let b=s(a),c=t(a);o.done=Math.abs(b)<=j,o.value=o.done?r:c},v=a=>{let b;if(b=o.value,void 0!==h&&b<h||void 0!==i&&b>i){var c;l=a,m=lP({keyframes:[o.value,(c=o.value,void 0===h?i:void 0===i||Math.abs(h-c)<Math.abs(i-c)?h:i)],velocity:lG(t,a,o.value),damping:e,stiffness:f,restDelta:j,restSpeed:k})}};return v(0),{calculatedDuration:null,next:a=>{let b=!1;return(m||void 0!==l||(b=!0,u(a),v(a)),void 0!==l&&a>=l)?m.next(a-l):(b||u(a),o)}}}lP.applyToOptions=a=>{let b=function(a,b=100,c){let d=c({...a,keyframes:[0,b]}),e=Math.min(lF(d),2e4);return{type:"keyframes",ease:a=>d.next(e*a).value/b,duration:e/1e3}}(a,100,lP);return a.ease=b.ease,a.duration=lo(b.duration),a.type="keyframes",a};let lR=(a,b,c)=>(((1-3*c+3*b)*a+(3*c-6*b))*a+3*b)*a;function lS(a,b,c,d){return a===b&&c===d?jr:e=>0===e||1===e?e:lR(function(a,b,c,d,e){let f,g,h=0;do(f=lR(g=b+(c-b)/2,d,e)-a)>0?c=g:b=g;while(Math.abs(f)>1e-7&&++h<12)return g}(e,0,1,a,c),b,d)}let lT=lS(.42,0,1,1),lU=lS(0,0,.58,1),lV=lS(.42,0,.58,1),lW=a=>b=>b<=.5?a(2*b)/2:(2-a(2*(1-b)))/2,lX=a=>b=>1-a(1-b),lY=lS(.33,1.53,.69,.99),lZ=lX(lY),l$=lW(lZ),l_=a=>(a*=2)<1?.5*lZ(a):.5*(2-Math.pow(2,-10*(a-1))),l0=a=>1-Math.sin(Math.acos(a)),l1=lX(l0),l2=lW(l0),l3=a=>Array.isArray(a)&&"number"==typeof a[0],l4={linear:jr,easeIn:lT,easeInOut:lV,easeOut:lU,circIn:l0,circInOut:l2,circOut:l1,backIn:lZ,backInOut:l$,backOut:lY,anticipate:l_},l5=a=>{if(l3(a)){jl(4===a.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[b,c,d,e]=a;return lS(b,c,d,e)}return"string"==typeof a?(jl(void 0!==l4[a],`Invalid easing type '${a}'`,"invalid-easing-type"),l4[a]):a},l6=(a,b,c)=>{let d=b-a;return 0===d?1:(c-a)/d};function l7({duration:a=300,keyframes:b,times:c,ease:d="easeInOut"}){var e;let f,g=Array.isArray(d)&&"number"!=typeof d[0]?d.map(l5):l5(d),h={done:!1,value:b[0]},i=function(a,b,{clamp:c=!0,ease:d,mixer:e}={}){let f=a.length;if(jl(f===b.length,"Both input and output ranges must be the same length","range-length"),1===f)return()=>b[0];if(2===f&&b[0]===b[1])return()=>b[1];let g=a[0]===a[1];a[0]>a[f-1]&&(a=[...a].reverse(),b=[...b].reverse());let h=function(a,b,c){let d=[],e=c||js.mix||lC,f=a.length-1;for(let c=0;c<f;c++){let f=e(a[c],a[c+1]);b&&(f=ln(Array.isArray(b)?b[c]||jr:b,f)),d.push(f)}return d}(b,d,e),i=h.length,j=c=>{if(g&&c<a[0])return b[0];let d=0;if(i>1)for(;d<a.length-2&&!(c<a[d+1]);d++);let e=l6(a[d],a[d+1],c);return h[d](e)};return c?b=>j(i6(a[0],a[f-1],b)):j}((e=c&&c.length===b.length?c:(!function(a,b){let c=a[a.length-1];for(let d=1;d<=b;d++){let e=l6(0,b,d);a.push(iV(c,1,e))}}(f=[0],b.length-1),f),e.map(b=>b*a)),b,{ease:Array.isArray(g)?g:b.map(()=>g||lV).splice(0,b.length-1)});return{calculatedDuration:a,next:b=>(h.value=i(b),h.done=b>=a,h)}}let l8=a=>null!==a;function l9(a,{repeat:b,repeatType:c="loop"},d,e=1){let f=a.filter(l8),g=e<0||b&&"loop"!==c&&b%2==1?0:f.length-1;return g&&void 0!==d?d:f[g]}let ma={decay:lQ,inertia:lQ,tween:l7,keyframes:l7,spring:lP};function mb(a){"string"==typeof a.type&&(a.type=ma[a.type])}class mc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(a=>{this.resolve=a})}notifyFinished(){this.resolve()}then(a,b){return this.finished.then(a,b)}}let md=a=>a/100;class me extends mc{constructor(a){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:a}=this.options;a&&a.updatedAt!==ka.now()&&this.tick(ka.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},lp.mainThread++,this.options=a,this.initAnimation(),this.play(),!1===a.autoplay&&this.pause()}initAnimation(){let{options:a}=this;mb(a);let{type:b=l7,repeat:c=0,repeatDelay:d=0,repeatType:e,velocity:f=0}=a,{keyframes:g}=a,h=b||l7;h!==l7&&"number"!=typeof g[0]&&(this.mixKeyframes=ln(md,lC(g[0],g[1])),g=[0,100]);let i=h({...a,keyframes:g});"mirror"===e&&(this.mirroredGenerator=h({...a,keyframes:[...g].reverse(),velocity:-f})),null===i.calculatedDuration&&(i.calculatedDuration=lF(i));let{calculatedDuration:j}=i;this.calculatedDuration=j,this.resolvedDuration=j+d,this.totalDuration=this.resolvedDuration*(c+1)-d,this.generator=i}updateTime(a){let b=Math.round(a-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=b}tick(a,b=!1){let{generator:c,totalDuration:d,mixKeyframes:e,mirroredGenerator:f,resolvedDuration:g,calculatedDuration:h}=this;if(null===this.startTime)return c.next(0);let{delay:i=0,keyframes:j,repeat:k,repeatType:l,repeatDelay:m,type:n,onUpdate:o,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-d/this.speed,this.startTime)),b?this.currentTime=a:this.updateTime(a);let q=this.currentTime-i*(this.playbackSpeed>=0?1:-1),r=this.playbackSpeed>=0?q<0:q>d;this.currentTime=Math.max(q,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=d);let s=this.currentTime,t=c;if(k){let a=Math.min(this.currentTime,d)/g,b=Math.floor(a),c=a%1;!c&&a>=1&&(c=1),1===c&&b--,(b=Math.min(b,k+1))%2&&("reverse"===l?(c=1-c,m&&(c-=m/g)):"mirror"===l&&(t=f)),s=i6(0,1,c)*g}let u=r?{done:!1,value:j[0]}:t.next(s);e&&(u.value=e(u.value));let{done:v}=u;r||null===h||(v=this.playbackSpeed>=0?this.currentTime>=d:this.currentTime<=0);let w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&v);return w&&n!==lQ&&(u.value=l9(j,this.options,p,this.speed)),o&&o(u.value),w&&this.finish(),u}then(a,b){return this.finished.then(a,b)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:a=0}=this.options||{};return this.duration+a/1e3}get time(){return this.currentTime/1e3}set time(a){a=lo(a),this.currentTime=a,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(a){this.updateTime(ka.now());let b=this.playbackSpeed!==a;this.playbackSpeed=a,b&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:a=lD,startTime:b}=this.options;this.driver||(this.driver=a(a=>this.tick(a))),this.options.onPlay?.();let c=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=c):null!==this.holdTime?this.startTime=c-this.holdTime:this.startTime||(this.startTime=b??c),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ka.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,lp.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}attachTimeline(a){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),a.observe(this)}}function mf(a){let b;return()=>(void 0===b&&(b=a()),b)}let mg=mf(()=>void 0!==window.ScrollTimeline),mh={},mi=(v=mf(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(a){return!1}return!0}),()=>mh.linearEasing??v()),mj=([a,b,c,d])=>`cubic-bezier(${a}, ${b}, ${c}, ${d})`,mk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mj([0,.65,.55,1]),circOut:mj([.55,0,1,.45]),backIn:mj([.31,.01,.66,-.59]),backOut:mj([.33,1.53,.69,.99])};function ml(a){return"function"==typeof a&&"applyToOptions"in a}class mm extends mc{constructor(a){if(super(),this.finishedTime=null,this.isStopped=!1,!a)return;const{element:b,name:c,keyframes:d,pseudoElement:e,allowFlatten:f=!1,finalKeyframe:g,onComplete:h}=a;this.isPseudoElement=!!e,this.allowFlatten=f,this.options=a,jl("string"!=typeof a.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const i=function({type:a,...b}){return ml(a)&&mi()?a.applyToOptions(b):(b.duration??(b.duration=300),b.ease??(b.ease="easeOut"),b)}(a);this.animation=function(a,b,c,{delay:d=0,duration:e=300,repeat:f=0,repeatType:g="loop",ease:h="easeOut",times:i}={},j){let k={[b]:c};i&&(k.offset=i);let l=function a(b,c){if(b)return"function"==typeof b?mi()?lE(b,c):"ease-out":l3(b)?mj(b):Array.isArray(b)?b.map(b=>a(b,c)||mk.easeOut):mk[b]}(h,e);Array.isArray(l)&&(k.easing=l);let m={delay:d,duration:e,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:f+1,direction:"reverse"===g?"alternate":"normal"};j&&(m.pseudoElement=j);let n=a.animate(k,m);return n}(b,c,d,i,e),!1===i.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!e){let a=l9(d,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(a):c.startsWith("--")?b.style.setProperty(c,a):b.style[c]=a,this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(a){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:a}=this;"idle"!==a&&"finished"!==a&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:a=0}=this.options||{};return this.duration+a/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(a){this.finishedTime=null,this.animation.currentTime=lo(a)}get speed(){return this.animation.playbackRate}set speed(a){a<0&&(this.finishedTime=null),this.animation.playbackRate=a}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(a){this.animation.startTime=a}attachTimeline({timeline:a,observe:b}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,a&&mg())?(this.animation.timeline=a,jr):b(this)}}let mn={anticipate:l_,backInOut:l$,circInOut:l2};class mo extends mm{constructor(a){!function(a){"string"==typeof a.ease&&a.ease in mn&&(a.ease=mn[a.ease])}(a),mb(a),super(a),a.startTime&&(this.startTime=a.startTime),this.options=a}updateMotionValue(a){let{motionValue:b,onUpdate:c,onComplete:d,element:e,...f}=this.options;if(!b)return;if(void 0!==a)return void b.set(a);let g=new me({...f,autoplay:!1}),h=lo(this.finishedTime??this.time);b.setWithVelocity(g.sample(h-10).value,g.sample(h).value,10),g.stop()}}let mp=(a,b)=>"zIndex"!==b&&!!("number"==typeof a||Array.isArray(a)||"string"==typeof a&&(jY.test(a)||"0"===a)&&!a.startsWith("url(")),mq=new Set(["opacity","clipPath","filter","transform"]),mr=mf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class ms extends mc{constructor({autoplay:a=!0,delay:b=0,type:c="keyframes",repeat:d=0,repeatDelay:e=0,repeatType:f="loop",keyframes:g,name:h,motionValue:i,element:j,...k}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ka.now();const l={autoplay:a,delay:b,type:c,repeat:d,repeatDelay:e,repeatType:f,name:h,motionValue:i,element:j,...k},m=j?.KeyframeResolver||jF;this.keyframeResolver=new m(g,(a,b,c)=>this.onKeyframesResolved(a,b,l,!c),h,i,j),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(a,b,c,d){this.keyframeResolver=void 0;let{name:e,type:f,velocity:g,delay:h,isHandoff:i,onUpdate:j}=c;this.resolvedAt=ka.now(),!function(a,b,c,d){let e=a[0];if(null===e)return!1;if("display"===b||"visibility"===b)return!0;let f=a[a.length-1],g=mp(e,b),h=mp(f,b);return jk(g===h,`You are trying to animate ${b} from "${e}" to "${f}". "${g?f:e}" is not an animatable value.`,"value-not-animatable"),!!g&&!!h&&(function(a){let b=a[0];if(1===a.length)return!0;for(let c=0;c<a.length;c++)if(a[c]!==b)return!0}(a)||("spring"===c||ml(c))&&d)}(a,e,f,g)&&((js.instantAnimations||!h)&&j?.(l9(a,c,b)),a[0]=a[a.length-1],ll(c),c.repeat=0);let k={startTime:d?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:b,...c,keyframes:a},l=!i&&function(a){let{motionValue:b,name:c,repeatDelay:d,repeatType:e,damping:f,type:g}=a;if(!(b?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:h,transformTemplate:i}=b.owner.getProps();return mr()&&c&&mq.has(c)&&("transform"!==c||!i)&&!h&&!d&&"mirror"!==e&&0!==f&&"inertia"!==g}(k)?new mo({...k,element:k.motionValue.owner.current}):new me(k);l.finished.then(()=>this.notifyFinished()).catch(jr),this.pendingTimeline&&(this.stopTimeline=l.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=l}get finished(){return this._animation?this.animation.finished:this._finished}then(a,b){return this.finished.finally(a).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),jC=!0,jE(),jD(),jC=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(a){this.animation.time=a}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(a){this.animation.speed=a}get startTime(){return this.animation.startTime}attachTimeline(a){return this._animation?this.stopTimeline=this.animation.attachTimeline(a):this.pendingTimeline=a,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let mt=a=>null!==a,mu={type:"spring",stiffness:500,damping:25,restSpeed:10},mv={type:"keyframes",duration:.8},mw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mx=(a,b,c,d={},e,f)=>g=>{let h=li(d,a)||{},i=h.delay||d.delay||0,{elapsed:j=0}=d;j-=lo(i);let k={keyframes:Array.isArray(c)?c:[null,c],ease:"easeOut",velocity:b.getVelocity(),...h,delay:-j,onUpdate:a=>{b.set(a),h.onUpdate&&h.onUpdate(a)},onComplete:()=>{g(),h.onComplete&&h.onComplete()},name:a,motionValue:b,element:f?void 0:e};!function({when:a,delay:b,delayChildren:c,staggerChildren:d,staggerDirection:e,repeat:f,repeatType:g,repeatDelay:h,from:i,elapsed:j,...k}){return!!Object.keys(k).length}(h)&&Object.assign(k,((a,{keyframes:b})=>b.length>2?mv:iE.has(a)?a.startsWith("scale")?{type:"spring",stiffness:550,damping:0===b[1]?2*Math.sqrt(550):30,restSpeed:10}:mu:mw)(a,k)),k.duration&&(k.duration=lo(k.duration)),k.repeatDelay&&(k.repeatDelay=lo(k.repeatDelay)),void 0!==k.from&&(k.keyframes[0]=k.from);let l=!1;if(!1!==k.type&&(0!==k.duration||k.repeatDelay)||(ll(k),0===k.delay&&(l=!0)),(js.instantAnimations||js.skipAnimations)&&(l=!0,ll(k),k.delay=0),k.allowFlatten=!h.type&&!h.ease,l&&!f&&void 0!==b.get()){let a=function(a,{repeat:b,repeatType:c="loop"},d){let e=a.filter(mt),f=b&&"loop"!==c&&b%2==1?0:e.length-1;return e[f]}(k.keyframes,h);if(void 0!==a)return void jv.update(()=>{k.onUpdate(a),k.onComplete()})}return h.isSync?new me(k):new ms(k)};function my(a,b,{delay:c=0,transitionOverride:d,type:e}={}){let{transition:f=a.getDefaultTransition(),transitionEnd:g,...h}=b;d&&(f=d);let i=[],j=e&&a.animationState&&a.animationState.getState()[e];for(let b in h){let d=a.getValue(b,a.latestValues[b]??null),e=h[b];if(void 0===e||j&&function({protectedKeys:a,needsAnimating:b},c){let d=a.hasOwnProperty(c)&&!0!==b[c];return b[c]=!1,d}(j,b))continue;let g={delay:c,...li(f||{},b)},k=d.get();if(void 0!==k&&!d.isAnimating&&!Array.isArray(e)&&e===k&&!g.velocity)continue;let l=!1;if(window.MotionHandoffAnimation){let c=a.props[ld];if(c){let a=window.MotionHandoffAnimation(c,b,jv);null!==a&&(g.startTime=a,l=!0)}}lk(a,b),d.start(mx(b,d,e,a.shouldReduceMotion&&i5.has(b)?{type:!1}:g,a,l));let m=d.animation;m&&i.push(m)}return g&&Promise.all(i).then(()=>{jv.update(()=>{g&&function(a,b){let{transitionEnd:c={},transition:d={},...e}=lh(a,b)||{};for(let b in e={...e,...c}){var f;let c=lj(f=e[b])?f[f.length-1]||0:f;a.hasValue(b)?a.getValue(b).set(c):a.addValue(b,kf(c))}}(a,g)})}),i}function mz(a,b,c,d=0,e=1){let f=Array.from(a).sort((a,b)=>a.sortNodePosition(b)).indexOf(b),g=a.size,h=(g-1)*d;return"function"==typeof c?c(f,g):1===e?f*d:h-f*d}function mA(a,b,c={}){let d=lh(a,b,"exit"===c.type?a.presenceContext?.custom:void 0),{transition:e=a.getDefaultTransition()||{}}=d||{};c.transitionOverride&&(e=c.transitionOverride);let f=d?()=>Promise.all(my(a,d,c)):()=>Promise.resolve(),g=a.variantChildren&&a.variantChildren.size?(d=0)=>{let{delayChildren:f=0,staggerChildren:g,staggerDirection:h}=e;return function(a,b,c=0,d=0,e=0,f=1,g){let h=[];for(let i of a.variantChildren)i.notify("AnimationStart",b),h.push(mA(i,b,{...g,delay:c+("function"==typeof d?0:d)+mz(a.variantChildren,i,d,e,f)}).then(()=>i.notify("AnimationComplete",b)));return Promise.all(h)}(a,b,d,f,g,h,c)}:()=>Promise.resolve(),{when:h}=e;if(!h)return Promise.all([f(),g(c.delay)]);{let[a,b]="beforeChildren"===h?[f,g]:[g,f];return a().then(()=>b())}}function mB(a,b){if(!Array.isArray(b))return!1;let c=b.length;if(c!==a.length)return!1;for(let d=0;d<c;d++)if(b[d]!==a[d])return!1;return!0}let mC=ku.length,mD=[...kt].reverse(),mE=kt.length;function mF(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mG(){return{animate:mF(!0),whileInView:mF(),whileHover:mF(),whileTap:mF(),whileDrag:mF(),whileFocus:mF(),exit:mF()}}class mH{constructor(a){this.isMounted=!1,this.node=a}update(){}}let mI=0,mJ={x:!1,y:!1};function mK(a,b,c,d={passive:!0}){return a.addEventListener(b,c,d),()=>a.removeEventListener(b,c)}let mL=a=>"mouse"===a.pointerType?"number"!=typeof a.button||a.button<=0:!1!==a.isPrimary;function mM(a){return{point:{x:a.pageX,y:a.pageY}}}function mN(a,b,c,d){return mK(a,b,a=>mL(a)&&c(a,mM(a)),d)}function mO(a){return a.max-a.min}function mP(a,b,c,d=.5){a.origin=d,a.originPoint=iV(b.min,b.max,a.origin),a.scale=mO(c)/mO(b),a.translate=iV(c.min,c.max,a.origin)-a.originPoint,(a.scale>=.9999&&a.scale<=1.0001||isNaN(a.scale))&&(a.scale=1),(a.translate>=-.01&&a.translate<=.01||isNaN(a.translate))&&(a.translate=0)}function mQ(a,b,c,d){mP(a.x,b.x,c.x,d?d.originX:void 0),mP(a.y,b.y,c.y,d?d.originY:void 0)}function mR(a,b,c){a.min=c.min+b.min,a.max=a.min+mO(b)}function mS(a,b,c){a.min=b.min-c.min,a.max=a.min+mO(b)}function mT(a,b,c){mS(a.x,b.x,c.x),mS(a.y,b.y,c.y)}function mU(a){return[a("x"),a("y")]}let mV=({current:a})=>a?a.ownerDocument.defaultView:null,mW=(a,b)=>Math.abs(a-b);class mX{constructor(a,b,{transformPagePoint:c,contextWindow:d=window,dragSnapToOrigin:e=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var a,b;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let c=m$(this.lastMoveEventInfo,this.history),d=null!==this.startEvent,e=(a=c.offset,b={x:0,y:0},Math.sqrt(mW(a.x,b.x)**2+mW(a.y,b.y)**2)>=this.distanceThreshold);if(!d&&!e)return;let{point:f}=c,{timestamp:g}=jx;this.history.push({...f,timestamp:g});let{onStart:h,onMove:i}=this.handlers;d||(h&&h(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,c)},this.handlePointerMove=(a,b)=>{this.lastMoveEvent=a,this.lastMoveEventInfo=mY(b,this.transformPagePoint),jv.update(this.updatePoint,!0)},this.handlePointerUp=(a,b)=>{this.end();let{onEnd:c,onSessionEnd:d,resumeAnimation:e}=this.handlers;if(this.dragSnapToOrigin&&e&&e(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let f=m$("pointercancel"===a.type?this.lastMoveEventInfo:mY(b,this.transformPagePoint),this.history);this.startEvent&&c&&c(a,f),d&&d(a,f)},!mL(a))return;this.dragSnapToOrigin=e,this.handlers=b,this.transformPagePoint=c,this.distanceThreshold=f,this.contextWindow=d||window;const g=mY(mM(a),this.transformPagePoint),{point:h}=g,{timestamp:i}=jx;this.history=[{...h,timestamp:i}];const{onSessionStart:j}=b;j&&j(a,m$(g,this.history)),this.removeListeners=ln(mN(this.contextWindow,"pointermove",this.handlePointerMove),mN(this.contextWindow,"pointerup",this.handlePointerUp),mN(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),jw(this.updatePoint)}}function mY(a,b){return b?{point:b(a.point)}:a}function mZ(a,b){return{x:a.x-b.x,y:a.y-b.y}}function m$({point:a},b){return{point:a,delta:mZ(a,m_(b)),offset:mZ(a,b[0]),velocity:function(a,b){if(a.length<2)return{x:0,y:0};let c=a.length-1,d=null,e=m_(a);for(;c>=0&&(d=a[c],!(e.timestamp-d.timestamp>lo(.1)));)c--;if(!d)return{x:0,y:0};let f=(e.timestamp-d.timestamp)/1e3;if(0===f)return{x:0,y:0};let g={x:(e.x-d.x)/f,y:(e.y-d.y)/f};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}(b,.1)}}function m_(a){return a[a.length-1]}function m0(a,b,c){return{min:void 0!==b?a.min+b:void 0,max:void 0!==c?a.max+c-(a.max-a.min):void 0}}function m1(a,b){let c=b.min-a.min,d=b.max-a.max;return b.max-b.min<a.max-a.min&&([c,d]=[d,c]),{min:c,max:d}}function m2(a,b,c){return{min:m3(a,b),max:m3(a,c)}}function m3(a,b){return"number"==typeof a?a:a[b]||0}let m4=new WeakMap;class m5{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=a}start(a,{snapToCursor:b=!1,distanceThreshold:c}={}){let{presenceContext:d}=this.visualElement;if(d&&!1===d.isPresent)return;let e=a=>{let{dragSnapToOrigin:c}=this.getProps();c?this.pauseAnimation():this.stopAnimation(),b&&this.snapToCursor(mM(a).point)},f=(a,b)=>{let{drag:c,dragPropagation:d,onDragStart:e}=this.getProps();if(c&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(a){if("x"===a||"y"===a)if(mJ[a])return null;else return mJ[a]=!0,()=>{mJ[a]=!1};return mJ.x||mJ.y?null:(mJ.x=mJ.y=!0,()=>{mJ.x=mJ.y=!1})}(c),!this.openDragLock))return;this.latestPointerEvent=a,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mU(a=>{let b=this.getAxisMotionValue(a).get()||0;if(jc.test(b)){let{projection:c}=this.visualElement;if(c&&c.layout){let d=c.layout.layoutBox[a];d&&(b=mO(d)*(parseFloat(b)/100))}}this.originPoint[a]=b}),e&&jv.postRender(()=>e(a,b)),lk(this.visualElement,"transform");let{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},g=(a,b)=>{this.latestPointerEvent=a,this.latestPanInfo=b;let{dragPropagation:c,dragDirectionLock:d,onDirectionLock:e,onDrag:f}=this.getProps();if(!c&&!this.openDragLock)return;let{offset:g}=b;if(d&&null===this.currentDirection){this.currentDirection=function(a,b=10){let c=null;return Math.abs(a.y)>b?c="y":Math.abs(a.x)>b&&(c="x"),c}(g),null!==this.currentDirection&&e&&e(this.currentDirection);return}this.updateAxis("x",b.point,g),this.updateAxis("y",b.point,g),this.visualElement.render(),f&&f(a,b)},h=(a,b)=>{this.latestPointerEvent=a,this.latestPanInfo=b,this.stop(a,b),this.latestPointerEvent=null,this.latestPanInfo=null},i=()=>mU(a=>"paused"===this.getAnimationState(a)&&this.getAxisMotionValue(a).animation?.play()),{dragSnapToOrigin:j}=this.getProps();this.panSession=new mX(a,{onSessionStart:e,onStart:f,onMove:g,onSessionEnd:h,resumeAnimation:i},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:j,distanceThreshold:c,contextWindow:mV(this.visualElement)})}stop(a,b){let c=a||this.latestPointerEvent,d=b||this.latestPanInfo,e=this.isDragging;if(this.cancel(),!e||!d||!c)return;let{velocity:f}=d;this.startAnimation(f);let{onDragEnd:g}=this.getProps();g&&jv.postRender(()=>g(c,d))}cancel(){this.isDragging=!1;let{projection:a,animationState:b}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),b&&b.setActive("whileDrag",!1)}updateAxis(a,b,c){let{drag:d}=this.getProps();if(!c||!m6(a,d,this.currentDirection))return;let e=this.getAxisMotionValue(a),f=this.originPoint[a]+c[a];this.constraints&&this.constraints[a]&&(f=function(a,{min:b,max:c},d){return void 0!==b&&a<b?a=d?iV(b,a,d.min):Math.max(a,b):void 0!==c&&a>c&&(a=d?iV(c,a,d.max):Math.min(a,c)),a}(f,this.constraints[a],this.elastic[a])),e.set(f)}resolveConstraints(){let{dragConstraints:a,dragElastic:b}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,d=this.constraints;a&&lc(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&c?this.constraints=function(a,{top:b,left:c,bottom:d,right:e}){return{x:m0(a.x,c,e),y:m0(a.y,b,d)}}(c.layoutBox,a):this.constraints=!1,this.elastic=function(a=.35){return!1===a?a=0:!0===a&&(a=.35),{x:m2(a,"left","right"),y:m2(a,"top","bottom")}}(b),d!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&mU(a=>{var b,d;let e;!1!==this.constraints&&this.getAxisMotionValue(a)&&(this.constraints[a]=(b=c.layoutBox[a],d=this.constraints[a],e={},void 0!==d.min&&(e.min=d.min-b.min),void 0!==d.max&&(e.max=d.max-b.min),e))})}resolveRefConstraints(){var a;let{dragConstraints:b,onMeasureDragConstraints:c}=this.getProps();if(!b||!lc(b))return!1;let d=b.current;jl(null!==d,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:e}=this.visualElement;if(!e||!e.layout)return!1;let f=function(a,b,c){let d=i4(a,c),{scroll:e}=b;return e&&(i1(d.x,e.offset.x),i1(d.y,e.offset.y)),d}(d,e.root,this.visualElement.getTransformPagePoint()),g=(a=e.layout.layoutBox,{x:m1(a.x,f.x),y:m1(a.y,f.y)});if(c){let a=c(function({x:a,y:b}){return{top:b.min,right:a.max,bottom:b.max,left:a.min}}(g));this.hasMutatedConstraints=!!a,a&&(g=iU(a))}return g}startAnimation(a){let{drag:b,dragMomentum:c,dragElastic:d,dragTransition:e,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),h=this.constraints||{};return Promise.all(mU(g=>{if(!m6(g,b,this.currentDirection))return;let i=h&&h[g]||{};f&&(i={min:0,max:0});let j={type:"inertia",velocity:c?a[g]:0,bounceStiffness:d?200:1e6,bounceDamping:d?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...e,...i};return this.startAxisValueAnimation(g,j)})).then(g)}startAxisValueAnimation(a,b){let c=this.getAxisMotionValue(a);return lk(this.visualElement,a),c.start(mx(a,c,0,b,this.visualElement,!1))}stopAnimation(){mU(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){mU(a=>this.getAxisMotionValue(a).animation?.pause())}getAnimationState(a){return this.getAxisMotionValue(a).animation?.state}getAxisMotionValue(a){let b=`_drag${a.toUpperCase()}`,c=this.visualElement.getProps();return c[b]||this.visualElement.getValue(a,(c.initial?c.initial[a]:void 0)||0)}snapToCursor(a){mU(b=>{let{drag:c}=this.getProps();if(!m6(b,c,this.currentDirection))return;let{projection:d}=this.visualElement,e=this.getAxisMotionValue(b);if(d&&d.layout){let{min:c,max:f}=d.layout.layoutBox[b];e.set(a[b]-iV(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:a,dragConstraints:b}=this.getProps(),{projection:c}=this.visualElement;if(!lc(b)||!c||!this.constraints)return;this.stopAnimation();let d={x:0,y:0};mU(a=>{let b=this.getAxisMotionValue(a);if(b&&!1!==this.constraints){var c,e;let f,g,h,i=b.get();d[a]=(c={min:i,max:i},e=this.constraints[a],f=.5,g=mO(c),(h=mO(e))>g?f=l6(e.min,e.max-g,c.min):g>h&&(f=l6(c.min,c.max-h,e.min)),i6(0,1,f))}});let{transformTemplate:e}=this.visualElement.getProps();this.visualElement.current.style.transform=e?e({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),mU(b=>{if(!m6(b,a,null))return;let c=this.getAxisMotionValue(b),{min:e,max:f}=this.constraints[b];c.set(iV(e,f,d[b]))})}addListeners(){if(!this.visualElement.current)return;m4.set(this.visualElement,this);let a=mN(this.visualElement.current,"pointerdown",a=>{let{drag:b,dragListener:c=!0}=this.getProps();b&&c&&this.start(a)}),b=()=>{let{dragConstraints:a}=this.getProps();lc(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",b);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),jv.read(b);let e=mK(window,"resize",()=>this.scalePositionWithinConstraints()),f=c.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b})=>{this.isDragging&&b&&(mU(b=>{let c=this.getAxisMotionValue(b);c&&(this.originPoint[b]+=a[b].translate,c.set(c.get()+a[b].translate))}),this.visualElement.render())});return()=>{e(),a(),d(),f&&f()}}getProps(){let a=this.visualElement.getProps(),{drag:b=!1,dragDirectionLock:c=!1,dragPropagation:d=!1,dragConstraints:e=!1,dragElastic:f=.35,dragMomentum:g=!0}=a;return{...a,drag:b,dragDirectionLock:c,dragPropagation:d,dragConstraints:e,dragElastic:f,dragMomentum:g}}}function m6(a,b,c){return(!0===b||b===a)&&(null===c||c===a)}let m7=a=>(b,c)=>{a&&jv.postRender(()=>a(b,c))};var m8=Q;function m9(a=!0){let b=(0,Q.useContext)(k5);if(null===b)return[!0,null];let{isPresent:c,onExitComplete:d,register:e}=b,f=(0,Q.useId)();(0,Q.useEffect)(()=>{if(a)return e(f)},[a]);let g=(0,Q.useCallback)(()=>a&&d&&d(f),[f,d,a]);return!c&&d?[!1,g]:[!0]}let na={hasAnimatedSinceResize:!0,hasEverUpdated:!1},nb=!1;class nc extends m8.Component{componentDidMount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c,layoutId:d}=this.props,{projection:e}=a;e&&(b.group&&b.group.add(e),c&&c.register&&d&&c.register(e),nb&&e.root.didUpdate(),e.addEventListener("animationComplete",()=>{this.safeToRemove()}),e.setOptions({...e.options,onExitComplete:()=>this.safeToRemove()})),na.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){let{layoutDependency:b,visualElement:c,drag:d,isPresent:e}=this.props,{projection:f}=c;return f&&(f.isPresent=e,nb=!0,d||a.layoutDependency!==b||void 0===b||a.isPresent!==e?f.willUpdate():this.safeToRemove(),a.isPresent!==e&&(e?f.promote():f.relegate()||jv.postRender(()=>{let a=f.getStack();a&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),kh.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c}=this.props,{projection:d}=a;nb=!0,d&&(d.scheduleCheckAfterUnmount(),b&&b.group&&b.group.remove(d),c&&c.deregister&&c.deregister(d))}safeToRemove(){let{safeToRemove:a}=this.props;a&&a()}render(){return null}}function nd(a){let[b,c]=m9(),d=(0,m8.useContext)(kX);return(0,P.jsx)(nc,{...a,layoutGroup:d,switchLayoutGroup:(0,m8.useContext)(le),isPresent:b,safeToRemove:c})}function ne(a){return"object"==typeof a&&null!==a}function nf(a){return ne(a)&&"ownerSVGElement"in a}let ng=(a,b)=>a.depth-b.depth;class nh{constructor(){this.children=[],this.isDirty=!1}add(a){kb(this.children,a),this.isDirty=!0}remove(a){kc(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(ng),this.isDirty=!1,this.children.forEach(a)}}let ni=["TopLeft","TopRight","BottomLeft","BottomRight"],nj=ni.length,nk=a=>"string"==typeof a?parseFloat(a):a,nl=a=>"number"==typeof a||jd.test(a);function nm(a,b){return void 0!==a[b]?a[b]:a.borderRadius}let nn=np(0,.5,l1),no=np(.5,.95,jr);function np(a,b,c){return d=>d<a?0:d>b?1:c(l6(a,b,d))}function nq(a,b){a.min=b.min,a.max=b.max}function nr(a,b){nq(a.x,b.x),nq(a.y,b.y)}function ns(a,b){a.translate=b.translate,a.scale=b.scale,a.originPoint=b.originPoint,a.origin=b.origin}function nt(a,b,c,d,e){return a-=b,a=d+1/c*(a-d),void 0!==e&&(a=d+1/e*(a-d)),a}function nu(a,b,[c,d,e],f,g){!function(a,b=0,c=1,d=.5,e,f=a,g=a){if(jc.test(b)&&(b=parseFloat(b),b=iV(g.min,g.max,b/100)-g.min),"number"!=typeof b)return;let h=iV(f.min,f.max,d);a===f&&(h-=b),a.min=nt(a.min,b,c,h,e),a.max=nt(a.max,b,c,h,e)}(a,b[c],b[d],b[e],b.scale,f,g)}let nv=["x","scaleX","originX"],nw=["y","scaleY","originY"];function nx(a,b,c,d){nu(a.x,b,nv,c?c.x:void 0,d?d.x:void 0),nu(a.y,b,nw,c?c.y:void 0,d?d.y:void 0)}function ny(a){return 0===a.translate&&1===a.scale}function nz(a){return ny(a.x)&&ny(a.y)}function nA(a,b){return a.min===b.min&&a.max===b.max}function nB(a,b){return Math.round(a.min)===Math.round(b.min)&&Math.round(a.max)===Math.round(b.max)}function nC(a,b){return nB(a.x,b.x)&&nB(a.y,b.y)}function nD(a){return mO(a.x)/mO(a.y)}function nE(a,b){return a.translate===b.translate&&a.scale===b.scale&&a.originPoint===b.originPoint}class nF{constructor(){this.members=[]}add(a){kb(this.members,a),a.scheduleRender()}remove(a){if(kc(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){let a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(a){let b,c=this.members.findIndex(b=>a===b);if(0===c)return!1;for(let a=c;a>=0;a--){let c=this.members[a];if(!1!==c.isPresent){b=c;break}}return!!b&&(this.promote(b),!0)}promote(a,b){let c=this.lead;if(a!==c&&(this.prevLead=c,this.lead=a,a.show(),c)){c.instance&&c.scheduleRender(),a.scheduleRender(),a.resumeFrom=c,b&&(a.resumeFrom.preserveOpacity=!0),c.snapshot&&(a.snapshot=c.snapshot,a.snapshot.latestValues=c.animationValues||c.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);let{crossfade:d}=a.options;!1===d&&c.hide()}}exitAnimationComplete(){this.members.forEach(a=>{let{options:b,resumingFrom:c}=a;b.onExitComplete&&b.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let nG=["","X","Y","Z"],nH=0;function nI(a,b,c,d){let{latestValues:e}=b;e[a]&&(c[a]=e[a],b.setStaticValue(a,0),d&&(d[a]=0))}function nJ({attachResizeListener:a,defaultParent:b,measureScroll:c,checkIsScrollRoot:d,resetTransform:e}){return class{constructor(a={},c=b?.()){this.id=nH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nM),this.nodes.forEach(nT),this.nodes.forEach(nU),this.nodes.forEach(nN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new nh)}addEventListener(a,b){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new kd),this.eventHandlers.get(a).add(b)}notifyListeners(a,...b){let c=this.eventHandlers.get(a);c&&c.notify(...b)}hasListeners(a){return this.eventHandlers.has(a)}mount(b){if(this.instance)return;this.isSVG=nf(b)&&!(nf(b)&&"svg"===b.tagName),this.instance=b;let{layoutId:c,layout:d,visualElement:e}=this.options;if(e&&!e.current&&e.mount(b),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),a){let c,d=0,e=()=>this.root.updateBlockedByResize=!1;jv.read(()=>{d=window.innerWidth}),a(b,()=>{let a=window.innerWidth;if(a!==d){let b,f;d=a,this.root.updateBlockedByResize=!0,c&&c(),b=ka.now(),f=({timestamp:a})=>{let c=a-b;c>=250&&(jw(f),e(c-250))},jv.setup(f,!0),c=()=>jw(f),na.hasAnimatedSinceResize&&(na.hasAnimatedSinceResize=!1,this.nodes.forEach(nS))}})}c&&this.root.registerSharedNode(c,this),!1!==this.options.animate&&e&&(c||d)&&this.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b,hasRelativeLayoutChanged:c,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let f=this.options.transition||e.getDefaultTransition()||n$,{onLayoutAnimationStart:g,onLayoutAnimationComplete:h}=e.getProps(),i=!this.targetLayout||!nC(this.targetLayout,d),j=!b&&c;if(this.options.layoutRoot||this.resumeFrom||j||b&&(i||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let b={...li(f,"layout"),onPlay:g,onComplete:h};(e.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(a,j)}else b||nS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jw(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nV),this.animationId++)}getTransformTemplate(){let{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function a(b){if(b.hasCheckedOptimisedAppear=!0,b.root===b)return;let{visualElement:c}=b.options;if(!c)return;let d=c.props[ld];if(window.MotionHasOptimisedAnimation(d,"transform")){let{layout:a,layoutId:c}=b.options;window.MotionCancelOptimisedAnimation(d,"transform",jv,!(a||c))}let{parent:e}=b;e&&!e.hasCheckedOptimisedAppear&&a(e)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){let b=this.path[a];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}let{layoutId:b,layout:c}=this.options;if(void 0===b&&!c)return;let d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nP);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(nQ);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nR),this.nodes.forEach(nK),this.nodes.forEach(nL)):this.nodes.forEach(nQ),this.clearAllSnapshots();let a=ka.now();jx.delta=i6(0,1e3/60,a-jx.timestamp),jx.timestamp=a,jx.isProcessing=!0,jy.update.process(jx),jy.preRender.process(jx),jy.render.process(jx),jx.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nO),this.sharedNodes.forEach(nW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jv.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jv.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||mO(this.snapshot.measuredBox.x)||mO(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();let a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(b=!1),b&&this.instance){let b=d(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:b,offset:c(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!e)return;let a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!nz(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(b||iY(this.latestValues)||f)&&(e(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){var b;let c=this.measurePageBox(),d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),n1((b=d).x),n1(b.y),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:a}=this.options;if(!a)return kn();let b=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(n3))){let{scroll:a}=this.root;a&&(i1(b.x,a.offset.x),i1(b.y,a.offset.y))}return b}removeElementScroll(a){let b=kn();if(nr(b,a),this.scroll?.wasRoot)return b;for(let c=0;c<this.path.length;c++){let d=this.path[c],{scroll:e,options:f}=d;d!==this.root&&e&&f.layoutScroll&&(e.wasRoot&&nr(b,a),i1(b.x,e.offset.x),i1(b.y,e.offset.y))}return b}applyTransform(a,b=!1){let c=kn();nr(c,a);for(let a=0;a<this.path.length;a++){let d=this.path[a];!b&&d.options.layoutScroll&&d.scroll&&d!==d.root&&i3(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),iY(d.latestValues)&&i3(c,d.latestValues)}return iY(this.latestValues)&&i3(c,this.latestValues),c}removeTransform(a){let b=kn();nr(b,a);for(let a=0;a<this.path.length;a++){let c=this.path[a];if(!c.instance||!iY(c.latestValues))continue;iX(c.latestValues)&&c.updateSnapshot();let d=kn();nr(d,c.measurePageBox()),nx(b,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return iY(this.latestValues)&&nx(b,this.latestValues),b}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:void 0===a.crossfade||a.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jx.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){let b=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=b.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=b.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=b.isSharedProjectionDirty);let c=!!this.resumingFrom||this!==b;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:d,layoutId:e}=this.options;if(!this.layout||!(d||e))return;this.resolvedRelativeTargetAt=jx.timestamp;let f=this.getClosestProjectingParent();if(f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=kn(),this.targetWithTransforms=kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var g,h,i;this.forceRelativeParentToResolveTarget(),g=this.target,h=this.relativeTarget,i=this.relativeParent.target,mR(g.x,h.x,i.x),mR(g.y,h.y,i.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),i0(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&1!==this.animationProgress?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||iX(this.parent.latestValues)||iZ(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,b,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),mT(this.relativeTargetOrigin,b,c),nr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let a=this.getLead(),b=!!this.resumingFrom||this!==a,c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),b&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===jx.timestamp&&(c=!1),c)return;let{layout:d,layoutId:e}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||e))return;nr(this.layoutCorrected,this.layout.layoutBox);let f=this.treeScale.x,g=this.treeScale.y;!function(a,b,c,d=!1){let e,f,g=c.length;if(g){b.x=b.y=1;for(let h=0;h<g;h++){f=(e=c[h]).projectionDelta;let{visualElement:g}=e.options;(!g||!g.props.style||"contents"!==g.props.style.display)&&(d&&e.options.layoutScroll&&e.scroll&&e!==e.root&&i3(a,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),f&&(b.x*=f.x.scale,b.y*=f.y.scale,i0(a,f)),d&&iY(e.latestValues)&&i3(a,e.latestValues))}b.x<1.0000000000001&&b.x>.999999999999&&(b.x=1),b.y<1.0000000000001&&b.y>.999999999999&&(b.y=1)}}(this.layoutCorrected,this.treeScale,this.path,b),a.layout&&!a.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=kn());let{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(ns(this.prevProjectionDelta.x,this.projectionDelta.x),ns(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),mQ(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.treeScale.x===f&&this.treeScale.y===g&&nE(this.projectionDelta.x,this.prevProjectionDelta.x)&&nE(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){let a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kl(),this.projectionDelta=kl(),this.projectionDeltaWithTransform=kl()}setAnimationOrigin(a,b=!1){let c,d=this.snapshot,e=d?d.latestValues:{},f={...this.latestValues},g=kl();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;let h=kn(),i=(d?d.source:void 0)!==(this.layout?this.layout.source:void 0),j=this.getStack(),k=!j||j.members.length<=1,l=!!(i&&!k&&!0===this.options.crossfade&&!this.path.some(nZ));this.animationProgress=0,this.mixTargetDelta=b=>{let d=b/1e3;if(nX(g.x,a.x,d),nX(g.y,a.y,d),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var j,m,n,o,p,q;mT(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n=this.relativeTarget,o=this.relativeTargetOrigin,p=h,q=d,nY(n.x,o.x,p.x,q),nY(n.y,o.y,p.y,q),c&&(j=this.relativeTarget,m=c,nA(j.x,m.x)&&nA(j.y,m.y))&&(this.isProjectionDirty=!1),c||(c=kn()),nr(c,this.relativeTarget)}i&&(this.animationValues=f,function(a,b,c,d,e,f){e?(a.opacity=iV(0,c.opacity??1,nn(d)),a.opacityExit=iV(b.opacity??1,0,no(d))):f&&(a.opacity=iV(b.opacity??1,c.opacity??1,d));for(let e=0;e<nj;e++){let f=`border${ni[e]}Radius`,g=nm(b,f),h=nm(c,f);(void 0!==g||void 0!==h)&&(g||(g=0),h||(h=0),0===g||0===h||nl(g)===nl(h)?(a[f]=Math.max(iV(nk(g),nk(h),d),0),(jc.test(h)||jc.test(g))&&(a[f]+="%")):a[f]=h)}(b.rotate||c.rotate)&&(a.rotate=iV(b.rotate||0,c.rotate||0,d))}(f,e,this.latestValues,d,l,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=d},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(jw(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jv.update(()=>{var b,c,d;let e;na.hasAnimatedSinceResize=!0,lp.layout++,this.motionValue||(this.motionValue=kf(0)),this.currentAnimation=(b=this.motionValue,c=[0,1e3],d={...a,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),a.onUpdate&&a.onUpdate(b)},onStop:()=>{lp.layout--},onComplete:()=>{lp.layout--,a.onComplete&&a.onComplete(),this.completeAnimation()}},(e=j8(b)?b:kf(b)).start(mx("",e,c,d)),e.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let a=this.getLead(),{targetWithTransforms:b,target:c,layout:d,latestValues:e}=a;if(b&&c&&d){if(this!==a&&this.layout&&d&&n2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||kn();let b=mO(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+b;let d=mO(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+d}nr(b,c),i3(b,e),mQ(this.projectionDeltaWithTransform,this.layoutCorrected,b,e)}}registerSharedNode(a,b){this.sharedNodes.has(a)||this.sharedNodes.set(a,new nF),this.sharedNodes.get(a).add(b);let c=b.options.initialPromotionConfig;b.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(b):void 0})}isLead(){let a=this.getStack();return!a||a.lead===this}getLead(){let{layoutId:a}=this.options;return a&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:b,preserveFollowOpacity:c}={}){let d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){let a=this.getStack();return!!a&&a.relegate(this)}resetSkewAndRotation(){let{visualElement:a}=this.options;if(!a)return;let b=!1,{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(b=!0),!b)return;let d={};c.z&&nI("z",a,d,this.animationValues);for(let b=0;b<nG.length;b++)nI(`rotate${nG[b]}`,a,d,this.animationValues),nI(`skew${nG[b]}`,a,d,this.animationValues);for(let b in a.render(),d)a.setStaticValue(b,d[b]),this.animationValues&&(this.animationValues[b]=d[b]);a.scheduleRender()}applyProjectionStyles(a,b){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}let c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=k7(b?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}let d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,a.pointerEvents=k7(b?.pointerEvents)||""),this.hasProjected&&!iY(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";let e=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=function(a,b,c){let d="",e=a.x.translate/b.x,f=a.y.translate/b.y,g=c?.z||0;if((e||f||g)&&(d=`translate3d(${e}px, ${f}px, ${g}px) `),(1!==b.x||1!==b.y)&&(d+=`scale(${1/b.x}, ${1/b.y}) `),c){let{transformPerspective:a,rotate:b,rotateX:e,rotateY:f,skewX:g,skewY:h}=c;a&&(d=`perspective(${a}px) ${d}`),b&&(d+=`rotate(${b}deg) `),e&&(d+=`rotateX(${e}deg) `),f&&(d+=`rotateY(${f}deg) `),g&&(d+=`skewX(${g}deg) `),h&&(d+=`skewY(${h}deg) `)}let h=a.x.scale*b.x,i=a.y.scale*b.y;return(1!==h||1!==i)&&(d+=`scale(${h}, ${i})`),d||"none"}(this.projectionDeltaWithTransform,this.treeScale,e);c&&(f=c(e,f)),a.transform=f;let{x:g,y:h}=this.projectionDelta;for(let b in a.transformOrigin=`${100*g.origin}% ${100*h.origin}% 0`,d.animationValues?a.opacity=d===this?e.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:e.opacityExit:a.opacity=d===this?void 0!==e.opacity?e.opacity:"":void 0!==e.opacityExit?e.opacityExit:0,kJ){if(void 0===e[b])continue;let{correct:c,applyTo:g,isCSSVariable:h}=kJ[b],i="none"===f?e[b]:c(e[b],d);if(g){let b=g.length;for(let c=0;c<b;c++)a[g[c]]=i}else h?this.options.visualElement.renderState.vars[b]=i:a[b]=i}this.options.layoutId&&(a.pointerEvents=d===this?k7(b?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(nP),this.root.sharedNodes.clear()}}}function nK(a){a.updateLayout()}function nL(a){let b=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&b&&a.hasListeners("didUpdate")){let{layoutBox:c,measuredBox:d}=a.layout,{animationType:e}=a.options,f=b.source!==a.layout.source;"size"===e?mU(a=>{let d=f?b.measuredBox[a]:b.layoutBox[a],e=mO(d);d.min=c[a].min,d.max=d.min+e}):n2(e,b.layoutBox,c)&&mU(d=>{let e=f?b.measuredBox[d]:b.layoutBox[d],g=mO(c[d]);e.max=e.min+g,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[d].max=a.relativeTarget[d].min+g)});let g=kl();mQ(g,c,b.layoutBox);let h=kl();f?mQ(h,a.applyTransform(d,!0),b.measuredBox):mQ(h,c,b.layoutBox);let i=!nz(g),j=!1;if(!a.resumeFrom){let d=a.getClosestProjectingParent();if(d&&!d.resumeFrom){let{snapshot:e,layout:f}=d;if(e&&f){let g=kn();mT(g,b.layoutBox,e.layoutBox);let h=kn();mT(h,c,f.layoutBox),nC(g,h)||(j=!0),d.options.layoutRoot&&(a.relativeTarget=h,a.relativeTargetOrigin=g,a.relativeParent=d)}}}a.notifyListeners("didUpdate",{layout:c,snapshot:b,delta:h,layoutDelta:g,hasLayoutChanged:i,hasRelativeLayoutChanged:j})}else if(a.isLead()){let{onExitComplete:b}=a.options;b&&b()}a.options.transition=void 0}function nM(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function nN(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function nO(a){a.clearSnapshot()}function nP(a){a.clearMeasurements()}function nQ(a){a.isLayoutDirty=!1}function nR(a){let{visualElement:b}=a.options;b&&b.getProps().onBeforeLayoutMeasure&&b.notify("BeforeLayoutMeasure"),a.resetTransform()}function nS(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function nT(a){a.resolveTargetDelta()}function nU(a){a.calcProjection()}function nV(a){a.resetSkewAndRotation()}function nW(a){a.removeLeadSnapshot()}function nX(a,b,c){a.translate=iV(b.translate,0,c),a.scale=iV(b.scale,1,c),a.origin=b.origin,a.originPoint=b.originPoint}function nY(a,b,c,d){a.min=iV(b.min,c.min,d),a.max=iV(b.max,c.max,d)}function nZ(a){return a.animationValues&&void 0!==a.animationValues.opacityExit}let n$={duration:.45,ease:[.4,0,.1,1]},n_=a=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),n0=n_("applewebkit/")&&!n_("chrome/")?Math.round:jr;function n1(a){a.min=n0(a.min),a.max=n0(a.max)}function n2(a,b,c){return"position"===a||"preserve-aspect"===a&&!(.2>=Math.abs(nD(b)-nD(c)))}function n3(a){return a!==a.root&&a.scroll?.wasRoot}let n4=nJ({attachResizeListener:(a,b)=>mK(a,"resize",b),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),n5={current:void 0},n6=nJ({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!n5.current){let a=new n4({});a.mount(window),a.setOptions({layoutScroll:!0}),n5.current=a}return n5.current},resetTransform:(a,b)=>{a.style.transform=void 0!==b?b:"none"},checkIsScrollRoot:a=>"fixed"===window.getComputedStyle(a).position});function n7(a,b){let c=function(a,b,c){if(a instanceof EventTarget)return[a];if("string"==typeof a){let b=document,c=(void 0)??b.querySelectorAll(a);return c?Array.from(c):[]}return Array.from(a)}(a),d=new AbortController;return[c,{passive:!0,...b,signal:d.signal},()=>d.abort()]}function n8(a){return!("touch"===a.pointerType||mJ.x||mJ.y)}function n9(a,b,c){let{props:d}=a;a.animationState&&d.whileHover&&a.animationState.setActive("whileHover","Start"===c);let e=d["onHover"+c];e&&jv.postRender(()=>e(b,mM(b)))}function oa(a){return ne(a)&&"offsetHeight"in a}let ob=(a,b)=>!!b&&(a===b||ob(a,b.parentElement)),oc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),od=new WeakSet;function oe(a){return b=>{"Enter"===b.key&&a(b)}}function of(a,b){a.dispatchEvent(new PointerEvent("pointer"+b,{isPrimary:!0,bubbles:!0}))}function og(a){return mL(a)&&!(mJ.x||mJ.y)}function oh(a,b,c){let{props:d}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&d.whileTap&&a.animationState.setActive("whileTap","Start"===c);let e=d["onTap"+("End"===c?"":c)];e&&jv.postRender(()=>e(b,mM(b)))}let oi=new WeakMap,oj=new WeakMap,ok=a=>{let b=oi.get(a.target);b&&b(a)},ol=a=>{a.forEach(ok)},om={some:0,all:1},on=function(a,b){if("undefined"==typeof Proxy)return lg;let c=new Map,d=(c,d)=>lg(c,d,a,b);return new Proxy((a,b)=>d(a,b),{get:(e,f)=>"create"===f?d:(c.has(f)||c.set(f,lg(f,void 0,a,b)),c.get(f))})}({animation:{Feature:class extends mH{constructor(a){super(a),a.animationState||(a.animationState=function(a){let b=b=>Promise.all(b.map(({animation:b,options:c})=>(function(a,b,c={}){let d;if(a.notify("AnimationStart",b),Array.isArray(b))d=Promise.all(b.map(b=>mA(a,b,c)));else if("string"==typeof b)d=mA(a,b,c);else{let e="function"==typeof b?lh(a,b,c.custom):b;d=Promise.all(my(a,e,c))}return d.then(()=>{a.notify("AnimationComplete",b)})})(a,b,c))),c=mG(),d=!0,e=b=>(c,d)=>{let e=lh(a,d,"exit"===b?a.presenceContext?.custom:void 0);if(e){let{transition:a,transitionEnd:b,...d}=e;c={...c,...d,...b}}return c};function f(f){let{props:g}=a,h=function a(b){if(!b)return;if(!b.isControllingVariants){let c=b.parent&&a(b.parent)||{};return void 0!==b.props.initial&&(c.initial=b.props.initial),c}let c={};for(let a=0;a<mC;a++){let d=ku[a],e=b.props[d];(ks(e)||!1===e)&&(c[d]=e)}return c}(a.parent)||{},i=[],j=new Set,k={},l=1/0;for(let b=0;b<mE;b++){var m,n;let o=mD[b],p=c[o],q=void 0!==g[o]?g[o]:h[o],r=ks(q),s=o===f?p.isActive:null;!1===s&&(l=b);let t=q===h[o]&&q!==g[o]&&r;if(t&&d&&a.manuallyAnimateOnMount&&(t=!1),p.protectedKeys={...k},!p.isActive&&null===s||!q&&!p.prevProp||kr(q)||"boolean"==typeof q)continue;let u=(m=p.prevProp,"string"==typeof(n=q)?n!==m:!!Array.isArray(n)&&!mB(n,m)),v=u||o===f&&p.isActive&&!t&&r||b>l&&r,w=!1,x=Array.isArray(q)?q:[q],y=x.reduce(e(o),{});!1===s&&(y={});let{prevResolvedValues:z={}}=p,A={...z,...y},B=b=>{v=!0,j.has(b)&&(w=!0,j.delete(b)),p.needsAnimating[b]=!0;let c=a.getValue(b);c&&(c.liveStyle=!1)};for(let a in A){let b=y[a],c=z[a];if(!k.hasOwnProperty(a))(lj(b)&&lj(c)?mB(b,c):b===c)?void 0!==b&&j.has(a)?B(a):p.protectedKeys[a]=!0:null!=b?B(a):j.add(a)}p.prevProp=q,p.prevResolvedValues=y,p.isActive&&(k={...k,...y}),d&&a.blockInitialAnimation&&(v=!1);let C=t&&u,D=!C||w;v&&D&&i.push(...x.map(b=>{let c={type:o};if("string"==typeof b&&d&&!C&&a.manuallyAnimateOnMount&&a.parent){let{parent:d}=a,e=lh(d,b);if(d.enteringChildren&&e){let{delayChildren:b}=e.transition||{};c.delay=mz(d.enteringChildren,a,b)}}return{animation:b,options:c}}))}if(j.size){let b={};if("boolean"!=typeof g.initial){let c=lh(a,Array.isArray(g.initial)?g.initial[0]:g.initial);c&&c.transition&&(b.transition=c.transition)}j.forEach(c=>{let d=a.getBaseTarget(c),e=a.getValue(c);e&&(e.liveStyle=!0),b[c]=d??null}),i.push({animation:b})}let o=!!i.length;return d&&(!1===g.initial||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(o=!1),d=!1,o?b(i):Promise.resolve()}return{animateChanges:f,setActive:function(b,d){if(c[b].isActive===d)return Promise.resolve();a.variantChildren?.forEach(a=>a.animationState?.setActive(b,d)),c[b].isActive=d;let e=f(b);for(let a in c)c[a].protectedKeys={};return e},setAnimateFunction:function(c){b=c(a)},getState:()=>c,reset:()=>{c=mG()}}}(a))}updateAnimationControlsSubscription(){let{animate:a}=this.node.getProps();kr(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:a}=this.node.getProps(),{animate:b}=this.node.prevProps||{};a!==b&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends mH{constructor(){super(...arguments),this.id=mI++}update(){if(!this.node.presenceContext)return;let{isPresent:a,onExitComplete:b}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===c)return;let d=this.node.animationState.setActive("exit",!a);b&&!a&&d.then(()=>{b(this.id)})}mount(){let{register:a,onExitComplete:b}=this.node.presenceContext||{};b&&b(this.id),a&&(this.unmount=a(this.id))}unmount(){}}},inView:{Feature:class extends mH{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var a;let b;this.unmount();let{viewport:c={}}=this.node.getProps(),{root:d,margin:e,amount:f="some",once:g}=c,h={root:d?d.current:void 0,rootMargin:e,threshold:"number"==typeof f?f:om[f]},i=a=>{let{isIntersecting:b}=a;if(this.isInView===b||(this.isInView=b,g&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);let{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),e=b?c:d;e&&e(a)};return a=this.node.current,b=function({root:a,...b}){let c=a||document;oj.has(c)||oj.set(c,{});let d=oj.get(c),e=JSON.stringify(b);return d[e]||(d[e]=new IntersectionObserver(ol,{root:a,...b})),d[e]}(h),oi.set(a,i),b.observe(a),()=>{oi.delete(a),b.unobserve(a)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:a,prevProps:b}=this.node;["amount","margin","root"].some(function({viewport:a={}},{viewport:b={}}={}){return c=>a[c]!==b[c]}(a,b))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends mH{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=n7(a,c),g=a=>{let d=a.currentTarget;if(!og(a))return;od.add(d);let f=b(d,a),g=(a,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",i),od.has(d)&&od.delete(d),og(a)&&"function"==typeof f&&f(a,{success:b})},h=a=>{g(a,d===window||d===document||c.useGlobalTarget||ob(d,a.target))},i=a=>{g(a,!1)};window.addEventListener("pointerup",h,e),window.addEventListener("pointercancel",i,e)};return d.forEach(a=>{((c.useGlobalTarget?window:a).addEventListener("pointerdown",g,e),oa(a))&&(a.addEventListener("focus",a=>((a,b)=>{let c=a.currentTarget;if(!c)return;let d=oe(()=>{if(od.has(c))return;of(c,"down");let a=oe(()=>{of(c,"up")});c.addEventListener("keyup",a,b),c.addEventListener("blur",()=>of(c,"cancel"),b)});c.addEventListener("keydown",d,b),c.addEventListener("blur",()=>c.removeEventListener("keydown",d),b)})(a,e)),oc.has(a.tagName)||-1!==a.tabIndex||a.hasAttribute("tabindex")||(a.tabIndex=0))}),f}(a,(a,b)=>(oh(this.node,b,"Start"),(a,{success:b})=>oh(this.node,a,b?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends mH{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch(b){a=!0}a&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ln(mK(this.node.current,"focus",()=>this.onFocus()),mK(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends mH{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=n7(a,c),g=a=>{if(!n8(a))return;let{target:c}=a,d=b(c,a);if("function"!=typeof d||!c)return;let f=a=>{n8(a)&&(d(a),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,e)};return d.forEach(a=>{a.addEventListener("pointerenter",g,e)}),f}(a,(a,b)=>(n9(this.node,b,"Start"),a=>n9(this.node,a,"End"))))}unmount(){}}},pan:{Feature:class extends mH{constructor(){super(...arguments),this.removePointerDownListener=jr}onPointerDown(a){this.session=new mX(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mV(this.node)})}createPanHandlers(){let{onPanSessionStart:a,onPanStart:b,onPan:c,onPanEnd:d}=this.node.getProps();return{onSessionStart:m7(a),onStart:m7(b),onMove:c,onEnd:(a,b)=>{delete this.session,d&&jv.postRender(()=>d(a,b))}}}mount(){this.removePointerDownListener=mN(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends mH{constructor(a){super(a),this.removeGroupControls=jr,this.removeListeners=jr,this.controls=new m5(a)}mount(){let{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jr}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:n6,MeasureLayout:nd},layout:{ProjectionNode:n6,MeasureLayout:nd}},(a,b)=>kW(a)?new kU(b):new kM(b,{allowProjection:a!==Q.Fragment}));var oo=Q;function op(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class oq extends oo.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=oa(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function or({children:a,isPresent:b,anchorX:c,root:d}){let e=(0,oo.useId)(),f=(0,oo.useRef)(null),g=(0,oo.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,oo.useContext)(kY),i=function(...a){return Q.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=op(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():op(a[b],null)}}}}(...a),a)}(f,a?.ref);return(0,oo.useInsertionEffect)(()=>{let{width:a,height:i,top:j,left:k,right:l}=g.current;if(b||!f.current||!a||!i)return;let m="left"===c?`left: ${k}`:`right: ${l}`;f.current.dataset.motionPopId=e;let n=document.createElement("style");h&&(n.nonce=h);let o=d??document.head;return o.appendChild(n),n.sheet&&n.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${i}px !important;
            ${m}px !important;
            top: ${j}px !important;
          }
        `),()=>{o.contains(n)&&o.removeChild(n)}},[b]),(0,P.jsx)(oq,{isPresent:b,childRef:f,sizeRef:g,children:oo.cloneElement(a,{ref:i})})}let os=({children:a,initial:b,isPresent:c,onExitComplete:d,custom:e,presenceAffectsLayout:f,mode:g,anchorX:h,root:i})=>{let j=k6(ot),k=(0,Q.useId)(),l=!0,m=(0,Q.useMemo)(()=>(l=!1,{id:k,initial:b,isPresent:c,custom:e,onExitComplete:a=>{for(let b of(j.set(a,!0),j.values()))if(!b)return;d&&d()},register:a=>(j.set(a,!1),()=>j.delete(a))}),[c,j,d]);return f&&l&&(m={...m}),(0,Q.useMemo)(()=>{j.forEach((a,b)=>j.set(b,!1))},[c]),Q.useEffect(()=>{c||j.size||!d||d()},[c]),"popLayout"===g&&(a=(0,P.jsx)(or,{isPresent:c,anchorX:h,root:i,children:a})),(0,P.jsx)(k5.Provider,{value:m,children:a})};function ot(){return new Map}let ou=a=>a.key||"";function ov(a){let b=[];return Q.Children.forEach(a,a=>{(0,Q.isValidElement)(a)&&b.push(a)}),b}let ow=({children:a,custom:b,initial:c=!0,onExitComplete:d,presenceAffectsLayout:e=!0,mode:f="sync",propagate:g=!1,anchorX:h="left",root:i})=>{let[j,k]=m9(g),l=(0,Q.useMemo)(()=>ov(a),[a]),m=g&&!j?[]:l.map(ou),n=(0,Q.useRef)(!0),o=(0,Q.useRef)(l),p=k6(()=>new Map),[q,r]=(0,Q.useState)(l),[s,t]=(0,Q.useState)(l);lf(()=>{n.current=!1,o.current=l;for(let a=0;a<s.length;a++){let b=ou(s[a]);m.includes(b)?p.delete(b):!0!==p.get(b)&&p.set(b,!1)}},[s,m.length,m.join("-")]);let u=[];if(l!==q){let a=[...l];for(let b=0;b<s.length;b++){let c=s[b],d=ou(c);m.includes(d)||(a.splice(b,0,c),u.push(c))}return"wait"===f&&u.length&&(a=u),t(ov(a)),r(l),null}let{forceRender:v}=(0,Q.useContext)(kX);return(0,P.jsx)(P.Fragment,{children:s.map(a=>{let q=ou(a),r=(!g||!!j)&&(l===s||m.includes(q));return(0,P.jsx)(os,{isPresent:r,initial:(!n.current||!!c)&&void 0,custom:b,presenceAffectsLayout:e,mode:f,root:i,onExitComplete:r?void 0:()=>{if(!p.has(q))return;p.set(q,!0);let a=!0;p.forEach(b=>{b||(a=!1)}),a&&(v?.(),t(o.current),g&&k?.(),d&&d())},anchorX:h,children:a},q)})})};function ox({players:a,currentPlayerId:b}){let c=[...a].sort((a,b)=>b.score-a.score),d=null,e=0,f=c.map((a,b)=>{let c=a.score===d?e:b+1;return d=a.score,e=c,{...a,rank:c}});return(0,P.jsxs)(bm,{className:"border-2 border-primary/20 shadow-xl",children:[(0,P.jsx)(bn,{children:(0,P.jsx)(bo,{children:"Bng xp hng"})}),(0,P.jsx)(bq,{className:"space-y-2 max-h-96 overflow-y-auto",children:(0,P.jsx)(ow,{children:f.map(a=>{let c=a.id===b;return(0,P.jsxs)(on.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:a2("flex justify-between items-center px-4 py-3 rounded-lg transition-all duration-200",1===a.rank&&"bg-yellow-500/20 border-2 border-yellow-500",2===a.rank&&"bg-gray-400/20 border-2 border-gray-400",3===a.rank&&"bg-orange-600/20 border-2 border-orange-600",a.rank>3&&"bg-muted/50",c&&"ring-2 ring-primary ring-offset-2"),children:[(0,P.jsxs)("div",{className:"flex items-center gap-3",children:[(0,P.jsx)("span",{className:"text-xl font-bold",children:1===a.rank?"":2===a.rank?"":3===a.rank?"":`#${a.rank}`}),(0,P.jsx)("span",{className:a2("font-medium",c&&"text-primary font-bold"),children:a.name})]}),(0,P.jsxs)("span",{className:"text-lg font-bold",children:[a.score," im"]})]},a.id||a.name)})})})]})}function oy(a,b,{checkForDefaultPrevented:c=!0}={}){return function(d){if(a?.(d),!1===c||!d.defaultPrevented)return b?.(d)}}var oz=globalThis?.document?Q.useLayoutEffect:()=>{},oA=Q["useId".toString()]||(()=>void 0),oB=0;function oC(a){let[b,c]=Q.useState(oA());return oz(()=>{a||c(a=>a??String(oB++))},[a]),a||(b?`radix-${b}`:"")}function oD(a){let b=Q.useRef(a);return Q.useEffect(()=>{b.current=a}),Q.useMemo(()=>(...a)=>b.current?.(...a),[])}var oE=a.i(59947),oF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((a,b)=>{let c=Q.forwardRef((a,c)=>{let{asChild:d,...e}=a,f=d?be:b;return(0,P.jsx)(f,{...e,ref:c})});return c.displayName=`Primitive.${b}`,{...a,[b]:c}},{}),oG="dismissableLayer.update",oH=Q.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oI=Q.forwardRef((a,b)=>{let{disableOutsidePointerEvents:c=!1,onEscapeKeyDown:d,onPointerDownOutside:e,onFocusOutside:f,onInteractOutside:g,onDismiss:h,...i}=a,j=Q.useContext(oH),[k,l]=Q.useState(null),m=k?.ownerDocument??globalThis?.document,[,n]=Q.useState({}),o=bd(b,a=>l(a)),p=Array.from(j.layers),[q]=[...j.layersWithOutsidePointerEventsDisabled].slice(-1),r=p.indexOf(q),s=k?p.indexOf(k):-1,t=j.layersWithOutsidePointerEventsDisabled.size>0,u=s>=r,v=function(a,b=globalThis?.document){let c=oD(a),d=Q.useRef(!1),e=Q.useRef(()=>{});return Q.useEffect(()=>{let a=a=>{if(a.target&&!d.current){let d=function(){oK("dismissableLayer.pointerDownOutside",c,f,{discrete:!0})},f={originalEvent:a};"touch"===a.pointerType?(b.removeEventListener("click",e.current),e.current=d,b.addEventListener("click",e.current,{once:!0})):d()}else b.removeEventListener("click",e.current);d.current=!1},f=window.setTimeout(()=>{b.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(f),b.removeEventListener("pointerdown",a),b.removeEventListener("click",e.current)}},[b,c]),{onPointerDownCapture:()=>d.current=!0}}(a=>{let b=a.target,c=[...j.branches].some(a=>a.contains(b));u&&!c&&(e?.(a),g?.(a),a.defaultPrevented||h?.())},m),w=function(a,b=globalThis?.document){let c=oD(a),d=Q.useRef(!1);return Q.useEffect(()=>{let a=a=>{a.target&&!d.current&&oK("dismissableLayer.focusOutside",c,{originalEvent:a},{discrete:!1})};return b.addEventListener("focusin",a),()=>b.removeEventListener("focusin",a)},[b,c]),{onFocusCapture:()=>d.current=!0,onBlurCapture:()=>d.current=!1}}(a=>{let b=a.target;![...j.branches].some(a=>a.contains(b))&&(f?.(a),g?.(a),a.defaultPrevented||h?.())},m);return!function(a,b=globalThis?.document){let c=oD(a);Q.useEffect(()=>{let a=a=>{"Escape"===a.key&&c(a)};return b.addEventListener("keydown",a,{capture:!0}),()=>b.removeEventListener("keydown",a,{capture:!0})},[c,b])}(a=>{s===j.layers.size-1&&(d?.(a),!a.defaultPrevented&&h&&(a.preventDefault(),h()))},m),Q.useEffect(()=>{if(k)return c&&(0===j.layersWithOutsidePointerEventsDisabled.size&&(N=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),j.layersWithOutsidePointerEventsDisabled.add(k)),j.layers.add(k),oJ(),()=>{c&&1===j.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=N)}},[k,m,c,j]),Q.useEffect(()=>()=>{k&&(j.layers.delete(k),j.layersWithOutsidePointerEventsDisabled.delete(k),oJ())},[k,j]),Q.useEffect(()=>{let a=()=>n({});return document.addEventListener(oG,a),()=>document.removeEventListener(oG,a)},[]),(0,P.jsx)(oF.div,{...i,ref:o,style:{pointerEvents:t?u?"auto":"none":void 0,...a.style},onFocusCapture:oy(a.onFocusCapture,w.onFocusCapture),onBlurCapture:oy(a.onBlurCapture,w.onBlurCapture),onPointerDownCapture:oy(a.onPointerDownCapture,v.onPointerDownCapture)})});function oJ(){let a=new CustomEvent(oG);document.dispatchEvent(a)}function oK(a,b,c,{discrete:d}){let e=c.originalEvent.target,f=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:c});if(b&&e.addEventListener(a,b,{once:!0}),d)e&&oE.flushSync(()=>e.dispatchEvent(f));else e.dispatchEvent(f)}oI.displayName="DismissableLayer",Q.forwardRef((a,b)=>{let c=Q.useContext(oH),d=Q.useRef(null),e=bd(b,d);return Q.useEffect(()=>{let a=d.current;if(a)return c.branches.add(a),()=>{c.branches.delete(a)}},[c.branches]),(0,P.jsx)(oF.div,{...a,ref:e})}).displayName="DismissableLayerBranch";var oL="focusScope.autoFocusOnMount",oM="focusScope.autoFocusOnUnmount",oN={bubbles:!1,cancelable:!0},oO=Q.forwardRef((a,b)=>{let{loop:c=!1,trapped:d=!1,onMountAutoFocus:e,onUnmountAutoFocus:f,...g}=a,[h,i]=Q.useState(null),j=oD(e),k=oD(f),l=Q.useRef(null),m=bd(b,a=>i(a)),n=Q.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Q.useEffect(()=>{if(d){let a=function(a){if(n.paused||!h)return;let b=a.target;h.contains(b)?l.current=b:oR(l.current,{select:!0})},b=function(a){if(n.paused||!h)return;let b=a.relatedTarget;null!==b&&(h.contains(b)||oR(l.current,{select:!0}))};document.addEventListener("focusin",a),document.addEventListener("focusout",b);let c=new MutationObserver(function(a){if(document.activeElement===document.body)for(let b of a)b.removedNodes.length>0&&oR(h)});return h&&c.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",a),document.removeEventListener("focusout",b),c.disconnect()}}},[d,h,n.paused]),Q.useEffect(()=>{if(h){oS.add(n);let a=document.activeElement;if(!h.contains(a)){let b=new CustomEvent(oL,oN);h.addEventListener(oL,j),h.dispatchEvent(b),b.defaultPrevented||(function(a,{select:b=!1}={}){let c=document.activeElement;for(let d of a)if(oR(d,{select:b}),document.activeElement!==c)return}(oP(h).filter(a=>"A"!==a.tagName),{select:!0}),document.activeElement===a&&oR(h))}return()=>{h.removeEventListener(oL,j),setTimeout(()=>{let b=new CustomEvent(oM,oN);h.addEventListener(oM,k),h.dispatchEvent(b),b.defaultPrevented||oR(a??document.body,{select:!0}),h.removeEventListener(oM,k),oS.remove(n)},0)}}},[h,j,k,n]);let o=Q.useCallback(a=>{if(!c&&!d||n.paused)return;let b="Tab"===a.key&&!a.altKey&&!a.ctrlKey&&!a.metaKey,e=document.activeElement;if(b&&e){var f;let b,d=a.currentTarget,[g,h]=[oQ(b=oP(f=d),f),oQ(b.reverse(),f)];g&&h?a.shiftKey||e!==h?a.shiftKey&&e===g&&(a.preventDefault(),c&&oR(h,{select:!0})):(a.preventDefault(),c&&oR(g,{select:!0})):e===d&&a.preventDefault()}},[c,d,n.paused]);return(0,P.jsx)(oF.div,{tabIndex:-1,...g,ref:m,onKeyDown:o})});function oP(a){let b=[],c=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{let b="INPUT"===a.tagName&&"hidden"===a.type;return a.disabled||a.hidden||b?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;c.nextNode();)b.push(c.currentNode);return b}function oQ(a,b){for(let c of a)if(!function(a,{upTo:b}){if("hidden"===getComputedStyle(a).visibility)return!0;for(;a&&(void 0===b||a!==b);){if("none"===getComputedStyle(a).display)return!0;a=a.parentElement}return!1}(c,{upTo:b}))return c}function oR(a,{select:b=!1}={}){if(a&&a.focus){var c;let d=document.activeElement;a.focus({preventScroll:!0}),a!==d&&(c=a)instanceof HTMLInputElement&&"select"in c&&b&&a.select()}}oO.displayName="FocusScope";var oS=(A=[],{add(a){let b=A[0];a!==b&&b?.pause(),(A=oT(A,a)).unshift(a)},remove(a){A=oT(A,a),A[0]?.resume()}});function oT(a,b){let c=[...a],d=c.indexOf(b);return -1!==d&&c.splice(d,1),c}var oU=Q.forwardRef((a,b)=>{let{container:c,...d}=a,[e,f]=Q.useState(!1);oz(()=>f(!0),[]);let g=c||e&&globalThis?.document?.body;return g?oE.default.createPortal((0,P.jsx)(oF.div,{...d,ref:b}),g):null});oU.displayName="Portal";var oV=a=>{var b;let c,d,{present:e,children:f}=a,g=function(a){var b,c;let[d,e]=Q.useState(),f=Q.useRef({}),g=Q.useRef(a),h=Q.useRef("none"),[i,j]=(b=a?"mounted":"unmounted",c={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},Q.useReducer((a,b)=>c[a][b]??a,b));return Q.useEffect(()=>{let a=oW(f.current);h.current="mounted"===i?a:"none"},[i]),oz(()=>{let b=f.current,c=g.current;if(c!==a){let d=h.current,e=oW(b);a?j("MOUNT"):"none"===e||b?.display==="none"?j("UNMOUNT"):c&&d!==e?j("ANIMATION_OUT"):j("UNMOUNT"),g.current=a}},[a,j]),oz(()=>{if(d){let a,b=d.ownerDocument.defaultView??window,c=c=>{let e=oW(f.current).includes(c.animationName);if(c.target===d&&e&&(j("ANIMATION_END"),!g.current)){let c=d.style.animationFillMode;d.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===d.style.animationFillMode&&(d.style.animationFillMode=c)})}},e=a=>{a.target===d&&(h.current=oW(f.current))};return d.addEventListener("animationstart",e),d.addEventListener("animationcancel",c),d.addEventListener("animationend",c),()=>{b.clearTimeout(a),d.removeEventListener("animationstart",e),d.removeEventListener("animationcancel",c),d.removeEventListener("animationend",c)}}j("ANIMATION_END")},[d,j]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:Q.useCallback(a=>{a&&(f.current=getComputedStyle(a)),e(a)},[])}}(e),h="function"==typeof f?f({present:g.isPresent}):Q.Children.only(f),i=bd(g.ref,(b=h,(d=(c=Object.getOwnPropertyDescriptor(b.props,"ref")?.get)&&"isReactWarning"in c&&c.isReactWarning)?b.ref:(d=(c=Object.getOwnPropertyDescriptor(b,"ref")?.get)&&"isReactWarning"in c&&c.isReactWarning)?b.props.ref:b.props.ref||b.ref));return"function"==typeof f||g.isPresent?Q.cloneElement(h,{ref:i}):null};function oW(a){return a?.animationName||"none"}oV.displayName="Presence";var oX=0;function oY(){let a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}var oZ=function(){return(oZ=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function o$(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}var o_=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),o0="width-before-scroll-bar";function o1(a,b){return"function"==typeof a?a(b):a&&(a.current=b),a}var o2=Q.useEffect,o3=new WeakMap,o4=(void 0===E&&(E={}),(void 0===F&&(F=function(a){return a}),G=[],H=!1,I={read:function(){if(H)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return G.length?G[G.length-1]:null},useMedium:function(a){var b=F(a,H);return G.push(b),function(){G=G.filter(function(a){return a!==b})}},assignSyncMedium:function(a){for(H=!0;G.length;){var b=G;G=[],b.forEach(a)}G={push:function(b){return a(b)},filter:function(){return G}}},assignMedium:function(a){H=!0;var b=[];if(G.length){var c=G;G=[],c.forEach(a),b=G}var d=function(){var c=b;b=[],c.forEach(a)},e=function(){return Promise.resolve().then(d)};e(),G={push:function(a){b.push(a),e()},filter:function(a){return b=b.filter(a),G}}}}).options=oZ({async:!0,ssr:!1},E),I),o5=function(){},o6=Q.forwardRef(function(a,b){var c,d,e,f,g=Q.useRef(null),h=Q.useState({onScrollCapture:o5,onWheelCapture:o5,onTouchMoveCapture:o5}),i=h[0],j=h[1],k=a.forwardProps,l=a.children,m=a.className,n=a.removeScrollBar,o=a.enabled,p=a.shards,q=a.sideCar,r=a.noRelative,s=a.noIsolation,t=a.inert,u=a.allowPinchZoom,v=a.as,w=a.gapMode,x=o$(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=(c=[g,b],d=function(a){return c.forEach(function(b){return o1(b,a)})},(e=(0,Q.useState)(function(){return{value:null,callback:d,facade:{get current(){return e.value},set current(value){var a=e.value;a!==value&&(e.value=value,e.callback(value,a))}}}})[0]).callback=d,f=e.facade,o2(function(){var a=o3.get(f);if(a){var b=new Set(a),d=new Set(c),e=f.current;b.forEach(function(a){d.has(a)||o1(a,null)}),d.forEach(function(a){b.has(a)||o1(a,e)})}o3.set(f,c)},[c]),f),z=oZ(oZ({},x),i);return Q.createElement(Q.Fragment,null,o&&Q.createElement(q,{sideCar:o4,removeScrollBar:n,shards:p,noRelative:r,noIsolation:s,inert:t,setCallbacks:j,allowPinchZoom:!!u,lockRef:g,gapMode:w}),k?Q.cloneElement(Q.Children.only(l),oZ(oZ({},z),{ref:y})):Q.createElement(void 0===v?"div":v,oZ({},z,{className:m,ref:y}),l))});o6.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},o6.classNames={fullWidth:o0,zeroRight:o_};var o7=function(a){var b=a.sideCar,c=o$(a,["sideCar"]);if(!b)throw Error("Sidecar: please provide `sideCar` property to import the right car");var d=b.read();if(!d)throw Error("Sidecar medium not found");return Q.createElement(d,oZ({},c))};o7.isSideCarExport=!0;var o8=function(){var a=0,b=null;return{add:function(c){if(0==a&&(b=function(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var b=O||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return b&&a.setAttribute("nonce",b),a}())){var d,e;(d=b).styleSheet?d.styleSheet.cssText=c:d.appendChild(document.createTextNode(c)),e=b,(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}a++},remove:function(){--a||!b||(b.parentNode&&b.parentNode.removeChild(b),b=null)}}},o9=function(){var a=o8();return function(b,c){Q.useEffect(function(){return a.add(b),function(){a.remove()}},[b&&c])}},pa=function(){var a=o9();return function(b){return a(b.styles,b.dynamic),null}},pb={left:0,top:0,right:0,gap:0},pc=pa(),pd="data-scroll-locked",pe=function(a,b,c,d){var e=a.left,f=a.top,g=a.right,h=a.gap;return void 0===c&&(c="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(d,";\n   padding-right: ").concat(h,"px ").concat(d,";\n  }\n  body[").concat(pd,"] {\n    overflow: hidden ").concat(d,";\n    overscroll-behavior: contain;\n    ").concat([b&&"position: relative ".concat(d,";"),"margin"===c&&"\n    padding-left: ".concat(e,"px;\n    padding-top: ").concat(f,"px;\n    padding-right: ").concat(g,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(h,"px ").concat(d,";\n    "),"padding"===c&&"padding-right: ".concat(h,"px ").concat(d,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o_," {\n    right: ").concat(h,"px ").concat(d,";\n  }\n  \n  .").concat(o0," {\n    margin-right: ").concat(h,"px ").concat(d,";\n  }\n  \n  .").concat(o_," .").concat(o_," {\n    right: 0 ").concat(d,";\n  }\n  \n  .").concat(o0," .").concat(o0," {\n    margin-right: 0 ").concat(d,";\n  }\n  \n  body[").concat(pd,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(h,"px;\n  }\n")},pf=function(){var a=parseInt(document.body.getAttribute(pd)||"0",10);return isFinite(a)?a:0},pg=function(){Q.useEffect(function(){return document.body.setAttribute(pd,(pf()+1).toString()),function(){var a=pf()-1;a<=0?document.body.removeAttribute(pd):document.body.setAttribute(pd,a.toString())}},[])},ph=function(a){var b=a.noRelative,c=a.noImportant,d=a.gapMode,e=void 0===d?"margin":d;pg();var f=Q.useMemo(function(){return void 0===e,pb},[e]);return Q.createElement(pc,{styles:pe(f,!b,e,c?"":"!important")})},pi=function(a,b){if(!(a instanceof Element))return!1;var c=window.getComputedStyle(a);return"hidden"!==c[b]&&(c.overflowY!==c.overflowX||"TEXTAREA"===a.tagName||"visible"!==c[b])},pj=function(a,b){var c=b.ownerDocument,d=b;do{if("undefined"!=typeof ShadowRoot&&d instanceof ShadowRoot&&(d=d.host),pk(a,d)){var e=pl(a,d);if(e[1]>e[2])return!0}d=d.parentNode}while(d&&d!==c.body)return!1},pk=function(a,b){return"v"===a?pi(b,"overflowY"):pi(b,"overflowX")},pl=function(a,b){return"v"===a?[b.scrollTop,b.scrollHeight,b.clientHeight]:[b.scrollLeft,b.scrollWidth,b.clientWidth]},pm=function(a,b,c,d,e){var f,g=(f=window.getComputedStyle(b).direction,"h"===a&&"rtl"===f?-1:1),h=g*d,i=c.target,j=b.contains(i),k=!1,l=h>0,m=0,n=0;do{if(!i)break;var o=pl(a,i),p=o[0],q=o[1]-o[2]-g*p;(p||q)&&pk(a,i)&&(m+=q,n+=p);var r=i.parentNode;i=r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r.host:r}while(!j&&i!==document.body||j&&(b.contains(i)||b===i))return l&&(e&&1>Math.abs(m)||!e&&h>m)?k=!0:!l&&(e&&1>Math.abs(n)||!e&&-h>n)&&(k=!0),k},pn=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},po=function(a){return[a.deltaX,a.deltaY]},pp=function(a){return a&&"current"in a?a.current:a},pq=0,pr=[];let ps=(J=function(a){var b=Q.useRef([]),c=Q.useRef([0,0]),d=Q.useRef(),e=Q.useState(pq++)[0],f=Q.useState(pa)[0],g=Q.useRef(a);Q.useEffect(function(){g.current=a},[a]),Q.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(e));var b=(function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))})([a.lockRef.current],(a.shards||[]).map(pp),!0).filter(Boolean);return b.forEach(function(a){return a.classList.add("allow-interactivity-".concat(e))}),function(){document.body.classList.remove("block-interactivity-".concat(e)),b.forEach(function(a){return a.classList.remove("allow-interactivity-".concat(e))})}}},[a.inert,a.lockRef.current,a.shards]);var h=Q.useCallback(function(a,b){if("touches"in a&&2===a.touches.length||"wheel"===a.type&&a.ctrlKey)return!g.current.allowPinchZoom;var e,f=pn(a),h=c.current,i="deltaX"in a?a.deltaX:h[0]-f[0],j="deltaY"in a?a.deltaY:h[1]-f[1],k=a.target,l=Math.abs(i)>Math.abs(j)?"h":"v";if("touches"in a&&"h"===l&&"range"===k.type)return!1;var m=window.getSelection(),n=m&&m.anchorNode;if(n&&(n===k||n.contains(k)))return!1;var o=pj(l,k);if(!o)return!0;if(o?e=l:(e="v"===l?"h":"v",o=pj(l,k)),!o)return!1;if(!d.current&&"changedTouches"in a&&(i||j)&&(d.current=e),!e)return!0;var p=d.current||e;return pm(p,b,a,"h"===p?i:j,!0)},[]),i=Q.useCallback(function(a){if(pr.length&&pr[pr.length-1]===f){var c="deltaY"in a?po(a):pn(a),d=b.current.filter(function(b){var d;return b.name===a.type&&(b.target===a.target||a.target===b.shadowParent)&&(d=b.delta,d[0]===c[0]&&d[1]===c[1])})[0];if(d&&d.should){a.cancelable&&a.preventDefault();return}if(!d){var e=(g.current.shards||[]).map(pp).filter(Boolean).filter(function(b){return b.contains(a.target)});(e.length>0?h(a,e[0]):!g.current.noIsolation)&&a.cancelable&&a.preventDefault()}}},[]),j=Q.useCallback(function(a,c,d,e){var f={name:a,delta:c,target:d,should:e,shadowParent:function(a){for(var b=null;null!==a;)a instanceof ShadowRoot&&(b=a.host,a=a.host),a=a.parentNode;return b}(d)};b.current.push(f),setTimeout(function(){b.current=b.current.filter(function(a){return a!==f})},1)},[]),k=Q.useCallback(function(a){c.current=pn(a),d.current=void 0},[]),l=Q.useCallback(function(b){j(b.type,po(b),b.target,h(b,a.lockRef.current))},[]),m=Q.useCallback(function(b){j(b.type,pn(b),b.target,h(b,a.lockRef.current))},[]);Q.useEffect(function(){return pr.push(f),a.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:m}),document.addEventListener("wheel",i,!1),document.addEventListener("touchmove",i,!1),document.addEventListener("touchstart",k,!1),function(){pr=pr.filter(function(a){return a!==f}),document.removeEventListener("wheel",i,!1),document.removeEventListener("touchmove",i,!1),document.removeEventListener("touchstart",k,!1)}},[]);var n=a.removeScrollBar,o=a.inert;return Q.createElement(Q.Fragment,null,o?Q.createElement(f,{styles:"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")}):null,n?Q.createElement(ph,{noRelative:a.noRelative,gapMode:a.gapMode}):null)},o4.useMedium(J),o7);var pt=Q.forwardRef(function(a,b){return Q.createElement(o6,oZ({},a,{ref:b,sideCar:ps}))});pt.classNames=o6.classNames;var pu=new WeakMap,pv=new WeakMap,pw={},px=0,py=function(a){return a&&(a.host||py(a.parentNode))},pz=function(a,b,c,d){var e=(Array.isArray(a)?a:[a]).map(function(a){if(b.contains(a))return a;var c=py(a);return c&&b.contains(c)?c:(console.error("aria-hidden",a,"in not contained inside",b,". Doing nothing"),null)}).filter(function(a){return!!a});pw[c]||(pw[c]=new WeakMap);var f=pw[c],g=[],h=new Set,i=new Set(e),j=function(a){!a||h.has(a)||(h.add(a),j(a.parentNode))};e.forEach(j);var k=function(a){!a||i.has(a)||Array.prototype.forEach.call(a.children,function(a){if(h.has(a))k(a);else try{var b=a.getAttribute(d),e=null!==b&&"false"!==b,i=(pu.get(a)||0)+1,j=(f.get(a)||0)+1;pu.set(a,i),f.set(a,j),g.push(a),1===i&&e&&pv.set(a,!0),1===j&&a.setAttribute(c,"true"),e||a.setAttribute(d,"true")}catch(b){console.error("aria-hidden: cannot operate on ",a,b)}})};return k(b),h.clear(),px++,function(){g.forEach(function(a){var b=pu.get(a)-1,e=f.get(a)-1;pu.set(a,b),f.set(a,e),b||(pv.has(a)||a.removeAttribute(d),pv.delete(a)),e||a.removeAttribute(c)}),--px||(pu=new WeakMap,pu=new WeakMap,pv=new WeakMap,pw={})}},pA=function(a,b,c){void 0===c&&(c="data-aria-hidden");var d=Array.from(Array.isArray(a)?a:[a]),e=b||("undefined"==typeof document?null:(Array.isArray(a)?a[0]:a).ownerDocument.body);return e?(d.push.apply(d,Array.from(e.querySelectorAll("[aria-live], script"))),pz(d,e,c,"aria-hidden")):function(){return null}},pB="Dialog",[pC,pD]=function(a,b=[]){let c=[],d=()=>{let b=c.map(a=>Q.createContext(a));return function(c){let d=c?.[a]||b;return Q.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let e=Q.createContext(d),f=c.length;c=[...c,d];let g=b=>{let{scope:c,children:d,...g}=b,h=c?.[a]?.[f]||e,i=Q.useMemo(()=>g,Object.values(g));return(0,P.jsx)(h.Provider,{value:i,children:d})};return g.displayName=b+"Provider",[g,function(c,g){let h=g?.[a]?.[f]||e,i=Q.useContext(h);if(i)return i;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return Q.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}(pB),[pE,pF]=pC(pB),pG=a=>{let{__scopeDialog:b,children:c,open:d,defaultOpen:e,onOpenChange:f,modal:g=!0}=a,h=Q.useRef(null),i=Q.useRef(null),[j=!1,k]=function({prop:a,defaultProp:b,onChange:c=()=>{}}){let[d,e]=function({defaultProp:a,onChange:b}){let c=Q.useState(a),[d]=c,e=Q.useRef(d),f=oD(b);return Q.useEffect(()=>{e.current!==d&&(f(d),e.current=d)},[d,e,f]),c}({defaultProp:b,onChange:c}),f=void 0!==a,g=f?a:d,h=oD(c);return[g,Q.useCallback(b=>{if(f){let c="function"==typeof b?b(a):b;c!==a&&h(c)}else e(b)},[f,a,e,h])]}({prop:d,defaultProp:e,onChange:f});return(0,P.jsx)(pE,{scope:b,triggerRef:h,contentRef:i,contentId:oC(),titleId:oC(),descriptionId:oC(),open:j,onOpenChange:k,onOpenToggle:Q.useCallback(()=>k(a=>!a),[k]),modal:g,children:c})};pG.displayName=pB;var pH="DialogTrigger";Q.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=pF(pH,c),f=bd(b,e.triggerRef);return(0,P.jsx)(oF.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":p$(e.open),...d,ref:f,onClick:oy(a.onClick,e.onOpenToggle)})}).displayName=pH;var pI="DialogPortal",[pJ,pK]=pC(pI,{forceMount:void 0}),pL=a=>{let{__scopeDialog:b,forceMount:c,children:d,container:e}=a,f=pF(pI,b);return(0,P.jsx)(pJ,{scope:b,forceMount:c,children:Q.Children.map(d,a=>(0,P.jsx)(oV,{present:c||f.open,children:(0,P.jsx)(oU,{asChild:!0,container:e,children:a})}))})};pL.displayName=pI;var pM="DialogOverlay",pN=Q.forwardRef((a,b)=>{let c=pK(pM,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=pF(pM,a.__scopeDialog);return f.modal?(0,P.jsx)(oV,{present:d||f.open,children:(0,P.jsx)(pO,{...e,ref:b})}):null});pN.displayName=pM;var pO=Q.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=pF(pM,c);return(0,P.jsx)(pt,{as:be,allowPinchZoom:!0,shards:[e.contentRef],children:(0,P.jsx)(oF.div,{"data-state":p$(e.open),...d,ref:b,style:{pointerEvents:"auto",...d.style}})})}),pP="DialogContent",pQ=Q.forwardRef((a,b)=>{let c=pK(pP,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=pF(pP,a.__scopeDialog);return(0,P.jsx)(oV,{present:d||f.open,children:f.modal?(0,P.jsx)(pR,{...e,ref:b}):(0,P.jsx)(pS,{...e,ref:b})})});pQ.displayName=pP;var pR=Q.forwardRef((a,b)=>{let c=pF(pP,a.__scopeDialog),d=Q.useRef(null),e=bd(b,c.contentRef,d);return Q.useEffect(()=>{let a=d.current;if(a)return pA(a)},[]),(0,P.jsx)(pT,{...a,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oy(a.onCloseAutoFocus,a=>{a.preventDefault(),c.triggerRef.current?.focus()}),onPointerDownOutside:oy(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:oy(a.onFocusOutside,a=>a.preventDefault())})}),pS=Q.forwardRef((a,b)=>{let c=pF(pP,a.__scopeDialog),d=Q.useRef(!1),e=Q.useRef(!1);return(0,P.jsx)(pT,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(d.current||c.triggerRef.current?.focus(),b.preventDefault()),d.current=!1,e.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(d.current=!0,"pointerdown"===b.detail.originalEvent.type&&(e.current=!0));let f=b.target;c.triggerRef.current?.contains(f)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&e.current&&b.preventDefault()}})}),pT=Q.forwardRef((a,b)=>{let{__scopeDialog:c,trapFocus:d,onOpenAutoFocus:e,onCloseAutoFocus:f,...g}=a,h=pF(pP,c),i=Q.useRef(null),j=bd(b,i);return Q.useEffect(()=>{let a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??oY()),document.body.insertAdjacentElement("beforeend",a[1]??oY()),oX++,()=>{1===oX&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),oX--}},[]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(oO,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:e,onUnmountAutoFocus:f,children:(0,P.jsx)(oI,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":p$(h.open),...g,ref:j,onDismiss:()=>h.onOpenChange(!1)})}),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p2,{titleId:h.titleId}),(0,P.jsx)(p3,{contentRef:i,descriptionId:h.descriptionId})]})]})}),pU="DialogTitle",pV=Q.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=pF(pU,c);return(0,P.jsx)(oF.h2,{id:e.titleId,...d,ref:b})});pV.displayName=pU;var pW="DialogDescription",pX=Q.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=pF(pW,c);return(0,P.jsx)(oF.p,{id:e.descriptionId,...d,ref:b})});pX.displayName=pW;var pY="DialogClose",pZ=Q.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=pF(pY,c);return(0,P.jsx)(oF.button,{type:"button",...d,ref:b,onClick:oy(a.onClick,()=>e.onOpenChange(!1))})});function p$(a){return a?"open":"closed"}pZ.displayName=pY;var p_="DialogTitleWarning",[p0,p1]=(K={contentName:pP,titleName:pU,docsSlug:"dialog"},w=Q.createContext(K),(x=a=>{let{children:b,...c}=a,d=Q.useMemo(()=>c,Object.values(c));return(0,P.jsx)(w.Provider,{value:d,children:b})}).displayName=p_+"Provider",[x,function(a){let b=Q.useContext(w);if(b)return b;if(void 0!==K)return K;throw Error(`\`${a}\` must be used within \`${p_}\``)}]),p2=({titleId:a})=>{let b=p1(p_),c=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return Q.useEffect(()=>{a&&(document.getElementById(a)||console.error(c))},[c,a]),null},p3=({contentRef:a,descriptionId:b})=>{let c=p1("DialogDescriptionWarning"),d=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c.contentName}}.`;return Q.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(d))},[d,a,b]),null};function p4({...a}){return(0,P.jsx)(pG,{"data-slot":"dialog",...a})}function p5({...a}){return(0,P.jsx)(pL,{"data-slot":"dialog-portal",...a})}function p6({className:a,...b}){return(0,P.jsx)(pN,{"data-slot":"dialog-overlay",className:a2("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function p7({className:a,children:b,showCloseButton:c=!0,...d}){return(0,P.jsxs)(p5,{"data-slot":"dialog-portal",children:[(0,P.jsx)(p6,{}),(0,P.jsxs)(pQ,{"data-slot":"dialog-content",className:a2("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...d,children:[b,c&&(0,P.jsxs)(pZ,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,P.jsx)(iu,{}),(0,P.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function p8({className:a,...b}){return(0,P.jsx)("div",{"data-slot":"dialog-header",className:a2("flex flex-col gap-2 text-center sm:text-left",a),...b})}function p9({className:a,...b}){return(0,P.jsx)(pV,{"data-slot":"dialog-title",className:a2("text-lg leading-none font-semibold",a),...b})}function qa({className:a,...b}){return(0,P.jsx)(pX,{"data-slot":"dialog-description",className:a2("text-muted-foreground text-sm",a),...b})}function qb(){let[a,b]=(0,Q.useState)(""),[c,d]=(0,Q.useState)(""),[e,f]=(0,Q.useState)(!1),[g,h]=(0,Q.useState)([]),[i,j]=(0,Q.useState)(!1),[k,l]=(0,Q.useState)(null),[m,n]=(0,Q.useState)(!1),[o,p]=(0,Q.useState)(!1),[q,r]=(0,Q.useState)(!1);(0,Q.useEffect)(()=>{"BO_MAY_LA_ADMIN"===localStorage.getItem("ADMIN_KEY")&&f(!0)},[]),(0,Q.useEffect)(()=>{if(!a)return;let b=ir(a,a=>h(a)),c=ig(a,({status:a,gameStarted:b})=>{p("closed"===a),n(b),r("endGame"===a)});return()=>{b?.(),c?.()}},[a]);let s=async()=>{let{roomCode:a}=await ih();b(a),n(!1),p(!1),r(!1),ir(a,a=>h(a))},t=async()=>{a&&await ii(a)},u=async()=>{a&&(await ik(a),p(!0))},v=async()=>{a&&(await id(a),n(!1),r(!0))},w=async()=>{if(!a||!c.trim())return;let b=await ie(a);b&&"closed"!==b.status?(l(await ij(a,c.trim())),ir(a,a=>h(a)),ig(a,({status:a,gameStarted:b})=>{p("closed"===a),n(b),r("endGame"===a)})):alert("Phng ny  b ng, khng th tham gia.")};return(0,P.jsxs)("div",{className:"mx-auto max-w-2xl space-y-8",children:[!e&&q&&(0,P.jsx)(p4,{open:q,onOpenChange:a=>{a||(b(""),d(""),l(null),h([]),n(!1),p(!1),r(!1))},children:(0,P.jsxs)(p7,{className:"max-w-md",children:[(0,P.jsxs)(p8,{children:[(0,P.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-yellow-500/10",children:(0,P.jsx)(bu,{className:"h-8 w-8 text-yellow-500"})}),(0,P.jsx)(p9,{className:"text-center text-2xl",children:"Tr chi  kt thc!"}),(0,P.jsx)(qa,{className:"text-center",children:"Cm n bn  tham gia. Di y l bng xp hng cui cng."})]}),(0,P.jsx)("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:(0,P.jsx)(ox,{players:g,currentPlayerId:k})})]})}),e?(0,P.jsxs)(P.Fragment,{children:[q&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{className:"text-center text-xl font-bold text-yellow-600",children:"Tr chi  kt thc"}),(0,P.jsx)(ox,{players:g}),(0,P.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:(0,P.jsx)(bk,{onClick:s,children:"To phng mi"})})]}),m&&!q&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"flex justify-center gap-2",children:(0,P.jsx)(bk,{onClick:v,variant:"destructive",children:"Kt thc tr chi"})}),(0,P.jsxs)("p",{className:"mt-2 text-center text-lg font-semibold",children:["M phng: ",a]}),(0,P.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["S ngi tham gia: ",(0,P.jsx)("strong",{children:g.length})]}),(0,P.jsx)(ox,{players:g})]}),!m&&!q&&(0,P.jsxs)(bm,{className:"border-2 border-primary/20 shadow-xl",children:[(0,P.jsxs)(bn,{className:"text-center",children:[(0,P.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:(0,P.jsx)(br,{className:"h-8 w-8 text-primary"})}),(0,P.jsx)(bo,{className:"text-2xl",children:"Giao din Admin"}),(0,P.jsx)(bp,{children:"To phng v theo di ngi chi tham gia"})]}),(0,P.jsxs)(bq,{className:"space-y-4 text-center",children:[(0,P.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,P.jsx)(bk,{onClick:s,children:"To phng mi"}),a&&!o&&(0,P.jsx)(bk,{onClick:t,children:"Bt u"}),a&&!o&&(0,P.jsx)(bk,{onClick:u,variant:"destructive",children:"ng phng"})]}),a&&(0,P.jsxs)("p",{className:"mt-2 text-lg font-semibold",children:["M phng: ",a]}),g.length>0&&(0,P.jsxs)("div",{className:"mt-4 space-y-2 border p-2 rounded",children:[(0,P.jsx)("p",{className:"font-medium mb-2",children:"Danh sch ngi tham gia:"}),(0,P.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map((a,b)=>(0,P.jsxs)("span",{className:"inline-flex items-center gap-1 bg-primary/20 dark:bg-primary/30 text-primary px-3 py-1 rounded-full text-sm font-medium",children:[a.name,m&&(0,P.jsxs)("span",{className:"ml-1 text-xs font-normal",children:["(",a.score," im)"]})]},b))})]}),o&&(0,P.jsx)("p",{className:"mt-2 text-red-600 font-semibold",children:"Phng  b ng"})]})]})]}):(0,P.jsxs)(P.Fragment,{children:[!k&&(0,P.jsxs)(bm,{className:"border-2 border-primary/20 shadow-xl",children:[(0,P.jsxs)(bn,{className:"text-center",children:[(0,P.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:(0,P.jsx)(br,{className:"h-8 w-8 text-primary"})}),(0,P.jsx)(bo,{className:"text-2xl",children:"Tham gia tr chi"}),(0,P.jsx)(bp,{children:"Nhp m phng  tham gia cng bn b"})]}),(0,P.jsx)(bq,{className:"space-y-4",children:(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)(bl,{placeholder:"Tn ca bn",value:c,onChange:a=>d(a.target.value)}),(0,P.jsx)(bl,{placeholder:"Nhp m phng...",value:a,onChange:a=>b(a.target.value.toUpperCase()),className:"text-center text-lg font-semibold tracking-widest",maxLength:6}),(0,P.jsx)(bk,{onClick:w,children:"Tham gia"})]})})]}),k&&(0,P.jsx)(P.Fragment,{children:m&&!q?(0,P.jsx)(iC,{roomCode:a,playerId:k}):q?null:(0,P.jsxs)(bm,{className:"border-2 border-primary/20 shadow-xl",children:[(0,P.jsx)(bn,{children:(0,P.jsxs)(bo,{children:["Phng: ",a]})}),(0,P.jsxs)(bq,{className:"space-y-2 max-h-64 overflow-y-auto border p-2 rounded",children:[g.length>0&&(0,P.jsxs)("div",{className:"mt-4 space-y-2 border p-2 rounded",children:[(0,P.jsx)("p",{className:"font-medium mb-2",children:"Danh sch ngi tham gia:"}),(0,P.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map((a,b)=>(0,P.jsxs)("span",{className:"inline-flex items-center gap-1 bg-primary/20 dark:bg-primary/30 text-primary px-3 py-1 rounded-full text-sm font-medium",children:[a.name,m&&(0,P.jsxs)("span",{className:"ml-1 text-xs font-normal",children:["(",a.score," im)"]})]},b))})]}),(o||!m)&&(0,P.jsx)("p",{className:`mt-2 font-semibold ${o?"text-red-600":"text-sm text-muted-foreground"}`,children:o?"Phng  b ng":"Ch admin bt u..."})]})]})})]}),(0,P.jsxs)(bm,{children:[(0,P.jsx)(bn,{children:(0,P.jsxs)(bo,{className:"flex items-center gap-2",children:[(0,P.jsx)(bt,{className:"h-5 w-5 text-primary"}),"Lut chi"]})}),(0,P.jsxs)(bq,{className:"space-y-4",children:[(0,P.jsxs)("div",{className:"flex gap-3 rounded-lg bg-muted/50 p-4",children:[(0,P.jsx)(bs,{className:"h-5 w-5 shrink-0 text-primary"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"font-medium",children:"Thi gian"}),(0,P.jsx)("p",{className:"text-sm text-muted-foreground",children:"15 giy cho mi cu hi"}),(0,P.jsx)("p",{className:"text-sm text-muted-foreground",children:"D kin tr chi s din ra trong 8 pht, tr chi s kt thc khi admin ng phng"})]})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)(a5,{className:"h-5 w-5 shrink-0 text-emerald-500"}),(0,P.jsx)("p",{className:"text-sm",children:"Tr li cc cu hi v lch s Vit Nam t i hi VIII n nay"})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)(a5,{className:"h-5 w-5 shrink-0 text-emerald-500"}),(0,P.jsxs)("div",{className:"text-sm",children:["C ch bc bi:",(0,P.jsxs)("ul",{className:"list-disc ml-5",children:[(0,P.jsx)("li",{children:"Mi ln tr li ng, bn c im da trn thi gian tr li nhanh/chm."}),(0,P.jsxs)("li",{children:["Sau , bn c bc ",(0,P.jsx)("strong",{children:"2 l card"})," t b bi (c th b qua nu khng mun bc thm)."]}),(0,P.jsx)("li",{children:"Mi l card s nh hng trc tip n im s ca bn hoc i th (nhn im, cng/tr im, cp im, mt ton b)"}),(0,P.jsx)("li",{children:"Nu tr li sai, bn khng c im v c th chuyn sang cu hi tip theo."})]})]})]}),(0,P.jsx)(bk,{className:"mt-2",onClick:()=>j(!0),children:"Xem lut cc loi card"})]})]}),(0,P.jsx)(ix,{open:i,onClose:()=>j(!1)})]})}function qc(){let[a,b]=(0,Q.useState)("home");return(0,P.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,P.jsx)(ba,{activeTab:a,setActiveTab:b}),(0,P.jsx)("main",{className:"container mx-auto px-2 py-8",children:"home"===a?(0,P.jsx)(a9,{}):(0,P.jsx)(qb,{})})]})}a.s(["default",()=>qc],60350)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1764f337._.js.map